/*! For license information please see 222.min.js.LICENSE.txt */
"use strict";(self.webpackChunkpost_expirator=self.webpackChunkpost_expirator||[]).push([[222],{1222:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Xc});var r=n(1386),o=n(1965),a=n(6942),i=n.n(a),l=n(7562),c=n(9832),s=n(6123),u=n(1967),d=n(403),p=n(5438),f=n(5447),m=n(7199),b=n(2214),v=n(4458);function y(e){var t=e.children,n=e.size;return React.createElement("span",{className:"publishpress-icon",style:{width:"".concat(n,"px"),height:"".concat(n,"px"),display:"inline-block"}},t)}function g(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",role:"img",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M2.227 4.857A2.228 2.228 0 000 7.094v7.457c0 1.236 1.001 2.237 2.237 2.237h9.253l4.229 2.355-.962-2.355h7.006c1.236 0 2.237-1 2.237-2.237V7.094c0-1.236-1-2.237-2.237-2.237zm8.08 1.311c.194.002.372.071.535.2a.769.769 0 01.304.56.851.851 0 01-.098.47c-.382.707-.696 1.894-.951 3.542-.246 1.6-.334 2.846-.275 3.739.02.245-.02.46-.118.647a.632.632 0 01-.52.353c-.255.02-.52-.098-.775-.362-.913-.933-1.639-2.326-2.169-4.18a184.085 184.085 0 00-1.413 2.825c-.578 1.11-1.069 1.678-1.481 1.708-.265.02-.49-.206-.687-.677-.5-1.286-1.04-3.768-1.619-7.448-.03-.255.02-.48.157-.657.137-.186.344-.284.618-.304.5-.04.785.196.854.706.304 2.051.638 3.788.991 5.21L5.809 8.41c.196-.373.441-.57.736-.589.431-.03.696.245.804.824.246 1.305.56 2.414.932 3.356.255-2.492.687-4.288 1.295-5.397.148-.274.363-.412.648-.431a.866.866 0 01.084-.004zm3.734 1.063c.167 0 .343.02.53.06.687.146 1.216.52 1.57 1.137.314.53.47 1.168.47 1.933 0 1.011-.254 1.933-.765 2.777-.588.981-1.354 1.472-2.305 1.472-.167 0-.344-.02-.53-.059-.697-.147-1.217-.52-1.57-1.138-.314-.54-.471-1.187-.471-1.943 0-1.01.255-1.933.765-2.767.599-.981 1.364-1.472 2.306-1.472zm6.152 0c.167 0 .343.02.53.06.696.146 1.216.52 1.57 1.137.314.53.47 1.168.47 1.933 0 1.011-.254 1.933-.765 2.777-.588.981-1.354 1.472-2.305 1.472-.167 0-.344-.02-.53-.059-.697-.147-1.217-.52-1.57-1.138-.314-.54-.471-1.187-.471-1.943 0-1.01.255-1.933.765-2.767.599-.981 1.364-1.472 2.306-1.472zm-6.107 1.645c-.307-.002-.606.201-.889.622a3.173 3.173 0 00-.52 1.168c-.05.225-.069.47-.069.716 0 .284.06.589.177.893.147.382.343.589.579.638.245.049.51-.06.795-.315.363-.323.608-.804.745-1.452.05-.225.069-.47.069-.726a2.49 2.49 0 00-.176-.893c-.148-.382-.344-.588-.58-.637a.714.714 0 00-.131-.014zm6.152 0c-.307-.002-.606.201-.889.622a3.173 3.173 0 00-.52 1.168c-.049.225-.069.47-.069.716 0 .284.06.589.177.893.147.382.344.589.579.638.245.049.51-.06.795-.315.363-.323.608-.804.745-1.452.04-.225.07-.47.07-.726a2.49 2.49 0 00-.177-.893c-.148-.382-.344-.588-.58-.637a.714.714 0 00-.131-.014Z"})))}function h(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"})))}function w(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M256 0c53 0 96 43 96 96v3.6c0 15.7-12.7 28.4-28.4 28.4H188.4c-15.7 0-28.4-12.7-28.4-28.4V96c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4H312c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H416c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6V240c0-8.8-7.2-16-16-16s-16 7.2-16 16V479.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96.3c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"})))}function _(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1.1",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M8 0c-4.418 0-8 1.119-8 2.5v2c0 1.381 3.582 2.5 8 2.5s8-1.119 8-2.5v-2c0-1.381-3.582-2.5-8-2.5z"}),React.createElement("path",{d:"M8 8.5c-4.418 0-8-1.119-8-2.5v3c0 1.381 3.582 2.5 8 2.5s8-1.119 8-2.5v-3c0 1.381-3.582 2.5-8 2.5z"}),React.createElement("path",{d:"M8 13c-4.418 0-8-1.119-8-2.5v3c0 1.381 3.582 2.5 8 2.5s8-1.119 8-2.5v-3c0 1.381-3.582 2.5-8 2.5z"})))}function E(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M16 3h5v5"}),React.createElement("path",{d:"M8 3h-5v5"}),React.createElement("path",{d:"M21 3l-7.536 7.536a5 5 0 0 0 -1.464 3.534v6.93"}),React.createElement("path",{d:"M6 6.01v-.01"}),React.createElement("path",{d:"M8 8.02v-.01"}),React.createElement("path",{d:"M10 10v.01"})))}function S(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M437.332 80H74.668C51.199 80 32 99.198 32 122.667v266.666C32 412.802 51.199 432 74.668 432h362.664C460.801 432 480 412.802 480 389.333V122.667C480 99.198 460.801 80 437.332 80zM432 170.667L256 288 80 170.667V128l176 117.333L432 128v42.667z"})))}function x(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M20 2H4c-1.103 0-2 .894-2 1.992v12.016C2 17.106 2.897 18 4 18h3v4l6.351-4H20c1.103 0 2-.894 2-1.992V3.992A1.998 1.998 0 0 0 20 2zm-6 11H7v-2h7v2zm3-4H7V7h10v2z"})))}function R(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M32 464h448L256 48 32 464zm248-64h-48v-48h48v48zm0-80h-48v-96h48v96z"})))}function k(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),React.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})))}function O(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 0 0 3 3.5v13A1.5 1.5 0 0 0 4.5 18h11a1.5 1.5 0 0 0 1.5-1.5V7.621a1.5 1.5 0 0 0-.44-1.06l-4.12-4.122A1.5 1.5 0 0 0 11.378 2H4.5Zm2.25 8.5a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Zm0 3a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z",clipRule:"evenodd"})))}function A(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7C13.4477 7 13 7.44772 13 8V16C13 16.5523 13.4477 17 14 17H18C18.5523 17 19 16.5523 19 16V8C19 7.44772 18.5523 7 18 7H14ZM17 9H15V15H17V9Z",fill:"currentColor"}),React.createElement("path",{d:"M6 7C5.44772 7 5 7.44772 5 8C5 8.55228 5.44772 9 6 9H10C10.5523 9 11 8.55228 11 8C11 7.44772 10.5523 7 10 7H6Z",fill:"currentColor"}),React.createElement("path",{d:"M6 11C5.44772 11 5 11.4477 5 12C5 12.5523 5.44772 13 6 13H10C10.5523 13 11 12.5523 11 12C11 11.4477 10.5523 11 10 11H6Z",fill:"currentColor"}),React.createElement("path",{d:"M5 16C5 15.4477 5.44772 15 6 15H10C10.5523 15 11 15.4477 11 16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16Z",fill:"currentColor"}),React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C2.34315 3 1 4.34315 1 6V18C1 19.6569 2.34315 21 4 21H20C21.6569 21 23 19.6569 23 18V6C23 4.34315 21.6569 3 20 3H4ZM20 5H4C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18V6C21 5.44772 20.5523 5 20 5Z",fill:"currentColor"})))}function C(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 192 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"})))}function T(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"})))}function P(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 576 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"})))}function N(e){var t=e.size,n=void 0===t?16:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6M13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6"})))}function j(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04 10h2.58l.65 1H2.54l-.5-.5v-9l.5-.5h12l.5.5v4.77l-1-1.75V2h-11v8zm5.54 1l-1.41 3.47h2.2L15 8.7 14.27 7h-1.63l.82-1.46L12.63 4H9.76l-.92.59-2.28 5L7.47 11h1.11zm1.18-6h2.87l-1.87 3h3.51l-5.76 5.84L10.2 10H7.47l2.29-5zM6.95 7H4.04V6H7.4l-.45 1zm-.9 2H4.04V8H6.5l-.45 1z"})))}function D(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M5.76282 17H20V5H4V18.3851L5.76282 17ZM6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM11 14H13V16H11V14ZM8.56731 8.81346C8.88637 7.20919 10.302 6 12 6C13.933 6 15.5 7.567 15.5 9.5C15.5 11.433 13.933 13 12 13H11V11H12C12.8284 11 13.5 10.3284 13.5 9.5C13.5 8.67157 12.8284 8 12 8C11.2723 8 10.6656 8.51823 10.5288 9.20577L8.56731 8.81346Z"})))}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return(t=function(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W=function(e){var t,n=e.icon,r=e.showColors,o=void 0!==r&&r,a=e.className,l=e.iconSize,c=void 0===l?20:l,s=e.onClick,u=void 0===s?function(){}:s,d=e.style,p=void 0===d?{}:d;switch((null===(t=n)||void 0===t?void 0:t.src)||n){case"block-default":n={src:v.A};break;case"document":case"media-document":n={src:O};break;case"users":n={src:h};break;case"woo":n={src:g};break;case"debug":n={src:w};break;case"db-query":n={src:_};break;case"route":n={src:E};break;case"email":n={src:S};break;case"message":n={src:x};break;case"error":n={src:"warning"};break;case"warning":n={src:R};break;case"schedule":n={src:k};break;case"info":n={src:"info"};break;case"arrow-down":n={src:"arrow-down"};break;case"website":n={src:A};break;case"exclamation":n={src:C};break;case"lock":n={src:T};break;case"shop":n={src:P};break;case"braces":n={src:N};break;case"action":n={src:j};break;case"interactive":n={src:D}}var f=i()(a,"node-icon",{"has-colors":o}),m=React.createElement(b.Icon,{icon:n&&n.src?n.src:n,size:c}),y=o?L(L({},p),{},{backgroundColor:n&&n.background,color:n&&n.foreground}):p;return React.createElement("span",{style:y,className:f,onClick:u},m)};var V=n(8269);function U(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M96 52v408l320-204L96 52z"})))}var z="future-workflow-editor/workflow",B="future-workflow-editor/node-edge",H=(0,r.createContext)({isPro:!1}),G=function(e){var t=e.children,n=(0,l.useSelect)((function(e){return e(s.M_).isPro()}),[]),o=(0,r.useMemo)((function(){return{isPro:n}}),[n]);return React.createElement(H.Provider,{value:o},t)},q=function(){return function(){var e=(0,r.useContext)(H);if(void 0===e)throw new Error("useProContext must be used within a ProFeaturesProvider");return e}().isPro},$=n(8678),K=n.n($),J=n(3739);const Q=(0,r.memo)((function(e){var t,n=e.id,o=e.data,a=e.isConnectable,i=e.selected,d=e.nodeTypeIcon,p=(0,l.useSelect)((function(e){var t=e(c.M).getNodeErrors(n),r=e(c.M).getSelectedElementsCount();return{nodeHasErrors:Object.keys(t).length>0,isAdvancedSettingsEnabled:!0,isSingularElementSelected:1===r,getNodeTypeByName:e(s.M_).getNodeTypeByName}})),f=p.nodeHasErrors,v=p.isAdvancedSettingsEnabled,y=p.isSingularElementSelected,g=p.getNodeTypeByName,h=(0,u.PF)(),w=q(),_=(0,l.useDispatch)(c.M).removeNode,E=(0,l.useDispatch)(s.M_).openGeneralSidebar,S=(0,r.useRef)(),x=(0,r.useRef)(),R=g(o.name);R&&R.handleSchema||(R={id:Math.floor(1e6*Math.random()),type:"generic",elementaryType:"action",name:o.name,label:sprintf((0,V.__)("Unknown node: %s","post-expirator"),o.name),description:(0,V.__)("This is a placeholder node for a node that does not exist.","post-expirator"),baseSlug:"deletePost",initiatlAttributes:[],category:"post",disabled:!1,isDisabled:!1,frecency:1,icon:{src:"media-document",background:"#ffffff",foreground:"#1e1e1e"},version:1,settingsSchema:[],outputSchema:[{name:"input",type:"input",label:"Step input",description:"The input data for this step."}],className:"react-flow__node-unknownNode",handleSchema:{target:[{id:"input",left:"50%"}],source:[{id:"output",left:"50%",label:"Next"}]},isProFeature:!1,validationSchema:{connections:{rules:[]},settings:{rules:[]}}});var k,O,A=null==o?void 0:o.label,C=R.label||(0,V.__)("Node","post-expirator"),T=(null===(t=R)||void 0===t?void 0:t.className)||"react-flow__node-genericNode";if(R.handleSchema&&R.handleSchema.target){var P=(0,J.gu)(R,o,"target");O=Y(P,o),(0,r.useEffect)((function(){if(S.current!==O.length){S.current=O.length;var e=new CustomEvent(m.so,{detail:{nodeId:n,handlesCount:O.length,handles:O,originalHandles:P,type:"target"}});document.dispatchEvent(e),h(n)}}),[O,h]),k=O.map((function(e,t){var n=X(t,O.length);return null!=e&&e.id?React.createElement(u.h7,{key:e.id+"_target",type:"target",position:u.yX.Top,id:e.id,style:{left:"".concat(n)},isConnectable:a,className:"handle-target-"+e.id}):null}))}var N=null,j=null;if(R.handleSchema&&R.handleSchema.source){var D=(0,J.gu)(R,o,"source");O=Y(D,o),(0,r.useEffect)((function(){if(S.current!==O.length){S.current=O.length;var e=new CustomEvent(m.so,{detail:{nodeId:n,handlesCount:O.length,handles:O,originalHandles:D,type:"source"}});document.dispatchEvent(e),h(n)}x.current&&x.current.some((function(e,t){var n=O[t];return!n||e.id!==n.id}))&&(x.current=O,h(n)),x.current||(x.current=O)}),[O,h]),N=O.map((function(e,t){var n=X(t,O.length);return null!=e&&e.id?React.createElement(u.h7,{key:e.id+"_source",type:"source",position:u.yX.Bottom,id:e.id,style:{left:"".concat(n)},isConnectable:a,className:"handle-source-"+e.id}):null})),j=O.map((function(e){return null!=e&&e.id?React.createElement("div",{key:e.id+"handleArea",className:"react-flow__node-handle-name handle-area-source-"+e.id},e.label):null}))}var I=(0,V.__)("Step","post-expirator");"action"===o.elementaryType?I=(0,V.__)("Action","post-expirator"):"advanced"===o.elementaryType?I=(0,V.__)("Advanced","post-expirator"):"trigger"===o.elementaryType&&(I=(0,V.__)("Trigger","post-expirator"));var M=[];d||(d=React.createElement(U,{size:8}));var L=(0,r.useRef)(null);return(0,r.useEffect)((function(){i&&y&&setTimeout((function(){jQuery(L.current.parentNode).focus()}),100)}),[i,y]),React.createElement(React.Fragment,null,i&&y&&React.createElement(React.Fragment,null,React.createElement(b.Popover,{placement:"top-start",offset:14},React.createElement(b.Toolbar,{label:(0,V.__)("Step actions","post-expirator"),className:"components-accessible-toolbar block-editor-block-contextual-toolbar react-flow__node-toolbar"},React.createElement(b.ToolbarGroup,null,React.createElement(b.ToolbarButton,{icon:"trash",label:(0,V.__)("Delete","post-expirator"),onClick:function(){_(n)},accessibleWhenDisabled:!0}))))),React.createElement("div",{className:"react-flow__node-body "+T,onDoubleClick:function(){y&&E(B)},ref:L},k,React.createElement("div",{className:"react-flow__node-top"},d,I,": ",React.createElement("span",{className:"node-slug"},o.slug)),React.createElement("div",{className:A?"react-flow__node-inner-body with-description":"react-flow__node-inner-body"},(f||R.isProFeature&&!w)&&React.createElement("div",{className:"react-flow__node-marker-wrapper"},R.isProFeature&&!w&&React.createElement("div",{className:"react-flow__node-pro-badge",title:(0,V.__)("Currently this step is being skipped. Upgrade to Pro to unlock this feature.","post-expirator")},React.createElement(W,{icon:"lock",iconSize:8})),f&&React.createElement("div",{className:"react-flow__node-error",title:(0,V.__)("This node has errors","post-expirator")},React.createElement(W,{icon:"exclamation",iconSize:8}))),React.createElement("div",{className:"react-flow__node-header"},React.createElement(W,{icon:R.icon.src,iconSize:14}),React.createElement("div",{className:"react-flow__node-label"},C)),A&&React.createElement("div",{className:"react-flow__node-description"},A),v&&M.length>0&&React.createElement("div",{className:"react-flow__node-content"},React.createElement("table",null,React.createElement("tbody",null,M.map((function(e){return React.createElement("tr",{key:"attribute_"+e.id},React.createElement("th",null,e.label),React.createElement("td",null,e.value))})))))),React.createElement("div",{className:"react-flow__node-handle-area"},j),N))}));function Y(e,t){return null==e?void 0:e.filter((function(e){return null==e||!e.conditions||K().apply(e.conditions,t.settings)}))}function X(e,t){var n=function(e){return 100/e/2}(t);return"".concat(n+100/t*e,"%")}var Z=n(3018);function ee(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("polygon",{fill:"none",strokeWidth:"2",points:"4 14 10 14 7 23 9 23 20 9 14 9 18 1 7 1"})))}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(null,arguments)}var ne=(0,r.memo)((function(e){var t=React.createElement(ee,{size:8});return React.createElement(Q,te({},e,{nodeTypeIcon:t}))}));const re=ne;var oe=n(9517),ae=n.n(oe),ie=n(6084),le=n.n(ie),ce=n(6321);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e){var t=e.trim();return t.startsWith("{{")&&t.endsWith("}}")}const de=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var t=(0,l.useSelect)((function(e){return{nodes:e(c.M).getNodes(),edges:e(c.M).getEdges(),getNodeTypeByName:e(s.M_).getNodeTypeByName,globalVariables:e(c.M).getGlobalVariables()}})),n=t.nodes,o=t.edges,a=t.getNodeTypeByName,i=t.globalVariables,u=(0,l.useDispatch)(c.M),d=u.addNodeError,p=u.resetNodeErrors,f=(0,r.useMemo)((function(){return n.map((function(e){return e.data.slug}))}),[n]),m=(0,r.useCallback)((function(e,t,n){var r,o,a={isValid:!0,error:null};if(null!==(r=t)&&void 0!==r&&r.rule&&null!==(o=t)&&void 0!==o&&o.dataType)return a;if("object"!==se(t)&&(t=[t]),null!=n&&n.skipIfEmpty){if(""===t)return a;if(Array.isArray(t)&&0===t.length)return a;if("object"===se(t)&&0===Object.keys(t).length)return a}var l=(0,J.Ed)(e,i);null!=n&&n.dataType&&(Array.isArray(n.dataType)||(n.dataType=[n.dataType]),l=(0,J.JA)(l,n.dataType));for(var c,s=!0,u="",d=function(){var e=t[p].trim();if(!e.startsWith("{{"))return 0;if(!e.endsWith("}}"))return u=e,s=!1,1;var n=!1;return l.forEach((function(t){t.id===e&&(n=!0)})),n?void 0:(s=!1,u=e,1)},p=0;p<t.length&&(0===(c=d())||1!==c);p++);return s?a:{isValid:!1,error:(0,V.sprintf)((0,V.__)('The field "%s" contains an invalid variable.',"post-expirator"),null==n?void 0:n.fieldLabel),details:(0,V.sprintf)((0,V.__)('The variable "%s" is not available in the current context. Please, check if it is spelled correctly.',"post-expirator"),u)}}),[i,J.Ed,J.JA,a]),b=(0,r.useCallback)((function(e,t){var n=!1,r="",o={isValid:!0,error:null};if(null==e||!e.includes("{{"))return o;if("{{input}}"===e)return o;var a=e.match(/{{[^}]+}}/g);a&&a.forEach((function(e){var a,i=(e=(e=(e=(e=e.replace("{{","").replace("}}","")).trim()).split(" ")).length>1?e[1]:e[0]).split(".")[0];return"global"===i||null!=t&&null!==(a=t.allowedVariables)&&void 0!==a&&a.includes(i)?o:void(f.includes(i)||(n=!0,r=(0,V.sprintf)((0,V.__)('"%s" is not a variable or step slug.',"post-expirator"),i)))})),e.includes("{{}}")&&(n=!0,r=(0,V.__)("Empty placeholder is not allowed.","post-expirator"));var i=function(e){return(e.match(/{{/g)||[]).length},l=function(e){return(e.match(/}}/g)||[]).length};return i(e)>l(e)&&(n=!0,r=(0,V.__)("Unclosed placeholder are not allowed.","post-expirator")),i(e)<l(e)&&(n=!0,r=(0,V.__)("Unopened placeholder are not allowed.","post-expirator")),n?{isValid:!1,error:(0,V.sprintf)((0,V.__)("Invalid expression on %s","post-expirator"),null==t?void 0:t.fieldLabel),details:r}:o}),[f]),v=(0,r.useCallback)((function(e,t){if(!Array.isArray(e))return{isValid:!1,error:(0,V.sprintf)((0,V.__)("The field %s must be a list of options.","post-expirator"),null==t?void 0:t.fieldLabel)};var n=!1;0===e.length&&(n=!0);var r="",o=0,a=[],i=[];return e.forEach((function(e){var t;o++,null!==(t=e.name)&&void 0!==t&&t.trim()||(n=!0,r=(0,V.sprintf)((0,V.__)('The option "%s" does not have a name.',"post-expirator"),o)),e.label.trim()||(n=!0,r=(0,V.sprintf)((0,V.__)('The option "%s" does not have a label.',"post-expirator"),o)),a.includes(e.name)&&(n=!0,r=(0,V.sprintf)((0,V.__)('The option "%s" has a duplicate name.',"post-expirator"),e.name)),i.includes(e.label)&&(n=!0,r=(0,V.sprintf)((0,V.__)('The option "%s" has a duplicate label.',"post-expirator"),e.label)),a.push(e.name),i.push(e.label)})),n?{isValid:!1,error:(0,V.sprintf)((0,V.__)("The field %s must be a valid list of options.","post-expirator"),null==t?void 0:t.fieldLabel),details:r}:{isValid:!0,error:null}}),[]),y=(0,r.useCallback)((function(e,t,n){e.forEach((function(e){var t,n,r,o,i=a(null===(t=e.data)||void 0===t?void 0:t.name),l=(null===(n=e.data)||void 0===n?void 0:n.settings)||{},c=null==i?void 0:i.settingsSchema,s=null==i?void 0:i.validationSchema;p(e.id),s&&(null!=s&&null!==(r=s.connections)&&void 0!==r&&r.rules&&s.connections.rules.forEach((function(t){switch(t.rule){case"hasIncomingConnection":(0,J.Nr)(e)||d(e.id,"no-incomers",(0,V.__)("This step requires a connection from a previous step.","post-expirator"));break;case"hasOutgoingConnection":(0,J.Zu)(e)||d(e.id,"no-outgoers",(0,V.__)("This step requires a connection to a following step.","post-expirator"));break;case"hasIncomerOfName":var n=(0,J.y7)(e),r=!1;if(0===n.length)r=!0;else{var o=!1;n.forEach((function(e){var n;(null===(n=e.data)||void 0===n?void 0:n.name)===t.name&&(o=!0)})),r=!o}r&&d(e.id,"parent-name",t.message)}})),null!=s&&null!==(o=s.settings)&&void 0!==o&&o.rules&&s.settings.rules.forEach((function(t){for(var n,r,o=t.rule,a=(null==t?void 0:t.field)||"",i=(null==a?void 0:a.split("."))||[],s=(null==t?void 0:t.label)||(null===(n=c.find((function(e){return null==e?void 0:e.fields.find((function(e){return e.name===i[0]}))})))||void 0===n?void 0:n.label),u=l,p=0;p<i.length;p++){var f;u=null===(f=u)||void 0===f?void 0:f[i[p]]}switch(o){case"required":if(null!=t&&t.condition){for(var y=t.condition.field,g=t.condition.value,h=l,w=0;w<y.split(".").length;w++){var _;h=null===(_=h)||void 0===_?void 0:_[y.split(".")[w]]}h!=g||u&&""!=u||d(e.id,"".concat(a,"-required-if"),(0,V.sprintf)((0,V.__)("The field %s is required.","post-expirator"),s))}else if(""===(r=u)||null==r||Array.isArray(r)&&0===r.length||"object"===se(r)&&r.rule){d(e.id,"".concat(a,"-required"),(0,V.sprintf)((0,V.__)("The field %s is required.","post-expirator"),s));break}break;case"dataType":var E=t.type;if(null==u||""===u)return;if("email"===E)ae()(u)||d(e.id,"".concat(a,"-email"),(0,V.sprintf)((0,V.__)("The field %s must be a valid email address.","post-expirator"),s));else if("emailList"===E){for(var S,x=u.split(","),R=0;R<x.length;R++)if(S=x[R].trim(),!ae()(S)&&!ue(S)){d(e.id,"".concat(a,"-emailList"),(0,V.sprintf)((0,V.__)("The field %s must be a valid email address list separated by commas.","post-expirator"),s));break}}else if("integer"===E)le()(u)||d(e.id,"".concat(a,"-integer"),(0,V.sprintf)((0,V.__)("The field %s must be an integer.","post-expirator"),s));else if("integerList"===E){for(var k,O=0;O<u.length;O++)if(k=u[O].trim(),!le()(k)){d(e.id,"".concat(a,"-integerList"),(0,V.sprintf)((0,V.__)("The field %s must be an integer list separated by commas.","post-expirator"),s));break}}else if("nameValuePairList"===E){if(!u)return;var A=t.field;if(!u[A])return;Array.isArray(u[A])||d(e.id,"".concat(a,"-nameValuePairList"),(0,V.sprintf)((0,V.__)("The field %s must be a list of name-value pairs.","post-expirator"),s)),u[A].forEach((function(t,n){""===(null==t?void 0:t.name)&&d(e.id,"".concat(a,"-nameValuePairList"),(0,V.sprintf)((0,V.__)("The field %s must be a list of name-value pairs.","post-expirator"),s),(0,V.sprintf)((0,V.__)("The name of the pair is required on item %d.","post-expirator"),n+1)),""===(null==t?void 0:t.value)&&d(e.id,"".concat(a,"-nameValuePairList"),(0,V.sprintf)((0,V.__)("The field %s must be a list of name-value pairs.","post-expirator"),s),(0,V.sprintf)((0,V.__)("The value of the pair is required on item %d.","post-expirator"),n+1))}))}break;case"validVariable":var C=m(e,u,t);C.isValid||d(e.id,"".concat(a,"-validVariable"),C.error,C.details);break;case"validExpression":var T=b(u,t);T.isValid||d(e.id,"".concat(a,"-validExpression"),T.error,T.details);break;case"validOptions":Array.isArray(u)||d(e.id,"".concat(a,"-validOptions"),(0,V.sprintf)((0,V.__)("The field %s must be a list of options.","post-expirator"),s));var P=v(u,t);P.isValid||d(e.id,"".concat(a,"-validOptions"),P.error,P.details)}})))}))}),[a,d,p,b]),g=(0,ce.A)((function(e,t,n){y(e,t,n)}),250);(0,r.useEffect)((function(){return g(n,o,f),function(){g.cancel()}}),[n,o,f,g])};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e){if("object"!=pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ye=function(e){var t,n,r=e.id,o=e.sourceX,a=e.sourceY,i=e.targetX,s=e.targetY,d=e.sourcePosition,p=e.targetPosition,f=e.style,m=void 0===f?{}:f,v=e.selected,y=e.markerEnd,g=(0,l.useSelect)((function(e){return{isSingularElementSelected:1===e(c.M).getSelectedElementsCount()}})).isSingularElementSelected,h=(0,l.useDispatch)(c.M).removeEdge,w=(t=(0,u.Fp)({sourceX:o,sourceY:a,sourcePosition:d,targetX:i,targetY:s,targetPosition:p}),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=w[0],E=w[1],S=w[2],x=me(me({},m),{},{strokeWidth:2});return React.createElement(React.Fragment,null,React.createElement(u.tE,{path:_,markerEnd:y,style:x,animated:!1}),v&&g&&React.createElement(u.rV,null,React.createElement("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(E,"px,").concat(S,"px)"),fontSize:12,pointerEvents:"all"},className:"nodrag nopan react-flow__edge-toolbar-anchor"},React.createElement(b.Popover,{position:"top"},React.createElement(b.Toolbar,{className:"components-accessible-toolbar block-editor-block-contextual-toolbar react-flow__edge-toolbar"},React.createElement(b.ToolbarGroup,null,React.createElement(b.ToolbarButton,{icon:"trash",title:(0,V.__)("Delete","web-stories"),onClick:function(){h(r)}})))))))};var ge=n(5378),he=n.n(ge),we=n(9870),_e=n.n(we),Ee=n(2013),Se=n.n(Ee),xe=n(2877),Re=n.n(xe),ke=n(4944),Oe=n(542),Ae=n(9223);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(null,arguments)}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Pe=(0,r.forwardRef)((function(e,t){var n,o,a=(n=(0,r.useState)(!1),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(n,o)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],l=a[1];return(0,r.useEffect)((function(){i&&(0,Ae.L)((0,V.__)("Use left and right arrow keys to move through steps","post-expirator"))}),[i]),React.createElement("div",Ce({ref:t,role:"listbox","aria-orientation":"horizontal",onFocus:function(){l(!0)},onBlur:function(e){!e.currentTarget.contains(e.relatedTarget)&&l(!1)}},e))}));function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(null,arguments)}const je=(0,r.forwardRef)((function(e,t){return React.createElement(b.Composite.Group,Ne({role:"presentation",ref:t},e))}));function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}var Ie=["isFirst","as","children"];function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(null,arguments)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return(t=function(e){var t=function(e){if("object"!=De(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==De(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ve=(0,r.forwardRef)((function(e,t){var n=e.isFirst,r=e.as,o=e.children,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ie);return React.createElement(b.Composite.Item,Me({ref:t,role:"option",accessibleWhenDisabled:!0},a,{render:function(e){var t=Fe(Fe({},e),{},{tabIndex:n?0:e.tabIndex});return r?React.createElement(r,t,o):"function"==typeof o?o(t):React.createElement(b.Button,Me({__next40pxDefaultSize:!0},t),o)}}))})),Ue=function(e){var t=e.children;return React.createElement(b.Composite,{focusShift:!0,focusWrap:"horizontal",render:React.createElement(React.Fragment,null)},t)};function ze(e){var t=e.node,n=e.icon;return React.createElement("div",{className:"block-editor-block-draggable-chip-wrapper"},React.createElement("div",{className:"block-editor-block-draggable-chip"},React.createElement(b.Flex,{justify:"center",className:"block-editor-block-draggable-chip__content"},React.createElement(b.FlexItem,null,n?React.createElement(W,{icon:n}):(0,V.sprintf)((0,V._n)("%d block","%d blocks",count,"post-expirator"),count)),React.createElement(b.FlexItem,null,t.label))))}const Be=function(e){var t=e.isEnabled,n=e.node,r=e.icon,o=e.children,a={type:"node",node:n};return React.createElement(b.Draggable,{__experimentalTransferDataType:"node",transferData:a,__experimentalDragComponent:React.createElement(ze,{node:n,icon:r})},(function(e){var n=e.onDraggableStart,r=e.onDraggableEnd;return o({draggable:t,onDragStart:t?n:void 0,onDragEnd:t?r:void 0})}))};var He=["className","isFirst","item","onSelect","onHover","isDraggable"];function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(null,arguments)}const qe=(0,r.memo)((function(e){var t=e.className,n=e.isFirst,o=e.item,a=e.onSelect,l=e.onHover,c=e.isDraggable,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,He),u=(0,r.useRef)(!1),d=o.icon?{backgroundColor:o.icon.background,color:o.icon.foreground}:{},p=(0,r.useMemo)((function(){return o}),[o.id,o.label,o.icon,o.disabled]),f=q(),b=i()("block-editor-block-types-list__list-item",o.isProFeature&&!f?"is-pro-feature":"");return React.createElement(Be,{isEnabled:c&&!o.disabled,node:p,icon:o.icon},(function(e){var r=e.draggable,c=e.onDragStart,p=e.onDragEnd;return React.createElement("div",{className:b,draggable:r,onDragStart:function(e){u.current=!0,e.dataTransfer.setData(m.Qc,JSON.stringify(o)),c&&(l(null),c(e))},onDragEnd:function(e){u.current=!1,p&&p(e)}},React.createElement(Ve,Ge({isFirst:n,className:i()("block-editor-block-types-list__item",t),disabled:o.isDisabled,onClick:function(e){e.preventDefault(),a(o,(0,J.Hh)()?e.metaKey:e.ctrlKey),l(null)},onKeyDown:function(e){e.keyCode===Oe.Fm&&(e.preventDefault(),a(o,(0,J.Hh)()?e.metaKey:e.ctrlKey),l(null))},onFocus:function(){u.current||l(o)},onMouseEnter:function(){u.current||l(o)},onMouseLeave:function(){return l(null)},onBlur:function(){return l(null)}},s),React.createElement("span",{className:"block-editor-block-types-list__item-icon",style:d},React.createElement(W,{icon:o.icon,showColors:!0})),o.isProFeature&&!f&&React.createElement("span",{className:"block-editor-block-types-list__item-pro-badge"},"Pro"),React.createElement("span",{className:"block-editor-block-types-list__item-title"},o.label)))}))})),$e=function(e){var t=e.items,n=void 0===t?[]:t,r=e.onSelect,o=e.onHover,a=void 0===o?function(){}:o,i=e.children,l=e.label,c=e.isDraggable,s=void 0===c||c;return React.createElement(Pe,{className:"block-editor-block-types-list","aria-label":l},function(e){for(var t=[],n=0,r=e.length;n<r;n+=3)t.push(e.slice(n,n+3));return t}(n).map((function(e,t){return React.createElement(je,{key:t},e.map((function(e,n){return React.createElement(qe,{key:e.id+t+n,item:e,className:(0,J.K)(e.id),onSelect:r,onHover:a,isDraggable:s,isFirst:0===t&&0===n})})))})),i)},Ke=function(e){var t=e.title,n=(e.icon,e.children);return React.createElement(React.Fragment,null,React.createElement("div",{className:"block-editor-inserter__panel-header"},React.createElement("h2",{className:"block-editor-inserter__panel-title"},t)),React.createElement("div",{className:"block-editor-inserter__panel-content"},n))};var Je=function(e){var t=e.items,n=e.categories,o=e.onSelect,a=e.onHover,i=e.showMostUsedNodes,l=(0,r.useMemo)((function(){return Re()(t,["frecency"],["desc"]).slice(0,6)}),[t]),c=(0,r.useMemo)((function(){return _e()((function(e){return e.filter((function(e){return e.category&&"reusable"!==e.category}))}),(function(e){return Se()(e,"category")}))(t)}),[t]);(0,r.useEffect)((function(){return function(){return a?a(null):null}}),[]);var s=function(e){o&&o(e)},u=(0,ke.A)(n);return React.createElement(Ue,null,React.createElement("div",null,i&&l.length>0&&React.createElement(Ke,{title:(0,V._x)("Most used","nodes","post-expirator")},React.createElement($e,{items:l,onSelect:s,onHover:a,label:(0,V._x)("Most used","nodes","post-expirator")})),he()(u,(function(e){var t=c[e.name];return t&&t.length?React.createElement(Ke,{key:e.name,title:e.label,icon:e.icon},React.createElement($e,{items:t,onSelect:s,onHover:a,label:e.label})):null}))))},Qe=n(2193),Ye=n.n(Qe),Xe=n(828),Ze=n.n(Xe),et=n(4889),tt=n.n(et),nt=n(7309),rt=n.n(nt),ot=n(6645),at=n.n(ot);function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){if(e){if("string"==typeof e)return ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var st=function(e){return e.name||""},ut=function(e){return e.label},dt=function(e){return e.description||""},pt=function(e){return e.keywords||[]},ft=function(e){return e.category};function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=Ze()(e)).replace(/^\//,"")).toLowerCase()}var bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return at()(mt(e))};function vt(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.getName,l=void 0===i?st:i,c=a.getTitle,s=void 0===c?ut:c,u=a.getDescription,d=void 0===u?dt:u,p=a.getKeywords,f=void 0===p?pt:p,m=a.getCategory,b=void 0===m?ft:m,v=l(e),y=s(e),g=d(e),h=f(e),w=b(e),_=mt(t),E=mt(y),S=0;if(_===E)S+=30;else if(E.startsWith(_))S+=20;else{var x=[v,y,g].concat((o=h,function(e){if(Array.isArray(e))return ct(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||lt(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[w]).join(" ");0===(n=at()(_),r=x,tt()(n,bt(r),(function(e,t){return t.includes(e)}))).length&&(S+=10)}return 0!==S&&v.startsWith("core/")&&S++,S}var yt=n(7677);function gt(){return React.createElement("div",{className:"block-editor-inserter__no-results"},React.createElement(yt.A,{className:"block-editor-inserter__no-results-icon",icon:v.A}),React.createElement("p",null,(0,V.__)("No results found.","post-expirator")))}function ht(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const _t=function(e){var t=e.filterValue,n=e.onSelect,o=e.onHover,a=e.maxNodeTypes,i=e.isDraggable,c=void 0===i||i,u=e.filterTypes,d=(0,ce.A)(Ae.L,500),p=(0,l.useSelect)((function(e){var t,n=e(s.M_).getActionNodes(),r=e(s.M_).getActionCategories(),o=e(s.M_).getTriggerNodes(),a=e(s.M_).getTriggerCategories(),i=e(s.M_).getAdvancedNodes(),l=e(s.M_).getAdvancedCategories();return t=u&&u.length?[].concat(ht(n.filter((function(e){return u.includes(e.elementaryType)}))),ht(o.filter((function(e){return u.includes(e.elementaryType)}))),ht(i.filter((function(e){return u.includes(e.elementaryType)})))):[].concat(ht(o),ht(n),ht(i)),{nodeTypes:t,nodeTypeCategories:[].concat(ht(r),ht(a),ht(l))}})),f=p.nodeTypes,m=p.nodeTypeCategories,v=(0,r.useMemo)((function(){var e,n,r,o=(e=Re()(f,["frecency"],["desc"]),n=m,0===bt(r=t).length?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===bt(t).length)return e;var r=e.map((function(e){return[e,vt(e,t,n)]})).filter((function(e){return it(e,2)[1]>0}));return r.sort((function(e,t){var n=it(e,2)[1];return it(t,2)[1]-n})),r.map((function(e){return it(e,1)[0]}))}(e,r,{getCategory:function(e){var t;return null===(t=rt()(n,{name:e.category}))||void 0===t?void 0:t.label},getName:function(e){return e.name},getTitle:function(e){return e.label},getDescription:function(e){return e.description},getKeywords:function(e){return e.keywords||[]}}));return void 0!==a?o.slice(0,a):o}),[t,f,m,a]);(0,r.useEffect)((function(){if(t){var e=v.length,n=(0,V.sprintf)((0,V._n)("%d result found.","%d results found.",e,"post-expirator"),e);d(n)}}),[t,d,v]);var y=!Ye()(v);return React.createElement(Ue,null,!y&&React.createElement(gt,null),!!y&&React.createElement(Ke,{title:React.createElement(b.VisuallyHidden,null,(0,V.__)("Nodes","post-expirator"))},React.createElement($e,{items:v,onSelect:n,onHover:o,label:(0,V.__)("Nodes","post-expirator"),isDraggable:c})))};function Et(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})))}function St(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||Rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(e){if("string"==typeof e)return kt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ot=(0,r.memo)((function(e){var t=e.id,n=e.label,o=e.popoverIsOpen,a=void 0!==o&&o,i=e.searchLabel,d=e.elementaryTypes,p=n||"",f=(0,r.useRef)(null),v=(0,r.useRef)(null),y=(0,u.VH)(),g=xt((0,r.useState)(a),2),h=g[0],w=g[1],_=xt((0,r.useState)(""),2),E=_[0],S=_[1],x=(0,l.useSelect)((function(e){var t=e(s.M_).getTriggerNodes(),n=e(s.M_).getActionNodes(),r=e(s.M_).getAdvancedNodes(),o=[];return d?(d.includes(m.b1)&&(o=o.concat(t)),d.includes(m.Fc)&&(o=o.concat(n)),d.includes(m.Pb)&&(o=o.concat(r))):o=[].concat(St(t),St(n),St(r)),{nodes:e(c.M).getNodes(),edges:e(c.M).getEdges(),items:o,categories:e(s.M_).getTriggerCategories(),isSidebarInserterOpen:e(s.M_).isFeatureActive(m.is),draggingFromHandle:e(c.M).getDraggingFromHandle(),getNodeTypeByName:e(s.M_).getNodeTypeByName}})),R=x.nodes,k=x.edges,O=x.items,A=(x.categories,x.isSidebarInserterOpen,x.draggingFromHandle),C=x.getNodeTypeByName,T=(0,l.useDispatch)(c.M),P=T.setEdges,N=T.setDraggingFromHandle,j=T.removePlaceholderNodes,D=(0,l.useDispatch)(s.M_).enableFeature,I=function(e){var t=(0,J.dV)(f.current,R),n={x:t.position.x,y:t.position.y},r=(0,J.nj)({item:e,position:n,reactFlowInstance:y});if(null!=A&&A.sourceId){var o,a,i=C(r.data.name);A.handleType===m.mG?(o=i.handleSchema.target[0].id,a={source:A.sourceId,sourceHandle:A.handleId,target:r.id,targetHandle:o,type:"genericEdge",id:"".concat(A.sourceId,"-").concat(A.handleId,"-").concat(r.id,"-").concat(o),markerEnd:{type:u.TG.ArrowClosed}}):(o=i.handleSchema.source[0].id,a={source:r.id,sourceHandle:o,target:A.sourceId,targetHandle:A.handleId,type:"genericEdge",id:"".concat(r.id,"-").concat(o,"-").concat(A.sourceId,"-").concat(A.handleId),markerEnd:{type:u.TG.ArrowClosed}}),P((0,u.rN)(a,k)),N({sourceId:null,sourceHandle:null,handleType:null})}};return(0,r.useEffect)((function(){f.current||(f.current=t),window.addEventListener("keydown",(function(e){"Escape"!==e.key&&27!==e.keyCode||(w(!1),j())}))}),[]),i||(i=(0,V.__)("Search for steps","post-expirator")),(0,r.useEffect)((function(){var e;h?null===(e=v.current)||void 0===e||e.focus():a&&j()}),[h]),React.createElement(React.Fragment,null,h&&React.createElement(b.Popover,{placement:"bottom-start",offset:14,className:"react-flow__node-inserter-popover"},React.createElement("div",{className:"react-flow__node-inserter-popover-content"},React.createElement(b.SearchControl,{ref:v,className:"block-editor-inserter__search",onChange:function(e){S(e)},value:E,label:(0,V.__)("Search for triggers and steps","post-expirator"),placeholder:(0,V.__)("Search")}),!!E&&React.createElement(_t,{filterValue:E,onSelect:I,filterTypes:d}),!E&&React.createElement("div",{className:"block-editor-inserter__block-list"},React.createElement(Je,{type:m.Dh,onSelect:I,items:O,showMostUsedNodes:!0,categories:[]}))),React.createElement(b.Button,{onClick:function(){D(m.is),j()},className:"react-flow__node-inserter-popover-close"},(0,V.__)("Browse all"))),React.createElement("div",{className:"react-flow__node-body react-flow__node-triggerPlaceholderNode",onClick:function(e){e.stopPropagation(),w(!0)}},React.createElement("div",{className:"react-flow__node-inner-body"},React.createElement("div",{className:"react-flow__node-header"},React.createElement("div",{className:"icon"},React.createElement(Et,{size:12})),React.createElement("div",{className:"react-flow__node-label"},p)))))}));const At=Ot;function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(null,arguments)}var Tt=(0,r.memo)((function(e){return React.createElement(At,Ct({},e,{label:(0,V.__)("Click to add a trigger","post-expirator"),popoverIsOpen:!1,searchLabel:(0,V.__)("Search for triggers and steps","post-expirator"),elementaryTypes:[m.b1]}))}));function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(null,arguments)}const Nt=(0,r.memo)((function(e){var t=(0,l.useSelect)((function(e){return{draggingFromHandle:e(c.M).getDraggingFromHandle()}})).draggingFromHandle.handleType===m.mG?[m.Fc,m.Pb]:[m.b1,m.Fc,m.Pb];return React.createElement(Ot,Pt({},e,{label:(0,V.__)("Add a step","post-expirator"),popoverIsOpen:!0,searchLabel:(0,V.__)("Search for actions","post-expirator"),elementaryTypes:t}))})),jt=function(e){var t=e.onLayout;return(0,r.useEffect)((function(){var e=function(e){var n,r=(null===(n=e.detail)||void 0===n?void 0:n.direction)||Z.rx;t({direction:r})};return document.addEventListener(Z.Ml,e),function(){document.removeEventListener(Z.Ml,e)}}),[t]),null};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return(t=function(e){var t=function(e){if("object"!=Dt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(e){var t=(0,l.useSelect)((function(e){var t=e("core/interface").getActiveComplementaryArea(m.eJ);return{nodes:e(c.M).getNodes(),edges:e(c.M).getEdges(),selectedNodes:e(c.M).getSelectedNodes(),selectedEdges:e(c.M).getSelectedEdges(),activeComplementaryArea:t,hasActiveSideBar:null!==t&&"null/undefined"!==t,initialViewport:e(c.M).getInitialViewport(),isMiniMapFeatureActive:e(s.M_).isFeatureActive(m.s$),isControlsFeatureActive:e(s.M_).isFeatureActive(m.kD),isLoadingWorkflow:e(c.M).isLoadingWorkflow(),isConnectingNodes:e(c.M).isConnectingNodes(),getNodeTypeByName:e(s.M_).getNodeTypeByName,globalVariables:e(c.M).getGlobalVariables()}})),o=t.nodes,a=t.edges,i=t.selectedNodes,b=t.selectedEdges,v=t.hasActiveSideBar,y=t.activeComplementaryArea,g=t.initialViewport,h=t.isMiniMapFeatureActive,w=t.isControlsFeatureActive,_=t.isLoadingWorkflow,E=t.isConnectingNodes,S=t.getNodeTypeByName,x=t.globalVariables,R=(0,l.useDispatch)(c.M),k=R.setNodes,O=R.setEdges,A=R.addNode,C=R.setSelectedNodes,T=R.setSelectedEdges,P=R.removeEdge,N=R.setEditedWorkflowAttribute,j=R.removePlaceholderNodes,D=R.setDraggingFromHandle,I=R.setIsConnectingNodes,M=R.unselectAll,L=(0,l.useDispatch)(s.M_).openGeneralSidebar,F=(0,l.useDispatch)("core/notices").createSuccessNotice,W=(0,r.useRef)(null),U=(0,u.VH)(),H=(0,u.VH)().setViewport,G=(0,r.useRef)(null),q=(0,r.useMemo)((function(){return{generic:Q,trigger:re,triggerPlaceholder:Tt,nodePlaceholder:Nt}}),[]),$=(0,r.useMemo)((function(){return{genericEdge:ye}}),[]),K=(0,r.useCallback)((function(e){var t=e.detail,n=t.nodeId,r=t.handles.map((function(e){return e.id}));(0,l.select)(c.M).getEdges().filter((function(e){return e.source===n&&!r.includes(e.sourceHandle)})).forEach((function(e){P(e.id),C([n])}))}),[]);(0,r.useEffect)((function(){return document.addEventListener(m.so,K),function(){document.removeEventListener(m.so,K)}}),[]);var Y=(0,r.useCallback)((function(){setTimeout((function(){N("flow",U.toObject())}),400)}),[U]);(0,u.bk)({onEnd:function(){Y()}}),(0,r.useEffect)((function(){g&&H(g)}),[g]);var X=(0,r.useCallback)((function(e){k((0,u._0)(e,o)),e.forEach((function(e){var t=(0,J.dV)(e.id,o);t&&se(t)})),Y()}),[o]),ee=(0,r.useCallback)((function(e){O((0,u.zW)(e,a)),Y()}),[a]),te=(0,r.useCallback)((function(e,t){O((0,u.Hp)(e,t,a)),Y()}),[a]),ne=(0,r.useCallback)((function(e){e.source!==e.target&&(e=Mt(Mt({},e),{},{type:"genericEdge",id:"".concat(e.source,"-").concat(e.sourceHandle,"-").concat(e.target,"-").concat(e.targetHandle),markerEnd:{type:u.TG.ArrowClosed}}),O((0,u.rN)(e,a)),se(e.target),Y())}),[a,o,se,Y,O,u.rN]),oe=(0,r.useCallback)((function(e,t){var n=t.nodeId,r=t.handleId,o=t.handleType;G.current=n,D({sourceId:n,handleId:r,handleType:o})}),[]),ae=(0,r.useCallback)((function(e){if(e.stopPropagation(),G.current){if(e.target.classList.contains("react-flow__pane")&&!E){var t=e.target.offsetWidth,n=U.screenToFlowPosition({x:t/2,y:0}),r=U.screenToFlowPosition({x:e.clientX-n.x,y:e.clientY}),o={id:(0,J.OX)(),type:"nodePlaceholder",data:{name:"core/node-placeholder",elementaryType:m._o},position:r};A(o),se(o)}I(!1)}}),[U.screenToFlowPosition,E,A]),ie=(0,r.useCallback)((function(e){return I(!0),!0}),[]),le=(0,r.useCallback)((function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),ce=(0,r.useCallback)((function(e){e.preventDefault();var t=U.screenToFlowPosition({x:e.clientX,y:e.clientY}),n=e.dataTransfer.getData(m.Qc),r=JSON.parse(n);(0,J.nj)({item:r,position:t,reactFlowInstance:U}),se(r),j()}),[U,o]),se=(0,r.useCallback)((function(e){if("string"==typeof e){var t=e;if(!(e=(0,J.dV)(t,o)))return}if(e.data){var n=S(e.data.name);if(n){var r=n.settingsSchema;if(r){var a=(0,J.Ed)(e,x);r.forEach((function(t){null==t||t.fields.forEach((function(t){t.default&&"object"===Dt(t.default)&&Object.keys(t.default).forEach((function(n){var r=t.default[n];if(r.rule&&"first"===r.rule){Array.isArray(r.dataType)||(r.dataType=[r.dataType]);var o=(0,J.JA)(a,r.dataType);if(0===o.length)return;e.data.settings[t.name][n]=o[0].id}}))}))}))}}}}),[o,S,x]),ue=(0,r.useCallback)((function(){M(),Y()})),pe=(0,r.useCallback)((function(){M(),Y()})),fe=(0,r.useCallback)((function(){U.fitView()}),[U]);(0,u.p4)({onChange:function(e){var t=e.nodes,n=e.edges;if(t.length>0&&"triggerPlaceholder"===t[0].type)return C([]),void T([]);C(t.map((function(e){return e.id}))),T(n.map((function(e){return e.id}))),v&&(0===t.length&&0===n.length&&L(z),(t.length>0||n.length>0)&&L(B))}});var me=(0,r.useCallback)((function(){F((0,V.__)("Applying auto layout.","post-expirator"),{isDismissible:!0,type:"snackbar"}),Promise.all([n.e(845),n.e(251)]).then(n.bind(n,7632)).then((function(e){(0,e.useLayoutedElements)({nodes:o,edges:a,onLayout:function(e,t){k(e),O(t)},onAnimationFrame:function(){fe(),Y()}})({direction:Z.rx}),F((0,V.__)("Auto layout applied.","post-expirator"),{isDismissible:!0,type:"snackbar"})}))}),[o,a,fe,Y]);return(0,r.useEffect)((function(){r.Platform.select({web:!0,native:!1})&&L(z)}),[]),(0,r.useEffect)((function(){if("null/undefined"===y){var e=i.length>0||b.length>0?B:z;L(e)}}),[y,b,i]),React.createElement("div",{className:"reactflow-wrapper",ref:W},React.createElement(jt,{onLayout:me}),!_&&React.createElement(u.Gc,{nodes:o,edges:a,onNodesChange:X,onEdgesChange:ee,onEdgeUpdate:te,onConnectStart:oe,onConnectEnd:ae,onConnect:ne,isValidConnection:ie,onDrop:ce,onDragOver:le,nodesDraggable:!0,proOptions:{hideAttribution:!1},fitView:fe,style:{backgroundColor:"#ffffff"},snapToGrid:!0,snapGrid:[10,10],nodeTypes:q,edgeTypes:$,onNodesDelete:ue,onEdgesDelete:pe,connectionLineStyle:{stroke:"#c2c2c2",strokeWidth:2,strokeDasharray:"3,4"}},h&&React.createElement(d.o,{pannable:!0,zoomable:!0,nodeColor:function(e){if("generic"===e.type)return"#FFCC00"}}),w&&React.createElement(p.H,null),React.createElement(f.V,{variant:"dots",color:"#ccc",gap:10})),React.createElement(de,null))},Wt=n(7612),Vt=n.n(Wt);function Ut(){var e=(0,l.useDispatch)("core/notices").removeNotice,t=(0,l.useSelect)((function(e){return e("core/notices").getNotices()}),[]),n=Vt()(t,{isDismissible:!0,type:"default"}),r=Vt()(t,{isDismissible:!1,type:"default"}),o=Vt()(t,{type:"snackbar"});return React.createElement(React.Fragment,null,React.createElement(b.NoticeList,{notices:r,className:"workflow-editor-notices__notice-list"}),React.createElement(b.NoticeList,{notices:n,className:"workflow-editor-notices__notice-list",onRemove:e}),React.createElement(b.SnackbarList,{notices:o,className:"workflow-editor-notices__snackbar-list",onRemove:e}))}var zt=function(e){return React.createElement(React.Fragment,null,React.createElement(Ut,null),React.createElement(Ft,null))},Bt=function(e){return React.createElement("div",null,"PublishPress Future Workflow Editor")},Ht=n(9482),Gt=n(5095),qt=n(7209),$t=n(4011),Kt=n(6644);function Jt(e){var t=e.showTooltip,n=(0,l.useSelect)((function(e){var t=e(c.M).getPostType;return{isActive:(0,e(s.M_).isFeatureActive)("fullscreenMode"),postType:t()}}),[]),r=n.isActive,o=n.postType;if(!r||!o)return null;var a=React.createElement(b.Icon,{size:"36px",icon:Kt.A});return React.createElement(b.__unstableMotion.div,{whileHover:"expand",className:"editor-header__back-button"},React.createElement(b.Button,{className:"edit-post-fullscreen-mode-close",href:(0,$t.addQueryArgs)("edit.php",{post_type:m.M$}),label:(0,V.__)("Back","post-expirator"),showTooltip:t},a))}var Qt=n(8169);function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e,t,n){return(t=function(e){var t=function(e){if("object"!=Yt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(e){var t=e.as,n=void 0===t?b.DropdownMenu:t,r=e.className,o=e.label,a=void 0===o?(0,V.__)("Options","post-expirator"):o,l=e.popoverProps,c=e.toggleProps,s=e.children;return React.createElement(n,{className:i()("interface-more-menu-dropdown",r),icon:Qt.A,label:a,popoverProps:Zt(Zt({position:"bottom left"},l),{},{className:i()("interface-more-menu-dropdown__content",null==l?void 0:l.className)}),toggleProps:Zt({tooltipPosition:"bottom"},c)},(function(e){return s(e)}))},nn=n(8351),rn=function(e){e.scope;var t=e.label,n=e.info,r=e.messageActivated,o=e.messageDeactivated,a=e.shortcut,i=e.feature,c=(0,l.useSelect)((function(e){return e(s.M_).isFeatureActive(i)}),[i]),u=(0,l.useDispatch)(s.M_).toggleFeature;return React.createElement(b.MenuItem,{icon:c&&nn.A,isSelected:c,onClick:function(){u(i),c?(0,Ae.L)(o||(0,V.__)("Feature deactivated","post-expirator")):(0,Ae.L)(r||(0,V.__)("Feature activated","post-expirator"))},role:"menuitemcheckbox",info:n,shortcut:a},t)},on=function(){return(0,Ht.A)("medium")?React.createElement(React.Fragment,null,React.createElement(b.MenuGroup,{label:(0,V._x)("View","noun","post-expirator")},React.createElement(rn,{scope:"core/edit-post",feature:m.t7,label:(0,V.__)("Fullscreen mode","post-expirator"),info:(0,V.__)("Work without distraction","post-expirator"),messageActivated:(0,V.__)("Fullscreen mode activated","post-expirator"),messageDeactivated:(0,V.__)("Fullscreen mode deactivated","post-expirator"),shortcut:Oe.dz.secondary("f")}),React.createElement(rn,{scope:"core/edit-post",feature:m.yY,label:(0,V.__)("Advanced Settings","post-expirator"),info:(0,V.__)("Display advanced settings for the workflow, triggers and steps","post-expirator"),messageActivated:(0,V.__)("Advanced settings mode activated","post-expirator"),messageDeactivated:(0,V.__)("Advanced settings mode deactivated","post-expirator"),shortcut:Oe.dz.secondary("a")}),React.createElement(rn,{scope:"core/edit-post",feature:m.s$,label:(0,V.__)("Display a mini map","post-expirator"),info:(0,V.__)("Display a mini map in the bottom of the editor, triggers and steps","post-expirator"),messageActivated:(0,V.__)("Mini map activated","post-expirator"),messageDeactivated:(0,V.__)("Mini map deactivated","post-expirator")}),React.createElement(rn,{scope:"core/edit-post",feature:m.kD,label:(0,V.__)("Display the controls panel","post-expirator"),info:(0,V.__)("Display the controls panel with buttons to zoon in, zoom out, fit the view and lock the viewport","post-expirator"),messageActivated:(0,V.__)("Mini map activated","post-expirator"),messageDeactivated:(0,V.__)("Mini map deactivated","post-expirator")})),React.createElement(b.MenuGroup,{label:(0,V.__)("Tools","post-expirator")},React.createElement(rn,{scope:"core/edit-post",feature:m.m$,label:(0,V.__)("Developer mode","post-expirator"),info:(0,V.__)("Work in developer mode","post-expirator"),messageActivated:(0,V.__)("Developer mode activated","post-expirator"),messageDeactivated:(0,V.__)("Developer mode deactivated","post-expirator"),shortcut:Oe.dz.secondary("d")}),React.createElement(rn,{scope:"core/edit-post",feature:m.d6,label:(0,V.__)("Welcome guide","post-expirator"),info:(0,V.__)("Display the welcome guide","post-expirator"),messageActivated:(0,V.__)("Welcome guide activated","post-expirator"),messageDeactivated:(0,V.__)("Welcome guide deactivated","post-expirator")}),React.createElement(b.MenuItem,{icon:"external",onClick:function(){window.open("https://publishpress.com/docs-category/future/","_blank")}},(0,V.__)("Help","post-expirator")))):null};function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return(t=function(e){var t=function(e){if("object"!=an(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==an(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un={className:"edit-post-more-menu__content"},dn=function(e){var t=e.showIconLabels;return(0,Ht.A)("large"),React.createElement(tn,{className:"edit-post-more-menu",popoverProps:un,toggleProps:cn({showTooltip:!t},t&&{variant:"tertiary"})},(function(e){return e.onClose,React.createElement(React.Fragment,null,React.createElement(on,null))}))},pn=n(6184),fn=["children","focusOnMount","__experimentalInitialIndex","__experimentalOnIndexChange"];function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(null,arguments)}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yn(e){return Array.from(e.querySelectorAll("[data-toolbar-item]"))}function gn(e){var t=e.children,n=e.focusOnMount,o=e.__experimentalInitialIndex,a=e.__experimentalOnIndexChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fn),l=(0,r.useRef)();return function(e,t,n,o){var a=bn((0,r.useState)(t),1)[0],i=bn((0,r.useState)(n),1)[0],l=(0,r.useCallback)((function(){var t,n;t=e.current,(n=bn(pn.XC.tabbable.find(t),1)[0])&&n.focus()}),[]);(0,r.useEffect)((function(){a&&l()}),[a,l]),(0,r.useEffect)((function(){var t=0;return i&&!a&&(t=window.requestAnimationFrame((function(){var t,n=yn(e.current),r=i||0;n[r]&&(t=e.current).contains(t.ownerDocument.activeElement)&&n[r].focus()}))),function(){if(window.cancelAnimationFrame(t),o&&e.current){var n=yn(e.current).findIndex((function(e){return 0===e.tabIndex}));o(n)}}}),[i,a])}(l,n,o,a),React.createElement(b.NavigableMenu,mn({orientation:"horizontal",role:"toolbar",ref:l},i),t)}var hn=n(353),wn=n(9095);function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(null,arguments)}function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},En.apply(null,arguments)}(0,r.forwardRef)((function(e,t){var n=(0,l.useSelect)((function(e){return!1}),[]),r=(0,l.useDispatch)(c.M).undo;return React.createElement(b.Button,_n({},e,{ref:t,icon:(0,V.isRTL)()?wn.A:hn.A,label:(0,V.__)("Undo","post-expirator"),shortcut:Oe.dz.primary("z"),"aria-disabled":!n,onClick:n?r:void 0,className:"editor-history__undo"}))})),(0,r.forwardRef)((function(e,t){var n=(0,l.useSelect)((function(e){return!1}),[]),r=(0,l.useDispatch)(c.M).redo;return React.createElement(b.Button,En({},e,{ref:t,icon:(0,V.isRTL)()?hn.A:wn.A,label:(0,V.__)("Redo","post-expirator"),shortcut:Oe.dz.primaryShift("z"),"aria-disabled":!n,onClick:n?r:void 0,className:"editor-history__redo"}))}));var Sn=n(2747),xn=n(2086),Rn=n(3034);function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function On(e,t,n){return(t=function(e){var t=function(e){if("object"!=kn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cn(e){var t,n,o=e.forceIsDirty,a=e.forceIsSaving,s=e.showIconLabels,u=void 0!==s&&s,d=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],f=d[1],m=(0,Ht.A)("small"),v=(0,l.useSelect)((function(e){var t=e(c.M),n=t.isNewWorkflow,r=t.isCurrentWorkflowPublished,i=t.isEditedWorkflowDirty,l=t.isSavingWorkflow,s=t.isEditedWorkflowSaveable;return{isAutosaving:(0,t.isAutosavingWorkflow)(),isDirty:o||i(),isNew:n(),isPublished:r(),isSaving:a||l(),isSaveable:s()}}),[o,a]),y=v.isAutosaving,g=v.isDirty,h=v.isNew,w=v.isPublished,_=v.isSaveable,E=v.isSaving,S=(0,l.useDispatch)(c.M).saveAsDraft,x=(0,Sn.A)(E);if((0,r.useEffect)((function(){var e;return x&&!E&&(f(!0),e=setTimeout((function(){f(!1)}),1e3)),function(){return clearTimeout(e)}}),[E]),!w){var R,k=(0,V.__)("Save draft","post-expirator"),O=(0,V.__)("Save","post-expirator"),A=p||!h&&!g,C=E||A,T=E||A||!_;return E?R=y?(0,V.__)("Autosaving","post-expirator"):(0,V.__)("Saving","post-expirator"):A?R=(0,V.__)("Saved","post-expirator"):m?R=k:u&&(R=O),React.createElement(b.Button,{className:_||E?i()(On({"editor-post-save-draft":!C,"editor-post-saved-state":C,"is-saving":E,"is-autosaving":y,"is-saved":A},(0,b.__unstableGetAnimateClassName)({type:"loading"}),E)):void 0,onClick:T?void 0:function(){S()},shortcut:Oe.dz.primary("s"),variant:m?"tertiary":void 0,icon:m?void 0:xn.A,label:k,"aria-disabled":T},C&&React.createElement(yt.A,{icon:A?nn.A:Rn.A}),R)}}function Tn(e){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(e)}function Pn(e,t,n){return(t=function(e){var t=function(e){if("object"!=Tn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const jn=function(e){var t,n,o=e.showIconLabels,a=void 0!==o&&o,s=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],d=s[1],p=(0,Ht.A)("small"),f=(0,l.useSelect)((function(e){var t=e(c.M),n=t.isNewWorkflow,r=t.isCurrentWorkflowPublished,o=t.isEditedWorkflowDirty,a=t.isSavingWorkflow,i=t.isEditedWorkflowSaveable;return{isAutosaving:(0,t.isAutosavingWorkflow)(),isDirty:o(),isNew:n(),isPublished:r(),isSaving:a(),isSaveable:i()}}),[]),m=f.isAutosaving,v=f.isDirty,y=f.isNew,g=f.isPublished,h=f.isSaveable,w=f.isSaving,_=(0,l.useDispatch)(c.M),E=_.saveAsCurrentStatus,S=_.publishWorkflow,x=(0,Sn.A)(w);(0,r.useEffect)((function(){var e;return x&&!w&&(d(!0),e=setTimeout((function(){d(!1)}),1e3)),function(){return clearTimeout(e)}}),[w]);var R,k=g?(0,V.__)("Update","post-expirator"):(0,V.__)("Publish","post-expirator"),O=k,A=u||!y&&!v,C=w||A,T=w||A||!h;return w?R=m?(0,V.__)("Autosaving...","post-expirator"):(0,V.__)("Updating...","post-expirator"):A?R=(0,V.__)("Updated","post-expirator"):p?R=k:a&&(R=O),React.createElement(b.Button,{className:h||w?i()(Pn({"editor-post-save-draft":!C,"editor-post-saved-state":C,"is-saving":w,"is-autosaving":m,"is-saved":A},(0,b.__unstableGetAnimateClassName)({type:"loading"}),w)):void 0,onClick:function(){T||(g?E():S())},variant:"primary",label:k,"aria-disabled":T},R)};var Dn=function(e){var t=e.direction,n=new CustomEvent(Z.Ml,{detail:{direction:t}});document.dispatchEvent(n)},In=window.futureWorkflowEditor.isWP65OrLater,Mn=function(e){e.preventDefault()},Ln=function(){var e=(0,l.useSelect)((function(e){return{isFullscreenActive:e(s.M_).isFeatureActive(m.t7),hasReducedUI:e(s.M_).isFeatureActive(m.hN),isInserterOpened:e(s.M_).isFeatureActive(m.is),showIconLabels:e(s.M_).isFeatureActive(m.Pf),isLoadingWorkflow:e(c.M).isLoadingWorkflow()}})),t=e.isFullscreenActive,n=e.isInserterOpened,a=e.hasReducedUI,i=e.showIconLabels,u=e.isLoadingWorkflow,d=(0,l.useDispatch)(s.M_),p=d.enableFeature,f=d.disableFeature,v="edit-post-header editor-header "+(a?"has-reduced-ui":""),y=((0,Ht.A)("wide"),(0,r.useRef)()),g=(0,r.useCallback)((function(){if(n)return y.current.focus(),void f(m.is);p(m.is)}),[n,p,f]),h=(0,V.__)("Document tools"),w=Dn,_=(0,r.useCallback)((function(e){e.preventDefault(),w({direction:Z.wD})})),E=(0,r.useCallback)((function(e){e.preventDefault(),window.open("https://publishpress.com/links/future-workflow-toolbar","_blank")})),S=In?"editor-document-tools__left":"edit-post-header-toolbar__left",x=q();return React.createElement("div",{className:v},t&&React.createElement(Jt,null),React.createElement("div",{className:"edit-post-header__toolbar editor-header__toolbar"},React.createElement(gn,{className:"edit-post-header-toolbar editor-document-tools","aria-label":h},React.createElement("div",{className:S},React.createElement(b.ToolbarItem,{ref:y,as:b.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:n,onMouseDown:Mn,onClick:g,shortcut:Oe.dz.secondary("i"),icon:Gt.A,label:(0,V._x)("Toggle block inserter","Generic label for block inserter button"),showTooltip:!i},i&&(n?(0,V.__)("Close","post-expirator"):(0,V.__)("Add","post-expirator"))),React.createElement(b.ToolbarItem,{as:b.Button,className:"edit-post-header-toolbar__autolayout-down",onMouseDown:Mn,onClick:_,icon:qt.A,shortcut:Oe.dz.secondary("l"),label:(0,V.__)("Auto Layout","post-expirator"),showTooltip:!i,disabled:u},i&&(0,V.__)("Auto Layout","post-expirator")),!x&&React.createElement(b.ToolbarItem,{as:b.Button,className:"edit-post-header-toolbar__buy-pro",onMouseDown:Mn,onClick:E,icon:P,label:(0,V.__)("Upgrade to Pro and unlock more features","post-expirator"),showTooltip:!i},(0,V.__)("Upgrade to Pro","post-expirator"))))),React.createElement("div",{className:"edit-post-header__settings editor-header__settings"},React.createElement(Cn,null),React.createElement(jn,null),React.createElement(o.dq.Slot,{scope:m.eJ}),React.createElement(dn,null)))};function Fn(e){var t=e.className,n=e.secondarySidebar,r=(0,Ht.A)("medium","<"),a=(0,l.useSelect)((function(e){var t=e("core/interface").getActiveComplementaryArea(m.eJ);return{sidebarIsOpened:null!==t&&"null/undefined"!==t,hasFixedToolbar:!1,hasActiveMetaboxes:!1,showIconLabels:e(s.M_).isFeatureActive(m.Pf),hasSelectedNodes:e(c.M).hasSelectedNodes()}})),u=a.sidebarIsOpened,d=a.hasFixedToolbar,p=a.hasActiveMetaboxes,f=a.showIconLabels,b=(a.hasSelectedNodes,(0,l.useDispatch)(s.M_)),v=(b.openGeneralSidebar,b.closeInserter,i()(t,{"is-sidebar-opened":u,"has-fixed-toolbar":d,"has-metaboxes":p,"show-icon-labels":f}));return React.createElement(o.Du,{className:v,header:React.createElement(Ln,null),secondarySidebar:n(),content:React.createElement(zt,null),footer:React.createElement(Bt,null),actions:null,sidebar:(!r||u)&&React.createElement(o.WK.Slot,{scope:m.eJ})})}var Wn=n(9986),Vn=n(5578),Un="publishpress-future/workflow-editor/toggle-fullscreen",zn="publishpress-future/workflow-editor/fit-view",Bn="publishpress-future/workflow-editor/toggle-inserter",Hn="publishpress-future/workflow-editor/auto-layout",Gn="publishpress-future/workflow-editor/toggle-sidebar",qn="publishpress-future/workflow-editor/toggle-developer-mode",$n="publishpress-future/workflow-editor/toggle-advanced-settings",Kn="publishpress-future/workflow-editor/save-as-current-status",Jn=[{name:Un,category:"global",description:"Toggle fullscreen mode",keyCombination:{modifier:"secondary",character:"f"}},{name:qn,category:"global",description:"Toggle developer mode",keyCombination:{modifier:"secondary",character:"d"}},{name:$n,category:"global",description:"Toggle advanced settings",keyCombination:{modifier:"secondary",character:"a"}},{name:zn,category:"global",description:"Fit view",keyCombination:{modifier:"secondary",character:"v"}},{name:Bn,category:"global",description:"Toggle inserter",keyCombination:{modifier:"secondary",character:"i"}},{name:Hn,category:"global",description:"Auto layout",keyCombination:{modifier:"secondary",character:"l"}},{name:Gn,category:"global",description:"Toggle sidebar",keyCombination:{modifier:"secondary",character:"s"}},{name:Kn,category:"global",description:"Save as current status",keyCombination:{modifier:"primary",character:"s"}}];function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Yn(){Yn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),l=new T(r||[]);return o(i,"_invoke",{value:k(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",b="completed",v={};function y(){}function g(){}function h(){}var w={};s(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(P([])));E&&E!==n&&r.call(E,i)&&(w=E);var S=h.prototype=y.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Qn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,n,r){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var l=r.delegate;if(l){var c=O(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=d(t,n,r);if("normal"===s.type){if(o=r.done?b:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=b,r.method="throw",r.arg=s.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Qn(t)+" is not iterable")}return g.prototype=h,o(S,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:g,configurable:!0}),g.displayName=s(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(R.prototype),s(R.prototype,l,(function(){return this})),t.AsyncIterator=R,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new R(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),s(S,c,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Xn(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}var Zn=function(){var e=(0,l.useDispatch)(Vn.M_).registerShortcut,t=(0,l.useDispatch)(s.M_).toggleFeature,n=(0,l.useDispatch)(c.M).saveAsCurrentStatus,o=(0,u.VH)(),a=(0,l.useSelect)((function(e){return{isEditedWorkflowSaveable:e(c.M).isEditedWorkflowSaveable}}),[]).isEditedWorkflowSaveable;(0,r.useEffect)((function(){Jn.forEach((function(t){e(t)}))}),[]);var i=function(){var e,t=(e=Yn().mark((function e(t){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Failed to save workflow:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Xn(a,r,o,i,l,"next",e)}function l(e){Xn(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,Vn.wk)(Un,(function(){return t(m.t7)})),(0,Vn.wk)(qn,(function(){return t(m.m$)})),(0,Vn.wk)(zn,(function(){return o.fitView()})),(0,Vn.wk)(Bn,(function(){return t(m.is)})),(0,Vn.wk)(Hn,(function(){document.dispatchEvent(new CustomEvent(Z.Ml,{detail:{direction:Z.wD}}))})),(0,Vn.wk)($n,(function(){return t(m.yY)})),(0,Vn.wk)(Kn,i),null},er=n(4707),tr=n(8098),nr=n(3950),rr=n.n(nr);function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ar=[(0,r.createInterpolateElement)((0,V.__)("Select multiple steps by pressing <kbd>cmd</kbd> and clicking on each step in the workflow.","post-expirator"),{kbd:React.createElement("kbd",null)}),(0,V.__)("Drag steps from the inserter and drop them directly into your workflow for easy customization.","post-expirator"),(0,V.__)("Simply double-click any step to bring up the settings sidebar for quick adjustments.","post-expirator"),(0,V.__)("Double-click the workflow pane to increase the zoom level for a closer look.","post-expirator"),(0,r.createInterpolateElement)((0,V.__)("Hold down the <kbd>shift</kbd> key and double-click the workflow pane to decrease the zoom level.","post-expirator"),{kbd:React.createElement("kbd",null)}),(0,V.__)("Easily add new steps by clicking on a step's handle and dragging it. Drop it in the workflow pane to see a floating inserter where you can type and search for the step you need.","post-expirator")];function ir(){var e,t,n=(e=(0,r.useState)(Math.floor(Math.random()*ar.length)),t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return or(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return React.createElement(b.Tip,null,ar[n])}var lr=n(9181),cr=n.n(lr),sr=n(8064);function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}var dr=["tabId","onClick","children","selected"];function pr(e,t,n){return(t=function(e){var t=function(e){if("object"!=ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ur(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(null,arguments)}var br=function(e){var t=e.tabId,n=e.onClick,r=e.children,o=e.selected,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,dr);return React.createElement(b.Button,mr({role:"tab",tabIndex:o?null:-1,"aria-selected":o,id:t,onClick:n},a),r)};function vr(e){var t,n,o,a=e.className,l=e.children,c=e.tabs,s=e.initialTabName,u=e.orientation,d=void 0===u?"horizontal":u,p=e.activeClass,f=void 0===p?"is-active":p,m=e.onSelect,v=void 0===m?rr():m,y=(0,sr.A)(vr,"tab-panel"),g=(n=(0,r.useState)(null),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(n,o)||function(e,t){if(e){if("string"==typeof e)return fr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=g[0],w=g[1],_=function(e){w(e),v(e)},E=rt()(c,{name:h}),S="".concat(y,"-").concat(null!==(t=null==E?void 0:E.name)&&void 0!==t?t:"none");return(0,r.useEffect)((function(){rt()(c,{name:h})||w(s||(c.length>0?c[0].name:null))}),[c]),(0,r.useEffect)((function(){w(s||c[0].name)}),[s]),React.createElement("div",{className:a},React.createElement(b.NavigableMenu,{role:"tablist",orientation:d,onNavigate:function(e,t){t.click()},className:"components-tab-panel__tabs block-editor-inserter__tablist-and-close-button"},c.map((function(e){return React.createElement(br,{className:i()("components-tab-panel__tabs-item",e.className,pr({},f,e.name===h)),tabId:"".concat(y,"-").concat(e.name),"aria-controls":"".concat(y,"-").concat(e.name,"-view"),selected:e.name===h,key:e.name,onClick:cr()(_,e.name)},e.title)}))),E&&React.createElement("div",{key:S,"aria-labelledby":S,role:"tabpanel",id:"".concat(S,"-view"),className:"components-tab-panel__tab-content block-editor-inserter__tabpanel"},l(E)))}var yr={name:m.Dh,title:(0,V.__)("Triggers","post-expirator")},gr={name:m.DM,title:(0,V.__)("Actions","post-expirator")},hr={name:m.sM,title:(0,V.__)("Advanced","post-expirator")};const wr=function(e){var t=e.children,n=e.onSelect,o=e.initialTabName,a=void 0===o?m.Dh:o,i=(0,r.useMemo)((function(){return[yr,gr,hr]}),[yr,gr,hr]);return React.createElement(vr,{className:"block-editor-inserter__tabs",tabs:i,onSelect:n,initialTabName:a},t)};function _r(e){var t=e.node,n=q();return React.createElement("div",{className:"block-editor-block-card"},React.createElement(W,{icon:t.icon,showColors:!0,className:"block-editor-block-icon"}),React.createElement("div",{className:"block-editor-block-card__content"},React.createElement("h2",{className:"block-editor-block-card__title"},t.label,t.isProFeature&&!n&&React.createElement("span",{className:"block-editor-block-card__pro-badge"},(0,V.__)("Pro","post-expirator"))),t.description&&React.createElement("span",{className:"block-editor-block-card__description"},t.description),t.isProFeature&&!n&&React.createElement("div",{className:"block-editor-block-card__pro-instructions"},(0,V.__)("Currently this step is being skipped. Upgrade to Pro to unlock this feature.","post-expirator")," ",(0,V.__)("Drag this node to preview its options in your workflow.","post-expirator"))))}const Er=function(e){var t=e.item;return React.createElement("div",{className:"block-editor-inserter__preview-container"},React.createElement(_r,{node:t}))};function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xr(e){var t,n,o=e.onSelect,a=e.showInserterHelpPanel,i=e.showMostUsedNodes,c=e.__experimentalFilterValue,u=void 0===c?"":c,d=(e.shouldFocusNode,t=(0,r.useState)(u),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],f=d[1],v=(0,l.useSelect)((function(e){return{currentInserterTab:e(s.M_).getCurrentInserterTab(),hoveredItem:e(s.M_).getHoveredItem()}})),y=v.currentInserterTab,g=v.hoveredItem,h=(0,l.useDispatch)(s.M_),w=h.setCurrentInserterTab,_=h.setHoveredItem,E=(0,r.useCallback)((function(e,t,n){o()}),[o]),S=(0,r.useCallback)((function(e){_(e)}),[_]),x=(0,r.useMemo)((function(){var e=(0,l.select)(s.M_).getTriggerNodes(),t=(0,l.select)(s.M_).getTriggerCategories();return React.createElement(React.Fragment,null,React.createElement("div",{className:"block-editor-inserter__block-list"},React.createElement(Je,{type:m.Dh,onInsert:E,onHover:S,showMostUsedNodes:i,items:e,categories:t})),a&&React.createElement("div",{className:"block-editor-inserter__tips"},React.createElement(b.VisuallyHidden,{as:"h2"},(0,V.__)("A tip for using the workflow editor","post-expirator")),React.createElement(ir,null)))}),[E,S,p,i,a]),R=(0,r.useMemo)((function(){var e=(0,l.select)(s.M_).getActionNodes(),t=(0,l.select)(s.M_).getActionCategories();return React.createElement(React.Fragment,null,React.createElement("div",{className:"block-editor-inserter__block-list"},React.createElement(Je,{type:m.DM,onInsert:E,onHover:S,showMostUsedNodes:i,items:e,categories:t})),a&&React.createElement("div",{className:"block-editor-inserter__tips"},React.createElement(b.VisuallyHidden,{as:"h2"},(0,V.__)("A tip for using the workflow editor","post-expirator")),React.createElement(ir,null)))}),[E,S,p,i,a]),k=(0,r.useMemo)((function(){var e=(0,l.select)(s.M_).getAdvancedNodes(),t=(0,l.select)(s.M_).getAdvancedCategories();return React.createElement(React.Fragment,null,React.createElement("div",{className:"block-editor-inserter__block-list"},React.createElement(Je,{type:m.sM,onInsert:E,onHover:S,showMostUsedNodes:i,items:e,categories:t})),a&&React.createElement("div",{className:"block-editor-inserter__tips"},React.createElement(b.VisuallyHidden,{as:"h2"},(0,V.__)("A tip for using the workflow editor")),React.createElement(ir,null)))}),[E,S,p,i,a]),O=(0,r.useCallback)((function(e){return e.name===m.Dh?x:e.name===m.DM?R:e.name===m.sM?k:void 0}),[x,R]),A=(0,r.useCallback)((function(e){w(e)}),[w]);return React.createElement("div",{className:"block-editor-inserter__menu"},React.createElement("div",{className:"block-editor-inserter__main-area show-as-tabs"},React.createElement("div",{className:"block-editor-tabbed-sidebar"},React.createElement(b.SearchControl,{className:"block-editor-inserter__search",onChange:function(e){g&&_(null),f(e)},value:p,label:(0,V.__)("Search for triggers and steps","post-expirator"),placeholder:(0,V.__)("Search")}),React.createElement("div",{className:"block-editor-tabbed-sidebar__tabpanel"},!!p&&React.createElement(_t,{filterValue:p,onSelect:o,onHover:S}),!p&&React.createElement(wr,{onSelect:A,initialTabName:y},O)))),a&&g&&React.createElement(b.Popover,{className:"block-editor-inserter__preview-container__popover",placement:"right-start",offset:16,focusOnMount:!1,animate:!1},React.createElement(Er,{item:g})))}function Rr(e){var t=e.isAppender,n=e.showInserterHelpPanel,r=e.showMostUsedNodes,o=void 0===r||r,a=e.onSelect,i=void 0===a?rr():a,l=e.shouldFocusNode,c=void 0!==l&&l;return React.createElement(xr,{onSelect:i,isAppender:t,showInserterHelpPanel:n,showMostUsedNodes:o,shouldFocusNode:c})}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(null,arguments)}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ar(){var e,t,n=(0,l.useSelect)((function(e){return{showMostUsedNodes:e(s.M_).isFeatureActive(m.dw)}}),[]).showMostUsedNodes,r=(0,l.useDispatch)(s.M_).disableFeature,o=function(){r(m.is)},a=(0,Ht.A)("medium","<"),i=(e=(0,tr.A)({onClose:function(){return o()}}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Or(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return React.createElement("div",kr({ref:c},u,{className:"editor-inserter-sidebar"}),React.createElement("div",{className:"editor-inserter-sidebar__header"},React.createElement(b.Button,{icon:er.A,onClick:function(){return o()},className:"block-editor-tabbed-sidebar__close-button is-small"})),React.createElement("div",{className:"editor-inserter-sidebar__content"},React.createElement(Rr,{showMostUsedNodes:n,showInserterHelpPanel:!0,shouldFocusNode:a})))}var Cr=n(684),Tr=["className"];function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(null,arguments)}function Nr(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Tr),r=(0,l.useSelect)((function(e){return{workflowTitle:e(c.M).getEditedWorkflowAttribute("title"),shortcut:e(Vn.M_).getShortcutRepresentation(Gn),showIconLabels:e(s.M_).isFeatureActive(m.Pf)}}),[]),a=r.workflowTitle,i=r.shortcut,u=r.showIconLabels;return React.createElement(o.WK,Pr({panelClassName:t,className:"edit-post-sidebar",smallScreenTitle:a||(0,V.__)("(no name)","post-expirator"),scope:m.eJ,toggleShortcut:i,showIconLabels:u},n))}var jr=function(e){var t=e.sidebarName,n=(0,l.useDispatch)(s.M_).openGeneralSidebar,r=(0,l.useSelect)((function(e){return{documentLabel:(0,V._x)("Workflow","noun","post-expirator")}}),[]).documentLabel;return React.createElement(vr,{tabs:[{name:z,title:r},{name:B,title:(0,V.__)("Element","post-expirator")}],onSelect:function(e){n(e)},initialTabName:t},(function(){return null}))};function Dr(){var e=(0,l.useSelect)((function(e){return{isSavingWorkflow:e(c.M).isSavingWorkflow(),isPublishedWorkflow:e(c.M).isPublishedWorkflow()}})),t=e.isSavingWorkflow,n=e.isPublishedWorkflow,r=(0,l.useDispatch)(c.M).switchToDraft,o=(0,Ht.A)("small","<");return n?React.createElement(b.Button,{className:"editor-post-switch-to-draft is-next-40px-default-size",onClick:function(){var e;n&&(e=(0,V.__)("Are you sure you want to unpublish this workflow?","post-expirator")),e&&window.confirm(e)&&r()},disabled:t,variant:"secondary"},o?(0,V.__)("Draft","post-expirator"):(0,V.__)("Switch to draft","post-expirator")):null}function Ir(){var e=(0,l.useSelect)((function(e){return{isDeletingWorkflow:e(c.M).isDeletingWorkflow()}})).isDeletingWorkflow,t=(0,l.useDispatch)(c.M).deleteWorkflow,n=(0,Ht.A)("small","<");return React.createElement(b.Button,{className:"editor-post-delete-workflow is-next-40px-default-size",onClick:function(){var e=(0,V.__)("Are you sure you want to delete this workflow?","post-expirator");window.confirm(e)&&t()},disabled:e,variant:"secondary",isDestructive:!0},n?(0,V.__)("Delete","post-expirator"):(0,V.__)("Move to trash","post-expirator"))}function Mr(e){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(e)}function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(null,arguments)}function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Mr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vr=function(e){var t,n,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);r.id=null!==(t=r.id)&&void 0!==t?t:r.title.toLowerCase().replace(/ /g,"");var o=(0,l.useSelect)((function(e){var t;return{panelBodyState:null===(t=e(s.M_).getPanelBodyState(r.id))||void 0===t||t}})).panelBodyState,a=(0,l.useDispatch)(s.M_).setPanelBodyState,i=r.onToggle;delete r.onToggle;var c=null!==(n=r.opened)&&void 0!==n?n:o;return delete r.opened,React.createElement(b.PanelBody,Lr({},e,{opened:c,onToggle:function(e){a(r.id,e),i&&i(e)}}),r.children)};var Ur=n(1594),zr=window.jQuery;const Br=function(e,t){(0,Ur.useEffect)((function(){e.current&&zr(e.current).closest(t).scrollTop(0)}),[e,t])};var Hr=function(){var e=(0,l.useSelect)((function(e){return{workflow:e(c.M).getWorkflow(),isLoadingWorkflow:e(c.M).isLoadingWorkflow()}})),t=e.workflow,n=e.isLoadingWorkflow,o=(0,l.useDispatch)(c.M).setEditedWorkflowAttribute,a=(0,r.useCallback)((function(e){o("title",e)})),i=(0,r.useCallback)((function(e){o("description",e)})),s=(0,r.useRef)(null);return Br(s,".interface-interface-skeleton__sidebar"),React.createElement("div",{ref:s},React.createElement(Vr,{className:"edit-post-post-status",title:(0,V.__)("Summary","post-expirator"),initialOpen:!0,disabled:n},React.createElement(b.PanelRow,{className:"editor-post-title__panel"},React.createElement(b.TextControl,{label:(0,V.__)("Title","post-expirator"),value:t.title,onChange:a,disabled:n})),React.createElement(b.PanelRow,{className:"editor-post-description__panel"},React.createElement(b.TextareaControl,{label:(0,V.__)("Description","post-expirator"),value:t.description,onChange:i,disabled:n})),React.createElement(b.PanelRow,{className:"editor-post-status__panel"},React.createElement(Dr,null),React.createElement(Ir,null))))},Gr=["onClose","title","children","className","offset","placement"];function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(null,arguments)}const $r=function(e){var t=e.onClose,n=e.title,r=e.children,o=e.className,a=e.offset,i=void 0===a?40:a,l=e.placement,c=void 0===l?"left-start":l,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Gr);return React.createElement(b.Popover,qr({onClose:t,placement:c,offset:i,className:"workflow-editor-setting-popover ".concat(o)},s),React.createElement(b.__experimentalVStack,null,React.createElement(b.__experimentalHStack,null,React.createElement("h2",{className:"components-truncate components-text components-heading block-editor-inspector-popover-header__heading"},n),React.createElement(b.Button,{icon:"no-alt",isSmall:!0,className:"block-editor-inspector-popover-header__action",onClick:t}))),r)};function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Qr=function(e){var t,n,o,a=e.node,i=Kr((0,r.useState)(!1),2),s=i[0],u=i[1],d=Kr((0,r.useState)(null===(t=a.data)||void 0===t?void 0:t.label),2),p=d[0],f=d[1],m=(0,l.useDispatch)(c.M).updateNode;(0,r.useEffect)((function(){var e;u(!1),f(null===(e=a.data)||void 0===e?void 0:e.label)}),[a]);var v=function(){u(!1);var e={id:a.id,data:{label:p}};m(e)};return React.createElement(React.Fragment,null,!(null!==(n=a.data)&&void 0!==n&&n.label)&&React.createElement(b.Button,{variant:"link",onClick:function(){u(!0)}},(0,V.__)("Add a description to this step...","post-expirator")),(null===(o=a.data)||void 0===o?void 0:o.label)&&React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement("div",{className:"workflow-editor-inspector-card__description"},a.data.label),React.createElement(b.Button,{variant:"link",onClick:function(){u(!0)}},(0,V.__)("Edit description","post-expirator")))),s&&React.createElement($r,{onClose:v,className:"workflow-editor-inspector-card__description-popover",title:(0,V.__)("Edit description","post-expirator")},React.createElement(b.__experimentalVStack,null,React.createElement(b.TextareaControl,{value:p,onChange:function(e){f(e)},onKeyDown:function(e){"Escape"===e.key&&v()}}))))};const Yr=function(e){var t=e.title,n=e.description,r=e.icon,o=(e.id,e.slug,e.isProFeature),a=e.node,i=q(),l=[];return React.createElement("div",{className:"workflow-editor-inspector-card"},React.createElement("div",{className:"workflow-editor-inspector-card__content"},React.createElement(b.__experimentalVStack,null,React.createElement(b.__experimentalHStack,{className:"workflow-editor-inspector-card__header"},React.createElement("span",{className:"workflow-editor-inspector-icon has-colors"},r),React.createElement("h2",{className:"workflow-editor-inspector-card__title"},t,o&&!i&&React.createElement("span",{className:"workflow-editor-inspector-card__pro-badge"},(0,V.__)("Pro","post-expirator"))))),React.createElement(b.__experimentalVStack,null,React.createElement("div",{className:"workflow-editor-inspector-card__description"},n)),o&&!i&&React.createElement(b.__experimentalVStack,null,React.createElement("div",{className:"workflow-editor-inspector-card__pro-instructions"},React.createElement(b.ExternalLink,{href:"https://publishpress.com/links/future-workflow-inspector",target:"_blank"},(0,V.__)("Currently this step is being skipped. Upgrade to Pro to unlock this feature.","post-expirator")))),a&&(null==a?void 0:a.data)&&React.createElement(b.__experimentalVStack,null,React.createElement(Qr,{node:a})),l.length>0&&React.createElement(b.__experimentalVStack,null,React.createElement("table",null,React.createElement("tbody",null,l.map((function(e){return React.createElement("tr",{key:"attribute_"+e.id},React.createElement("th",null,e.label),React.createElement("td",null,e.value))})))))))},Xr=function(e){var t,n,r,o=e.node,a=(0,(0,l.useSelect)((function(e){return{getNodeTypeByName:e(s.M_).getNodeTypeByName}})).getNodeTypeByName)(null==o||null===(t=o.data)||void 0===t?void 0:t.name),i=a.label||(null==o?void 0:o.data.label)||(0,V.__)("Node","post-expirator"),c=a.description||(null==o?void 0:o.data.description)||(0,V.__)("No description","post-expirator"),u=(null===(n=a.icon)||void 0===n?void 0:n.src)||"media-document",d=null==o?void 0:o.id,p=null==o||null===(r=o.data)||void 0===r?void 0:r.slug,f=React.createElement(W,{icon:u});return React.createElement(Yr,{title:i,description:c,id:d,icon:f,slug:p,isProFeature:a.isProFeature,node:o})},Zr=function(e){var t=e.children;return React.createElement("span",{className:"workflow-editor-element-inspector__warning"},t)};function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var no=function(e,t){return e?e.map((function(e){var n=t.find((function(t){return t.value===e}));return n?n.label:e})):[]},ro=function(e){var t=e.label,n=e.expandOnFocus,o=e.autoSelectFirstMatch,a=e.onChange,i=e.suggestions,l=e.value,c=e.className,s=(0,r.useMemo)((function(){return no(l,i)})),u=eo((0,r.useState)(s),2),d=u[0],p=u[1],f=eo((0,r.useState)(l),2),m=(f[0],f[1]),v=i.map((function(e){return e.label}));return(0,r.useEffect)((function(){p(no(l,i)),m(l)}),[l]),React.createElement(b.FormTokenField,{label:t,value:d,suggestions:v,__experimentalExpandOnFocus:n,__experimentalAutoSelectFirstMatch:o,onChange:function(e){p(e);var t=function(e,t){return e?e.map((function(e){var n=t.find((function(t){return t.label===e}));return n?n.value:e})):[]}(e,i);m(t),void 0!==a&&a(t,e)},className:c})};const oo=ro;function ao(e){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}function io(e){return function(e){if(Array.isArray(e))return lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e,t,n){return(t=function(e){var t=function(e){if("object"!=ao(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ao(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ao(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const uo=function(e){var t,n,o,a,i,l,c,s=e.name,u=(e.label,e.defaultValue),d=e.onChange,p=e.settings,f=e.variables,m=futureWorkflowEditor.postTypes,v=futureWorkflowEditor.postStatuses,y=futureWorkflowEditor.postTerms,g=function(e){var t=e.settingName,n=e.value,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){so(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u);r[t]=n,d&&d(s,r)},h=p&&!0===(null==p?void 0:p.acceptsInput),w=p&&!0===(null==p?void 0:p.isPostTypeRequired),_=h?"input":"custom",E="custom"===(null===(t=u)||void 0===t?void 0:t.postSource)||!h,S=p&&!0===(null==p?void 0:p.hidePostStatus);(0,r.useEffect)((function(){u||(u={postSource:_,postType:[],postId:[],postStatus:[],postAuthor:[],postTerms:[]},g({settingName:"postSource",value:_}))}),[]);var x=w?(0,V.__)("Post Type","post-expirator")+" *":(0,V.__)("Post Type","post-expirator"),R={postType:(null==p?void 0:p.postTypeDescription)||null,postId:(null==p?void 0:p.postIdDescription)||null,postStatus:(null==p?void 0:p.postStatusDescription)||null,postAuthor:(null==p?void 0:p.postAuthorDescription)||null,postTerms:(null==p?void 0:p.postTermsDescription)||null},k=(0,r.useCallback)((function(){var e=f.filter((function(e){return"user"===e.type}));return e=e.map((function(e){return{label:e.label,value:"{{".concat(e.name,".id}}")}})),[].concat(io(e),io(futureWorkflowEditor.postAuthors))}),[f]),O=(0,r.useMemo)((function(){return k()}),[k]);return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,h&&React.createElement(b.RadioControl,{label:(0,V.__)("Post selection","post-expirator"),selected:(null===(n=u)||void 0===n?void 0:n.postSource)||_,options:[{label:(0,V.__)("Post received as input","post-expirator"),value:"input"},{label:(0,V.__)("Custom query","post-expirator"),value:"custom"}],onChange:function(e){return g({settingName:"postSource",value:e})}}),E&&React.createElement(React.Fragment,null,React.createElement(ro,{label:x,value:(null===(o=u)||void 0===o?void 0:o.postType)||[],suggestions:m,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return g({settingName:"postType",value:e})}}),(null==R?void 0:R.postType)&&React.createElement("p",{className:"description"},R.postType),React.createElement(b.FormTokenField,{label:(0,V.__)("Post ID","post-expirator"),value:(null===(a=u)||void 0===a?void 0:a.postId)||[],onChange:function(e){return g({settingName:"postId",value:e})}}),(null==R?void 0:R.postId)&&React.createElement("p",{className:"description"},R.postId),!S&&React.createElement(React.Fragment,null,React.createElement(ro,{label:(0,V.__)("Post Status","post-expirator"),value:(null===(i=u)||void 0===i?void 0:i.postStatus)||[],suggestions:v,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return g({settingName:"postStatus",value:e})}}),(null==R?void 0:R.postStatus)&&React.createElement("p",{className:"description"},R.postStatus)),React.createElement(ro,{label:(0,V.__)("Post Author","post-expirator"),value:(null===(l=u)||void 0===l?void 0:l.postAuthor)||[],suggestions:O,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return g({settingName:"postAuthor",value:e})}}),(null==R?void 0:R.postAuthor)&&React.createElement("p",{className:"description"},R.postAuthor),React.createElement(ro,{label:(0,V.__)("Post Terms","post-expirator"),value:(null===(c=u)||void 0===c?void 0:c.postTerms)||[],suggestions:y,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return g({settingName:"postTerms",value:e})}}),(null==R?void 0:R.postTerms)&&React.createElement("p",{className:"description"},R.postTerms),React.createElement(b.PanelRow,null,React.createElement("p",{className:"description"},(0,V.__)("Separate multiple values with commas or Enter key.","post-expirator"))),w&&React.createElement(b.PanelRow,null,React.createElement("p",{className:"description"},(0,V.__)("* Required field","post-expirator"))))))};function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fo=window.futureWorkflowEditor;function mo(e){var t,n=e.label,r=e.disabled,o=fo.cronSchedules.map((function(e){return{name:e.label,id:"cron_".concat(e.value)}})),a=[{name:(0,V.__)("Non-repeating","post-expirator"),id:"single"},{name:(0,V.__)("Custom interval in seconds","post-expirator"),id:"custom"}].concat(function(e){if(Array.isArray(e))return po(e)}(t=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return po(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return React.createElement(b.TreeSelect,{label:n,tree:a,disabled:r})}function bo(e){var t=e.link;return React.createElement("div",{onClick:function(){window.open(t,"_blank")},style:{cursor:"pointer",marginLeft:"8px",color:"#000",backgroundColor:"#ffb200",borderRadius:"50%",minWidth:"26px",minHeight:"26px",display:"inline-block",textAlign:"center",boxSizing:"border-box",paddingTop:"5px"},title:(0,V.__)("Upgrade to Pro to unlock this feature.","post-expirator")},React.createElement(W,{icon:"lock",iconSize:14}))}function vo(e){var t=e.children,n=e.link;return React.createElement("div",{style:{display:"flex",alignItems:"center"}},t,React.createElement(bo,{link:n}))}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var go=function(e){var t,n,o,a=e.item,i=e.onClick,l=(n=(0,r.useState)(""),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(n,o)||function(e,t){if(e){if("string"==typeof e)return yo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],s=l[1],u=(0,V.sprintf)((0,V.__)("Type the %s key and click on the button to insert it.","post-expirator"),(null===(t=a.context)||void 0===t?void 0:t.table)||"meta"),d={id:"{{".concat(a.name,".").concat(c,"}}"),name:a.name+"."+c,label:(0,V.__)("Metadata key","post-expirator"),description:u,context:a.context};return React.createElement("div",{className:"column-item-form"},React.createElement(b.TextControl,{label:a.label,value:c,onChange:function(e){return s(e)},help:a.description}),React.createElement(b.Button,{variant:"secondary",onClick:function(){i(d)}},(0,V.__)("Insert","post-expirator")))},ho=function(e){var t=e.item,n=e.currentItemPath,r=e.onClick,o=e.setCurrentDescription,a=e.setCurrentVariableId,i=e.onDoubleClick,l=e.path,c=void 0===l?[]:l,s=e.index,u=e.columnIndex,d=t.children&&t.children.length>0,p=c.length-1,f=n[p],m=t.name.split(".")[0],b=m?"(".concat(m,")"):"",v=0===u&&"global"!==m;return React.createElement("div",{className:"column-item ".concat(f===s?"selected":""," ").concat(d?"has-children":""),onClick:function(){return r(c,p,s)},onMouseEnter:function(){o("".concat(t.description)),a(t.id)},onDoubleClick:function(){return i(t)}},t.label," ",v?React.createElement("span",{className:"column-item-step-slug"},b):"")},wo=function(e){var t=e.item,n=e.currentItemPath,r=e.onClick,o=e.setCurrentDescription,a=e.setCurrentVariableId,i=e.onDoubleClick,l=e.path,c=void 0===l?[]:l,s=e.index,u=e.columnIndex;return"meta-key-input"===(null==t?void 0:t.type)?React.createElement(go,{item:t,onClick:i}):React.createElement(ho,{item:t,currentItemPath:n,onClick:r,setCurrentDescription:o,setCurrentVariableId:a,onDoubleClick:i,path:c,index:s,columnIndex:u})};function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function Eo(e){return function(e){if(Array.isArray(e))return xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||So(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){if(e){if("string"==typeof e)return xo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(e,t):void 0}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return(t=function(e){var t=function(e){if("object"!=_o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao=function e(t){var n,o,a=t.currentItemPath,i=t.currentItems,l=t.onClick,c=t.setCurrentDescription,s=t.onDoubleClick,u=t.path,d=void 0===u?[]:u,p=t.setCurrentVariableId;if(t.columnIndex,!i)return null;var f=d.length,m=a[f],b=i[m],v=(0,r.useCallback)((function(e){var t,n=(0,V.sprintf)((0,V.__)("Type the %s key and click on the button to insert it.","post-expirator"),(null===(t=e.context)||void 0===t?void 0:t.table)||"meta");return ko(ko({},e),{},{children:[{name:e.name,label:(0,V.__)("Metadata key","post-expirator"),description:n,type:"meta-key-input",context:e.context}]})}),[]);return"meta"===(null===(n=b)||void 0===n?void 0:n.type)&&(b=v(b)),React.createElement(React.Fragment,null,React.createElement("div",{className:"column",key:"column-".concat(d.join("-"))},i.map((function(e,t){return"meta"===e.type&&(e=v(e)),React.createElement(wo,{key:"column-item-".concat(d.join("-"),"-").concat(t),item:e,currentItemPath:a,onClick:l,setCurrentDescription:c,setCurrentVariableId:p,onDoubleClick:s,path:[].concat(Eo(d),[t]),index:t,columnIndex:f})}))),void 0!==m&&(null===(o=b)||void 0===o?void 0:o.children)&&React.createElement(e,{currentItemPath:a,currentItems:b.children,path:[].concat(Eo(d),[m]),onClick:l,setCurrentDescription:c,setCurrentVariableId:p,onDoubleClick:s}))};const Co=function(e){var t,n,o=e.items,a=e.setCurrentDescription,i=e.onDoubleClick,l=e.setCurrentVariableId,c=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||So(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1],d=(0,r.useCallback)((function(e,t,n){var r=e.slice(0,t+1);r.push(n),u(r);var o=document.querySelector(".columns-container");o&&setTimeout((function(){o.scrollLeft=o.scrollWidth}),0)}),[u]);return React.createElement("div",{className:"columns-container"},React.createElement(Ao,{currentItems:o,currentItemPath:s,onClick:d,onDoubleClick:i,setCurrentDescription:a,setCurrentVariableId:l}))};var To=function(e){var t=e.url,n=e.label;return n||(n=(0,V.__)("Learn more","post-expirator")),React.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},n)},Po=function(e){var t=e.text,n=e.helpUrl,r=e.className,o=void 0===r?"description margin-top":r;return React.createElement("p",{className:o},t," ",n&&React.createElement(React.Fragment,null,React.createElement(To,{url:n})))},No=(n(952),n(470)),jo=(n(2797),n(9073),n(47),function(e){var t=e.onClose,n=e.children;return React.createElement("div",{className:"workflow-editor-modal-footer"},n||React.createElement(b.Button,{variant:"primary",onClick:t},(0,V.__)("OK","post-expirator")))}),Do=n(5072),Io=n.n(Do),Mo=n(7825),Lo=n.n(Mo),Fo=n(7659),Wo=n.n(Fo),Vo=n(5056),Uo=n.n(Vo),zo=n(540),Bo=n.n(zo),Ho=n(1113),Go=n.n(Ho),qo=n(5557),$o={};function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ko(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ko(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}$o.styleTagTransform=Go(),$o.setAttributes=Uo(),$o.insert=Wo().bind(null,"head"),$o.domAPI=Lo(),$o.insertStyleElement=Bo(),Io()(qo.A,$o),qo.A&&qo.A.locals&&qo.A.locals;var Zo=function(e){var t=e.name,n=e.label,o=void 0===n?"":n,a=e.defaultValue,i=e.onChange,l=e.variables,c=void 0===l?[]:l,s=e.propertyName,u=void 0===s?"expression":s,d=e.settings,p=void 0===d?{}:d,f=e.description,m=void 0===f?"":f,v=e.isInline,y=void 0!==v&&v,g=e.readOnlyPreview,h=void 0!==g&&g,w=e.singleVariableOnly,_=void 0!==w&&w,E=e.wrapOnPreview,S=void 0!==E&&E,x=e.wrapOnEditor,R=void 0!==x&&x,k=e.oneLinePreview,O=void 0!==k&&k,A=e.helpUrl,C=void 0===A?"":A,T=e.autoComplete,P=void 0===T||T,N=e.completers,j=void 0===N?[]:N,D=(0,r.useRef)(null),I=(0,r.useRef)(null),M=Yo((0,r.useState)(),2),L=M[0],F=M[1],U=Yo((0,r.useState)(),2),z=U[0],B=U[1],H=Yo((0,r.useState)(!1),2),G=H[0],q=H[1];a||(a={});var $=(0,r.useCallback)((function(e){var n=e.settingName,r=e.value,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){Qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a);o[n]=r,i&&i(t,o),r.includes("error")&&[].push({row:0,column:10,text:"Example error: 'error' found in code",type:"error"}),D.current}),[a]),K=(0,r.useCallback)((function(){q(!1)}),[q]),J=(0,r.useCallback)((function(e){if(D.current){var t=D.current.editor;if(_)t.session.setValue(e.id);else{var n=t.getCursorPosition();t.session.insert(n,e.id)}t.focus(),_&&q(!1)}}),[D,_]),Q={$blockScrolling:!0};(0,r.useEffect)((function(){S&&I.current&&I.current.editor.setOption("indentedSoftWrap",!1)}),[S,I]);var Y=(a[u]||"").toString(),X=((null==p?void 0:p.placeholder)||"").toString();return(0,r.useEffect)((function(){0!==j.length&&(D.current&&(D.current.editor.completers=j),I.current&&(I.current.editor.completers=j))}),[j,D,I]),React.createElement("div",{className:"expression-builder ".concat(G?"expression-builder-open":""," ").concat(y?"expression-builder-inline":"")},React.createElement(b.Button,{variant:"secondary",onClick:function(){return q(!0)},className:"expression-builder-button",icon:React.createElement(W,{icon:"braces",iconSize:16}),title:(0,V.__)("Edit","post-expirator")}),!y&&o&&React.createElement(b.__experimentalHeading,{level:3,className:"expression-builder-small-heading"},o),React.createElement(No.Ay,{ref:I,mode:"handlebars",theme:"textmate",name:"expression-builder-small",value:Y,readOnly:h,className:h?"read-only-editor":"",editorProps:Q,wrapEnabled:S,onChange:function(e){return $({settingName:u,value:e})},setOptions:{enableBasicAutocompletion:P,enableLiveAutocompletion:P,showGutter:!1,showPrintMargin:!1,showLineNumbers:!1,highlightActiveLine:!1},height:O?"30px":"92px",width:"100%",placeholder:X}),m&&React.createElement(Po,{text:m,helpUrl:C}),G&&React.createElement(b.Modal,{title:o,onRequestClose:K,className:"workflow-editor-modal expression-builder-modal"},React.createElement("div",{style:{minWidth:"600px",maxWidth:"600px"}},_&&React.createElement("p",null,(0,V.__)("Select a variable from the list below.","post-expirator")),!_&&React.createElement("p",null,(0,V.__)("Type your expression here or use the variables below.","post-expirator")),React.createElement(No.Ay,{ref:D,mode:"handlebars",theme:"textmate",name:"expression-builder-full",className:_?"read-only-editor":"",wrapEnabled:R,onChange:function(e){return $({settingName:u,value:e})},value:Y,editorProps:Q,readOnly:_,setOptions:{enableBasicAutocompletion:P,enableLiveAutocompletion:P,showLineNumbers:!_,showGutter:!_,highlightActiveLine:!_},height:_?"30px":"200px",width:"100%",placeholder:X}),React.createElement("div",{className:"expression-builder-modal-variables",style:{maxWidth:"600px",overflowX:"auto"}},React.createElement(b.__experimentalHeading,{level:2,className:"components-truncate components-text components-heading block-editor-inspector-popover-header__heading"},(0,V.__)("Variables","post-expirator")),_&&React.createElement("p",null,(0,V.__)("Double-click on a variable to select it.","post-expirator")),!_&&React.createElement("p",null,(0,V.__)("Double-click on any variable to add it to your expression.","post-expirator")),L&&React.createElement("p",{className:"description margin-top"},React.createElement("code",{className:"expression-builder-variable-name"},z)," ",L),!L&&React.createElement("p",{className:"description margin-top"},(0,V.__)("Hover over a variable to see its description.","post-expirator")),React.createElement(Co,{items:c,setCurrentDescription:F,setCurrentVariableId:B,onDoubleClick:J}))),React.createElement(jo,{onClose:K})))};const ea=Zo;function ta(e){var t=e.label,n=e.selectedId,r=e.onChange,o=e.tree;return React.createElement(b.TreeSelect,{label:t,tree:o,selectedId:n,onChange:r})}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ra(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oa=wp.apiFetch;n(9922);var aa=function(e){var t=e.offset,n=e.label,o=e.labelDatePreview,a=e.labelOffsetPreview,i=e.setValidationErrorCallback,l=e.setHasPendingValidationCallback,c=e.setHasValidDataCallback,s=e.compactView,u=void 0!==s&&s,d=na((0,r.useState)(""),2),p=d[0],f=d[1],m=na((0,r.useState)(),2),b=m[0],v=m[1],y=(0,r.useRef)(new AbortController);(0,r.useEffect)((function(){!function(){if(t){var e=y.current;e&&e.abort(),y.current=new AbortController;var n=y.current.signal;l(!0),oa({path:(0,$t.addQueryArgs)("publishpress-future/v1/settings/validate-expire-offset"),method:"POST",data:{offset:t},signal:n}).then((function(e){l(!1),c(e.isValid),i(e.message),e.isValid?(f(e.calculatedTime),v(e.currentTime)):f("")})).catch((function(e){"AbortError"!==e.name&&(l(!1),c(!1),i(e.message),f(""))}))}}()}),[t]);var g=u?" compact":"";return React.createElement(r.Fragment,null,t&&React.createElement("div",{className:"publishpress-future-date-preview"+g},React.createElement("h4",null,n),React.createElement("div",{className:"publishpress-future-date-preview-body"},React.createElement("div",null,React.createElement("span",{className:"publishpress-future-date-preview-label"},o,": "),React.createElement("span",{className:"publishpress-future-date-preview-value"},b)),React.createElement("div",null,React.createElement("span",{className:"publishpress-future-date-preview-label"},a,": "),React.createElement("span",{className:"publishpress-future-date-preview-value"},p)))))};function ia(e){return e.replace(/<[^>]*>?/gm,"")}function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e,t,n){return(t=function(e){var t=function(e){if("object"!=la(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=la(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==la(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||da(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){if(e){if("string"==typeof e)return pa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(e,t):void 0}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fa=function(e){var t=e.name,n=e.label,o=e.defaultValue,a=e.onChange,i=e.variables,l=void 0===i?[]:i,c=e.settings,s=(0,r.useMemo)((function(){return l}),[l]),u=ua((0,r.useState)(!1),2),d=u[0],p=u[1],f=ua((0,r.useState)(!0),2),m=f[0],v=f[1],y=ua((0,r.useState)(""),2),g=y[0],h=y[1],w=(0,r.useCallback)((function(e){var n=e.settingName,r=e.value,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o);i[n]=r,a&&a(t,i)}),[o,t,a]),_=(0,r.useMemo)((function(){var e=[{name:(0,V.__)("Selected in the calendar","post-expirator"),id:"calendar"},{name:(0,V.__)("When the trigger is activated","post-expirator"),id:"event"},{name:(0,V.__)("When the step is activated","post-expirator"),id:"step"},{name:(0,V.__)("Custom date source","post-expirator"),id:"custom"}];return c&&null!=c&&c.hideDateSources&&(e=e.filter((function(e){return!c.hideDateSources.includes(e.id)}))),e}),[c]),E=(0,r.useMemo)((function(){var e,t=[{name:(0,V.__)("As soon as possible","post-expirator"),id:"now"},{name:(0,V.__)("On a specific date","post-expirator"),id:"date"},{name:(0,V.__)("Relative to a specific date","post-expirator"),id:"offset"}];return c&&null!=c&&c.showEmptyDateOption&&(t=[{name:(null==c?void 0:c.emptyDateOptionLabel)||(0,V.__)("Unchanged","post-expirator"),id:""}].concat(function(e){if(Array.isArray(e))return pa(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||da(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),c&&null!=c&&c.hideDateStrategy&&(t=t.filter((function(e){return!c.hideDateStrategy.includes(e.id)}))),t}),[c]);return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.PanelRow,null,React.createElement(b.TreeSelect,{label:n,tree:E,selectedId:o.dateStrategy,onChange:function(e){return w({settingName:"dateStrategy",value:e})}})),("date"===o.dateStrategy||"offset"===o.dateStrategy)&&React.createElement(React.Fragment,null,React.createElement(b.PanelRow,null,React.createElement(ta,{label:(0,V.__)("Date source","post-expirator"),tree:_,selectedId:o.dateSource,onChange:function(e){return w({settingName:"dateSource",value:e})}})),"calendar"===o.dateSource&&React.createElement(b.PanelRow,null,React.createElement(b.DateTimePicker,{currentDate:o.specificDate,onChange:function(e){return w({settingName:"specificDate",value:e})}})),"custom"===o.dateSource&&React.createElement(b.PanelRow,null,React.createElement(Zo,{name:"customDateSource",label:(0,V.__)("Custom date source","post-expirator"),defaultValue:o.customDateSource,onChange:function(e,t){w({settingName:"customDateSource",value:t})},variables:s,singleVariableOnly:!1,readOnlyPreview:!0,description:(0,V.__)("Click the button to choose a custom date source from variables that can provide a date.","post-expirator"),wrapOnPreview:!1,wrapOnEditor:!1,oneLinePreview:!0})),"offset"===o.dateStrategy&&React.createElement(React.Fragment,null,React.createElement(b.PanelRow,null,React.createElement(b.TextControl,{label:(0,V.__)("Offset","post-expirator"),value:o.dateOffset,onChange:function(e){return w({settingName:"dateOffset",value:e})}})),React.createElement(b.PanelRow,null,React.createElement(aa,{offset:o.dateOffset,label:(0,V.__)("Date Preview","post-expirator"),labelDatePreview:(0,V.__)("Current Date","post-expirator"),labelOffsetPreview:(0,V.__)("Computed Date","post-expirator"),setValidationErrorCallback:function(e){e?(h(e),v(!1)):(h(""),v(!0))},setHasPendingValidationCallback:function(){},setHasValidDataCallback:function(e){v(e),e&&h("")},compactView:!0})),!m&&React.createElement(b.PanelRow,null,React.createElement("div",{className:"publishpress-future-notice publishpress-future-notice-error"},(0,V.__)("Error: ","post-expirator")," ",g)),React.createElement(b.PanelRow,null,React.createElement(b.Button,{variant:"link",onClick:function(){return p((function(e){return!e}))}},(0,V.__)("Click for more information","post-expirator"),d&&React.createElement(b.Popover,null,React.createElement("div",{className:"settings-field-help-popover"},React.createElement(b.Button,{variant:"tertiary",icon:"no-alt"}),React.createElement("div",{dangerouslySetInnerHTML:{__html:(0,V.sprintf)(ia((0,V.__)("For more information on formatting, see the %sPHP strtotime function%s. For example, you could enter %s+1 month%s or %s+1 week 2 days 4 hours 2 seconds%s or %snext Thursday%s. Please use only phrases in English.","post-expirator")),"<a href='https://www.php.net/manual/en/function.strtotime.php' target='_blank'>","</a>","<code>","</code>","<code>","</code>","<code>","</code>")}})))))))))};const ma=fa;function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){ga(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ga(e,t,n){return(t=function(e){var t=function(e){if("object"!=ba(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ba(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ha=function(e){var t,n=e.name,o=e.label,a=e.defaultValue,i=e.onChange,c=e.variables,u=void 0===c?[]:c,d=e.settings,p=(0,r.useMemo)((function(){return u}),[u]),f=new Date;f.setDate(f.getDate()+3);var v=new Date;v.setDate(v.getDate()+7),a=ya({whenToRun:"now",dateSource:"calendar",recurrence:"single",repeatUntil:"forever",repeatInterval:"3600",repeatIntervalUnit:"seconds",repeatTimes:"5",repeatUntilDate:v,unique:!0,priority:"10",specificDate:f,dateOffset:"+7 days"},a);var y=(0,l.useSelect)((function(e){return{isAdvancedSettingsEnabled:e(s.M_).isFeatureActive(m.yY)}})).isAdvancedSettingsEnabled;!["calendar","event","step","custom"].includes(a.dateSource)&&(a.customDateSource=a.dateSource,a.dateSource="custom");var g=null==d?void 0:d.hidePreventDuplicateScheduling,h=(0,Ur.useCallback)((function(e){var t=e.settingName,r=e.value,o=ya({},a);o[t]=r,i&&i(n,o)}),[a,n,i]),w=(0,Ur.useCallback)((function(e,t){t.whenToRun=t.dateStrategy,delete t.dateStrategy,i&&i(n,ya(ya({},a),t))}),[a,n,i]),_=q();return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(fa,{name:n,label:o,defaultValue:ya(ya({},a),{},{dateStrategy:a.whenToRun}),onChange:w,variables:u,settings:{hideDateSources:null==d?void 0:d.hideDateSources}}),!_&&React.createElement(React.Fragment,null,React.createElement(b.PanelRow,{className:"margin-bottom-0"},React.createElement(vo,{link:"https://publishpress.com/links/future-workflow-inspector"},React.createElement(mo,{label:(0,V.__)("Repeating Action","post-expirator"),disabled:!0}))),React.createElement(b.PanelRow,{className:"margin-top-0"},React.createElement(Po,{text:(0,V.__)("Choose how often this task should repeat. Select 'Non-repeating' for a one-time action or set an interval for automatic recurrence.","post-expirator")}))),React.createElement(b.Slot,{name:"DateOffsetAfterDateSourceField",fillProps:{onChangeSetting:h,defaultValue:a}}),y&&React.createElement(React.Fragment,null,!g&&React.createElement(React.Fragment,null,React.createElement(b.PanelRow,null,React.createElement(ea,{name:"uniqueIdExpression",label:(0,V.__)("Unique Task Identifier","post-expirator"),defaultValue:null!==(t=a.uniqueIdExpression)&&void 0!==t?t:"",onChange:function(e,t){h({settingName:"uniqueIdExpression",value:t})},variables:p,description:(0,V.__)("Define a unique ID to detect and prevent duplicate tasks.","post-expirator"),oneLinePreview:!0,wrapOnPreview:!1,wrapOnEditor:!1,helpUrl:"https://publishpress.com/docs/schedule-delay/#preventing-duplicate-scheduled-tasks-task-identification-guide"}))))))};function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const _a=function(e){var t,n,o,a,i,l=e.name,c=e.label,s=e.defaultValue,u=e.onChange,d=e.variables,p=void 0===d?[]:d,f=(a=(0,r.useState)(),i=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(a,i)||function(e,t){if(e){if("string"==typeof e)return wa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wa(e,t):void 0}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=f[0],v=f[1],y=function(e,t){u&&u(e,t)};null!==(t=s)&&void 0!==t&&t.dataToOutput&&"{{all-input}}"===(s={expression:"{{".concat(s.dataToOutput,"}}")}).expression&&(s.expression="{{input}}"),null!==(n=s)&&void 0!==n&&n.expression&&"{{custom-data}}"===(null===(o=s)||void 0===o?void 0:o.expression)&&(s={expression:s.customData}),(0,r.useEffect)((function(){var e;"{{input}}"===(null===(e=s)||void 0===e?void 0:e.expression)?v("input"):v("custom-data")}),[]);var g=[{label:(0,V.__)("All received input","post-expirator"),value:"input"},{label:(0,V.__)("Custom data","post-expirator"),value:"custom-data"}],h=(0,r.useCallback)((function(e){v(e),"input"===e?y(l,{expression:"{{input}}"}):(s.expression="",y(l,{expression:s.expression}))}),[y,l,s]);return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.RadioControl,{options:g,label:(0,V.__)("Select the data to output","post-expirator"),selected:m,onChange:h}),"custom-data"===m&&React.createElement(Zo,{name:l,label:c,defaultValue:s||{expression:"{{input}}"},onChange:y,variables:p})))},Ea=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=(e.variables,[{label:(0,V.__)("No color","post-expirator"),value:"default"},{label:(0,V.__)("Green","post-expirator"),value:"green"},{label:(0,V.__)("Orange","post-expirator"),value:"orange"},{label:(0,V.__)("Red","post-expirator"),value:"red"},{label:(0,V.__)("Blue","post-expirator"),value:"blue"},{label:(0,V.__)("Purple","post-expirator"),value:"purple"},{label:(0,V.__)("Gray","post-expirator"),value:"gray"}]);return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.SelectControl,{label:n,options:a,value:r||"default",onChange:function(e){return function(e){var n=e.value;o&&o(t,n)}({value:e})}})))},Sa=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=e.settings,i=(e.variables,e.helpUrl),l=e.description;r||(r="");var c=(null==a?void 0:a.placeholder)||"";return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.TextControl,{label:n,value:r||"",onChange:function(e){return function(e){var n=e.value;o&&o(t,n)}({value:e})},placeholder:c}),l&&React.createElement(Po,{text:l,helpUrl:i})))};function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function Ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ka(e,t,n){return(t=function(e){var t=function(e){if("object"!=xa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oa=function(e){var t,n,o,a,i,s,u,d=e.name,p=(e.label,e.defaultValue),f=e.onChange,m=e.settings,v=futureWorkflowEditor.taxonomies,y=(null===(t=p)||void 0===t?void 0:t.taxonomy)||(null===(n=v[0])||void 0===n?void 0:n.value),g=(0,l.useSelect)((function(e){return{taxonmoyTerms:e(c.M).getTaxonomyTerms(y)}})).taxonmoyTerms,h=(0,l.useDispatch)(c.M).fetchTaxonomyTerms,w=m&&!0===(null==m?void 0:m.optionToSelectAll),_=m&&(null==m?void 0:m.labelOptionToSelectAll),E=function(e){var t=e.settingName,n=e.value,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p);r[t]=n,f&&f(d,r)};return(0,r.useEffect)((function(){p||(p={taxonomy:y,terms:[]},E({settingName:"taxonomy",value:y}))}),[]),(0,r.useEffect)((function(){h(y)}),[y]),React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.SelectControl,{label:(0,V.__)("Taxonomy","post-expirator"),value:null===(o=p)||void 0===o?void 0:o.taxonomy,options:v,onChange:function(e){return E({settingName:"taxonomy",value:e})}}),w&&React.createElement(React.Fragment,null,React.createElement(b.RadioControl,{label:(0,V.__)("Select the terms","post-expirator"),selected:(null===(a=p)||void 0===a?void 0:a.selectAll)||"0",options:[{label:_,value:"1"},{label:(0,V.__)("Specific terms","post-expirator"),value:"0"}],onChange:function(e){return E({settingName:"selectAll",value:e})}}),"1"!==(null===(i=p)||void 0===i?void 0:i.selectAll)&&g.length&&React.createElement(oo,{label:(0,V.__)("Terms","post-expirator"),value:(null===(s=p)||void 0===s?void 0:s.terms)||[],suggestions:g,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return E({settingName:"terms",value:e})}})),!w&&g.length&&React.createElement(oo,{label:(0,V.__)("Terms","post-expirator"),value:(null===(u=p)||void 0===u?void 0:u.terms)||[],suggestions:g,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return E({settingName:"terms",value:e})},className:"future-taxonomy-terms"})))};function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e,t,n){return(t=function(e){var t=function(e){if("object"!=Aa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Aa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pa=function(e){var t,n,o=e.name,a=(e.label,e.defaultValue),i=e.onChange,l=(e.settings,futureWorkflowEditor.postStatuses),c=function(e){var t=e.settingName,n=e.value,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){Ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a);r[t]=n,i&&i(o,r)},s=null===(t=l[0])||void 0===t?void 0:t.value;return(0,r.useEffect)((function(){a||(a={newStatus:s},c({settingName:"status",value:s}))}),[]),React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.SelectControl,{label:(0,V.__)("New Status","post-expirator"),value:null===(n=a)||void 0===n?void 0:n.status,options:l,onChange:function(e){return c({settingName:"status",value:e})}})))},Na=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.settings,a=e.onChange,i=(e.variables,function(e){var n=e.value;a&&a(t,n)});r||(r="");var l=(null==o?void 0:o.placeholder)||"";return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.TextareaControl,{label:n,value:r||"",onChange:function(e){return i({value:e})},placeholder:l})))};function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e,t,n){return(t=function(e){var t=function(e){if("object"!=ja(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ja(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=e.tree;return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(ta,{tree:a,label:n,selectedId:null==r?void 0:r.variable,onChange:function(e){return function(e){var n=e.settingName,a=e.value,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);i[n]=a,o&&o(t,i)}({settingName:"variable",value:e})}})))}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Fa=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=e.variables;a=(0,J.JA)(a,["post","array:integer"]);var i,l=[{id:"",name:"",children:[]}].concat(function(e){if(Array.isArray(e))return La(e)}(i=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return La(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return React.createElement(Ma,{tree:l,name:t,label:n,defaultValue:r,onChange:o})};function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Va=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=e.variables;a=(0,J.JA)(a,["workflow","array:integer"]);var i,l=[{id:"",name:"",children:[]}].concat(function(e){if(Array.isArray(e))return Wa(e)}(i=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return Wa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wa(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return React.createElement(Ma,{tree:l,name:t,label:n,defaultValue:r,onChange:o})};function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const za=function(e){var t,n=e.name,r=e.label,o=e.defaultValue,a=e.onChange,i=e.settingsSchema[0].fields[2].options,l=function(e){if(Array.isArray(e))return Ua(e)}(t=i=i.map((function(e){return{id:e.value,name:e.label,children:[]}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return React.createElement(Ma,{tree:l,name:n,label:r,defaultValue:o,onChange:a})};var Ba=n(9852),Ha=n(2288);function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qa=function(e){var t,n,o=e.checked,a=e.handleOnChange,i=(t=(0,r.useState)(o||!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ga(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ga(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];(0,r.useEffect)((function(){u(o||!1)}),[o]);var d=(0,l.useSelect)((function(e){return{currentConditionalQuery:e(s.M_).getCurrentConditionalQuery()}})).currentConditionalQuery;return React.createElement(React.Fragment,null,d&&d.rules.length>0&&React.createElement(b.CheckboxControl,{label:(0,V.__)("Not","post-expirator"),checked:c,onChange:function(){var e=!c;u(e),a(e)},className:c?"is-checked":""}))},$a=function(e){var t=e.label,n=e.handleOnClick;return React.createElement(b.Button,{onClick:n,variant:"secondary"},t)},Ka=function(e){e.label;var t=e.handleOnClick;return React.createElement(b.Button,{onClick:t,variant:"secondary",className:"conditional-editor-modal-remove-element"},React.createElement(b.Dashicon,{icon:"trash",size:16}))},Ja=function(e){var t=e.label,n=e.value,r=e.options,o=e.handleOnChange;return React.createElement(b.SelectControl,{label:t,value:n,options:r,onChange:o})},Qa=function(e){var t=e.label,n=e.value,r=e.options,o=e.handleOnChange;return React.createElement(b.SelectControl,{label:t,value:n,options:r,onChange:o,className:"conditional-editor-modal-operator-selector"})},Ya=function(e){var t=e.defaultValue,n=e.editorRef,r=e.editorProps,o=e.editorOptions;return null!=t&&t.natural?React.createElement(No.Ay,{ref:n,mode:"handlebars",theme:"textmate",name:"expression-builder-natural-language",className:"read-only-editor settings-panel",wrapEnabled:!0,value:(null==t?void 0:t.natural)||"",editorProps:r,readOnly:!0,setOptions:o}):null},Xa=n(840),Za=n(5008);function ei(e){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(e)}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ri(e,t,n){return(t=function(e){var t=function(e){if("object"!=ei(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ei(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n(420);var ii=n(5695),li={};li.styleTagTransform=Go(),li.setAttributes=Uo(),li.insert=Wo().bind(null,"head"),li.domAPI=Lo(),li.insertStyleElement=Bo(),Io()(ii.A,li),ii.A&&ii.A.locals&&ii.A.locals;var ci=n(5503),si={};function ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return di(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}si.styleTagTransform=Go(),si.setAttributes=Uo(),si.insert=Wo().bind(null,"head"),si.domAPI=Lo(),si.insertStyleElement=Bo(),Io()(ci.A,si),ci.A&&ci.A.locals&&ci.A.locals;var pi={$blockScrolling:!0},fi={enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,showGutter:!1,showPrintMargin:!1,showLineNumbers:!1,showInvisibles:!1,highlightActiveLine:!1},mi={addGroup:{label:(0,V.__)("Add Group","post-expirator")},addRule:{label:(0,V.__)("Add Rule","post-expirator")}},bi={queryBuilder:"queryBuilder-branches"},vi=function(e){var t=e.FieldComponent,n=e.ValueComponent,o=e.modalTitle,a=void 0===o?(0,V.__)("Condition","post-expirator"):o,i=e.modalDescription,c=void 0===i?(0,V.__)("Create rules that will continue the workflow only if certain conditions are met.","post-expirator"):i,u=e.buttonText,d=void 0===u?(0,V.__)("Edit condition","post-expirator"):u,p=e.proFeatureMessage,f=void 0===p?(0,V.__)("Conditional logic is a Pro feature. Upgrade to create advanced conditions for your workflows.","post-expirator"):p,m=e.onQueryChange,v=void 0===m?null:m,y=e.isProFeature,g=void 0!==y&&y,h=e.defaultField,w=void 0===h?"":h,_=e.queryFields,E=void 0===_?null:_;return function(e){var o=e.name,i=e.label,u=e.defaultValue,p=e.onChange,m=e.variables,y=function(e){var t,n,o=e.defaultValue,a=e.name,i=e.onChange,l=e.variables,c=(t=(0,r.useState)((0,Xa.parseJsonLogic)((null==o?void 0:o.json)||"")),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return oi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oi(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1],d=(0,r.useCallback)((function(){var e=(0,Za.OJ)(s,{format:"jsonlogic",parseNumbers:!0}),t=(0,Za.OJ)(s,{format:"natural_language",parseNumbers:!0,fields:l,getOperators:function(){return Za.lV}});return ni(ni({},o),{},{json:e,natural:t})}),[s,o,i,a,l]);return{query:s,setQuery:u,formatCondition:d}}({defaultValue:u,name:o,onChange:p,variables:null!=E?E:m,onQueryChange:v}),h=y.query,_=y.setQuery,S=y.formatCondition,x=function(e){var t,n,o=e.onChange,a=e.name,i=e.formatCondition,l=e.isModalOpenByDefault,c=void 0!==l&&l,s=(t=(0,r.useState)(c),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ai(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],d=s[1],p=(0,r.useCallback)((function(){o&&o(a,i()),m()}),[m,o,a,i]),f=(0,r.useCallback)((function(){d(!0)}),[d]),m=(0,r.useCallback)((function(){d(!1)}),[d]);return{isModalOpen:u,onCloseModal:p,openModal:f,closeModal:m,setIsModalOpen:d}}({onChange:p,name:o,formatCondition:S}),R=x.isModalOpen,k=x.onCloseModal,O=x.openModal,A=function(){var e=(0,r.useRef)(null);return(0,r.useEffect)((function(){e.current&&e.current.editor.setOption("indentedSoftWrap",!1)}),[e]),[e]}(),C=ui(A,1)[0],T=ui([(0,r.useCallback)((function(e){e&&e.rules&&function e(t){Array.isArray(t)&&t.forEach((function(t){var n;t.rules?e(t.rules):t.field&&(t.field=("string"!=typeof(n=t.field)||n.startsWith("{{")&&n.endsWith("}}"),n))}))}(e.rules)}),[])],1)[0],P=(0,l.useDispatch)(s.M_).setCurrentConditionalQuery,N=(0,r.useCallback)((function(e){return w}),[]);(0,r.useEffect)((function(){T(h)}),[]),(0,r.useEffect)((function(){P(h)}),[h]);var j={fieldSelector:t,valueEditor:n,notToggle:qa,addRuleAction:$a,addGroupAction:$a,removeGroupAction:Ka,removeRuleAction:Ka,combinatorSelector:Ja,operatorSelector:Qa},D=(0,r.useMemo)((function(){return{variables:m,name:o,label:i}}),[m,o,i]),I=q();return React.createElement("div",{className:"conditional-editor"},React.createElement(b.Button,{onClick:O,variant:"secondary"},d),React.createElement(Ya,{defaultValue:u,editorRef:C,editorProps:pi,editorOptions:fi}),!I&&g&&React.createElement("div",{className:"conditional-editor-pro-feature-message"},React.createElement("p",{className:"description margin-top"},f)),R&&React.createElement(b.Modal,{onClose:k,title:a,onRequestClose:k,className:"workflow-editor-modal conditional-editor-modal"},React.createElement("p",null,c),React.createElement(Ha.qy,null,React.createElement(Ba.oS,{fields:m,onQueryChange:_,query:h,addRuleToNewGroups:!0,parseNumbers:"strict-limited",showCombinatorsBetweenRules:!0,showNotToggle:!0,enableDragAndDrop:!0,controlClassnames:bi,translations:mi,controlElements:j,context:D,getDefaultField:N})),React.createElement(jo,{onClose:k})))}},yi=function(e){var t=e.value,n=e.handleOnChange,r=e.context,o=e.readOnlyPreview,a=e.singleVariableOnly,i=e.autoComplete,l=void 0!==i&&i,c=e.completers,s=void 0===c?[]:c;return"global.site"===t&&(t=""),React.createElement("div",null,React.createElement(ea,{name:r.name,label:r.label,defaultValue:{expression:t},onChange:function(e,t){n&&n(t.expression)},variables:r.variables,isInline:!0,readOnlyPreview:o||!1,singleVariableOnly:a||!1,oneLinePreview:!0,wrapOnPreview:!1,wrapOnEditor:!1,autoComplete:l,completers:s}))},gi=function(e){var t=e.value,n=e.handleOnChange,r=e.context;return React.createElement(yi,{value:t,handleOnChange:n,context:r,readOnlyPreview:!0,singleVariableOnly:!1})};const hi={getCompletions:function(e,t,n,r,o){o(null,futureWorkflowEditor.postTypes.map((function(e){return{caption:e.value,value:e.value,meta:(0,V.__)("Post Type","post-expirator")}})))}},wi={getCompletions:function(e,t,n,r,o){o(null,futureWorkflowEditor.postStatuses.map((function(e){return{caption:e.value,value:e.value,meta:(0,V.__)("Post Status","post-expirator")}})))}};function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ei=function(e){var t,n,o=e.value,a=e.handleOnChange,i=e.context,l=e.rule,c=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1],d=(0,r.useMemo)((function(){return(0,J.PR)(l.field,i.variables)}),[l,i]);return(0,r.useEffect)((function(){var e=[];switch(d){case"post_type":e.push(hi);break;case"post_status":e.push(wi)}u(e)}),[d]),"null"===l.operator||"notNull"===l.operator?React.createElement("div",null):React.createElement(yi,{options:d,value:o,handleOnChange:a,context:i,readOnlyPreview:!1,autoComplete:!0,completers:s})};const Si=vi({FieldComponent:gi,ValueComponent:Ei,isProFeature:!0,defaultField:"{{global.user.id}}"}),xi=function(e){var t=e.name,n=(e.label,e.defaultValue),r=e.onChange,o=(e.variables,[{name:(0,V.__)("Debug","post-expirator"),id:"debug"},{name:(0,V.__)("Info","post-expirator"),id:"info"},{name:(0,V.__)("Notice","post-expirator"),id:"notice"},{name:(0,V.__)("Warning","post-expirator"),id:"warning"},{name:(0,V.__)("Error","post-expirator"),id:"error"},{name:(0,V.__)("Critical","post-expirator"),id:"critical"},{name:(0,V.__)("Alert","post-expirator"),id:"alert"}]);return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.TreeSelect,{label:(0,V.__)("Level","post-expirator"),tree:o,selectedId:n||"debug",onChange:function(e){return function(e){var n=e.value;r&&r(t,n)}({settingName:"level",value:e})}})))},Ri=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=(e.settings,e.description),i=(e.variables,function(e){var n=e.value;o&&o(t,n)});return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.ToggleControl,{label:n,checked:r||!1,onChange:function(e){return i({value:e})}}),a&&React.createElement("p",{className:"description"},a)))};function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Oi=function(e){var t,n,o=e.name,a=e.label,i=e.popoverLabel,l=e.valuePreview,c=e.onClosePopover,s=e.children,u=e.isLoading,d=e.autoOpen,p=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ki(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],m=p[1];(0,r.useEffect)((function(){d&&m(!0)}),[d]);var v=(0,r.useCallback)((function(){m(!1),c&&c()}),[c]);return i||(i=a),React.createElement(React.Fragment,null,React.createElement(b.__experimentalHStack,{className:"workflow-editor-panel__row"},React.createElement("div",{className:"workflow-editor-panel__row-label"},a),React.createElement("div",{className:"workflow-editor-panel__row-control"},React.createElement(b.Button,{variant:"tertiary",onClick:function(){return m(!0)},className:"is-compact",disabled:u},u?React.createElement(b.Spinner,null):l))),f&&React.createElement($r,{onClose:v,className:"workflow-editor-inspector-".concat(o,"-popover"),title:i},s))},Ai=function(e){var t=e.name,n=e.label,o=e.valuePreview,a=e.onClosePopover,i=e.checkboxLabel,l=e.defaultValue,c=e.onChange,s=e.children,u=e.onUncheckUpdate,d=e.isLoading,p=(0,r.useCallback)((function(e){l.update=e,c(t,l),!e&&u&&u()}),[c,t,l,u]);return React.createElement(React.Fragment,null,React.createElement(Oi,{name:t,label:n,valuePreview:o,onClosePopover:a,isLoading:d,children:React.createElement(React.Fragment,null,React.createElement(b.CheckboxControl,{label:i,checked:l.update,onChange:p}),l.update&&React.createElement(React.Fragment,null,s))}))};function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){Ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ni(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ci(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ci(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ji=function(e){var t=e.name,n=e.label,o=e.defaultValue,a=e.onChange,i=e.variables,l=void 0===i?[]:i,c=e.checkboxLabel,s=(e.onClosePopover,new Date);s.setDate(s.getDate()+3),o=Pi({update:!1,dateStrategy:"date",dateSource:"calendar",specificDate:s,dateOffset:"+7 days"},o);var u=(0,r.useCallback)((function(e){e.settingName;var n=e.value,r=Pi(Pi({},o),n);a&&a(t,r)}),[o,t,a]);return React.createElement(React.Fragment,null,React.createElement(Ai,{name:t,label:n,defaultValue:o,valuePreview:function(){var e,t;if(o.update&&("date"===(null===(e=o)||void 0===e?void 0:e.dateStrategy)||"offset"===(null===(t=o)||void 0===t?void 0:t.dateStrategy))){var n,r,a,i="";if(null!==(n=o)&&void 0!==n&&n.specificDate&&"calendar"===(null===(r=o)||void 0===r?void 0:r.dateSource)&&(i=function(e){if(e){var t=futureWorkflowEditor.dateFormat,n=futureWorkflowEditor.timeFormat;return wp.date.format("".concat(t," ").concat(n),new Date(e))}return""}(o.specificDate)),"event"===o.dateSource&&(i=(0,V.__)("When the trigger is activated","post-expirator")),"step"===o.dateSource&&(i=(0,V.__)("When the step is activated","post-expirator")),"custom"===o.dateSource)i=(null===(a=o.customDateSource)||void 0===a?void 0:a.expression)||(0,V.__)("Custom date source","post-expirator");return"offset"===o.dateStrategy&&(i+=", ".concat(o.dateOffset)),i}return(0,V.__)("Do not update","post-expirator")}(),checkboxLabel:c,onChange:a,onUncheckUpdate:function(){return a(t,null)}},React.createElement(b.__experimentalVStack,null,React.createElement(ma,{name:t,label:n,defaultValue:o,onChange:function(e,n){return u({settingName:t,value:n})},variables:l,settings:{hideDateStrategy:["now"]}}))))};function Di(e){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e,t,n){return(t=function(e){var t=function(e){if("object"!=Di(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Di(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Di(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Li=function(e){var t=e.name,n=e.label,o=e.defaultValue,a=e.onChange,i=e.variables,l=void 0===i?[]:i,c=e.checkboxLabel;o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Mi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({expression:"",update:!1},o);var s=(0,r.useMemo)((function(){return o.update?""===o.expression?(0,V.__)("Clear content","post-expirator"):o.expression:(0,V.__)("Do not update","post-expirator")}),[o]);return React.createElement(React.Fragment,null,React.createElement(Ai,{name:t,label:n,valuePreview:s,defaultValue:o,checkboxLabel:c,onChange:a,onUncheckUpdate:function(){return a(t,null)}},React.createElement(b.__experimentalVStack,null,React.createElement(Zo,{name:t,label:n,defaultValue:o,onChange:function(e,n){return a(t,n)},variables:l}))))},Fi=n(8306);function Wi(e){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(e)}function Vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e,t,n){return(t=function(e){var t=function(e){if("object"!=Wi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hi=window.futureWorkflowEditor,Gi=Hi.apiUrl,qi=Hi.nonce,$i=null,Ki=null,Ji=function(e){var t,n=e.name,o=e.label,a=e.defaultValue,i=e.onChange,l=e.checkboxLabel,c=zi((0,r.useState)([]),2),s=c[0],u=c[1],d=zi((0,r.useState)(!1),2),p=d[0],f=d[1];(0,r.useEffect)((function(){f(!0),(Ki?Promise.resolve(Ki):($i||($i=(0,Fi.A)({path:"".concat(Gi,"/authors"),headers:{"X-WP-Nonce":qi}}).then((function(e){return Ki=e}))),$i)).then(u).catch((function(e){dispatch("core/notices").createErrorNotice((0,V.__)("Unable to load the list of authors. Please try again.","post-expirator"))})).finally((function(){f(!1)}))}),[]),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach((function(t){Ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({authors:[null===(t=s[0])||void 0===t?void 0:t.id],update:!1},a);var m=(0,r.useMemo)((function(){return function(e){return e.map((function(e){return{value:e.id,label:e.name+" ("+e.email+")"}}))}(s)}),[s]),v=(0,r.useMemo)((function(){return a.update&&0!==a.authors.length?a.authors.map((function(e){var t;return null===(t=s.find((function(t){return parseInt(t.id)===parseInt(e)})))||void 0===t?void 0:t.name})).join(", "):(0,V.__)("Do not update","post-expirator")}),[a,s]);return React.createElement(React.Fragment,null,React.createElement(Ai,{name:n,label:o,valuePreview:v,defaultValue:a,checkboxLabel:l,onChange:i,onUncheckUpdate:function(){return i(n,null)},isLoading:p},React.createElement(b.__experimentalVStack,null,React.createElement(b.SelectControl,{label:(0,V.__)("Author","post-expirator"),value:a.authors[0],options:m,onChange:function(e){i(n,{authors:[e],update:!0})}}))))};function Qi(e){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(e)}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e,t,n){return(t=function(e){var t=function(e){if("object"!=Qi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zi=function(e){var t=e.name,n=e.label,o=e.defaultValue,a=e.onChange,i=e.checkboxLabel;o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({update:!1,commentStatus:"closed",pingStatus:"closed"},o);var l=(0,r.useMemo)((function(){var e=o,t=e.commentStatus,n=e.pingStatus;if(!o.update)return(0,V.__)("Do not update","post-expirator");var r=n||"closed";return{"open:closed":(0,V.__)("Comments only","post-expirator"),"closed:closed":(0,V.__)("Closed","post-expirator"),"closed:open":(0,V.__)("Pings only","post-expirator"),"open:open":(0,V.__)("Open","post-expirator")}["".concat(t,":").concat(r)]||(0,V.__)("Changed...","post-expirator")}),[o]),c=[{label:(0,V.__)("Open","post-expirator"),value:"open",description:(0,V.__)("Visitors can add new comments and replies.","post-expirator")},{label:(0,V.__)("Closed","post-expirator"),value:"closed",description:(0,V.__)("Visitors can not add new comments or replies. Existing comments remain visible.","post-expirator")}],s=(0,r.useCallback)((function(e){a(t,{update:!0,commentStatus:e,pingStatus:o.pingStatus})}),[a,t,o]),u=(0,r.useCallback)((function(e){a(t,{update:!0,pingStatus:e?"open":"closed",commentStatus:o.commentStatus})}),[a,t,o]);return React.createElement(React.Fragment,null,React.createElement(Ai,{name:t,label:n,valuePreview:l,defaultValue:o,onChange:a,checkboxLabel:i,onUncheckUpdate:function(){return a(t,null)}},React.createElement(b.__experimentalVStack,null,React.createElement(b.RadioControl,{options:c,selected:o.commentStatus,onChange:s}),React.createElement(b.CheckboxControl,{label:(0,V.__)("Enable pinbacks & trackbacks","post-expirator"),checked:"open"===o.pingStatus,onChange:u}),React.createElement(b.ExternalLink,{href:"https://wordpress.org/documentation/article/trackbacks-and-pingbacks/"},(0,V.__)("Learn more about pinbacks & trackbacks","post-expirator")))))};function el(e){return el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(e)}function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nl(e,t,n){return(t=function(e){var t=function(e){if("object"!=el(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=el(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==el(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rl=function(e){var t=e.name,n=(e.label,e.defaultValue),r=e.onChange,o=e.settings,a=e.variables,i=function(e){var o=e.settingName,a=e.value,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach((function(t){nl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);i[o]=a,r&&r(t,i)},l=function(e){var t;null!==(t=n[e])&&void 0!==t&&t.update||i({settingName:e,value:null})};return React.createElement(b.__experimentalVStack,{className:"workflow-editor-panel"},React.createElement(ji,{name:"date",label:(0,V.__)("Post Date","post-expirator"),defaultValue:null==n?void 0:n.date,onChange:function(e,t){return i({settingName:"date",value:t})},settings:o,variables:a,onClosePopover:function(){return l("date")},checkboxLabel:(0,V.__)("Update the post date","post-expirator")}),React.createElement(Li,{name:"title",label:(0,V.__)("Post Title","post-expirator"),defaultValue:null==n?void 0:n.title,onChange:function(e,t){return i({settingName:"title",value:t})},settings:o,variables:a,onClosePopover:function(){return l("title")},checkboxLabel:(0,V.__)("Update the post title","post-expirator")}),React.createElement(Li,{name:"name",label:(0,V.__)("Post Slug","post-expirator"),defaultValue:null==n?void 0:n.name,onChange:function(e,t){return i({settingName:"name",value:t})},settings:o,variables:a,onClosePopover:function(){return l("name")},checkboxLabel:(0,V.__)("Update the post slug","post-expirator")}),React.createElement(Li,{name:"content",label:(0,V.__)("Post Content","post-expirator"),defaultValue:null==n?void 0:n.content,onChange:function(e,t){return i({settingName:"content",value:t})},settings:o,variables:a,onClosePopover:function(){return l("content")},checkboxLabel:(0,V.__)("Update the post content","post-expirator")}),React.createElement(Li,{name:"excerpt",label:(0,V.__)("Post Excerpt","post-expirator"),defaultValue:null==n?void 0:n.excerpt,onChange:function(e,t){return i({settingName:"excerpt",value:t})},settings:o,variables:a,onClosePopover:function(){return l("excerpt")},checkboxLabel:(0,V.__)("Update the post excerpt","post-expirator")}),React.createElement(Zi,{name:"discussion",label:(0,V.__)("Post Discussion","post-expirator"),defaultValue:null==n?void 0:n.discussion,onChange:function(e,t){return i({settingName:"discussion",value:t})},onClosePopover:function(){return l("discussion")},checkboxLabel:(0,V.__)("Update the post discussion","post-expirator")}),React.createElement(Li,{name:"password",label:(0,V.__)("Post Password","post-expirator"),defaultValue:null==n?void 0:n.password,onChange:function(e,t){return i({settingName:"password",value:t})},settings:o,variables:a,onClosePopover:function(){return l("password")},checkboxLabel:(0,V.__)("Update the post password","post-expirator")}),React.createElement(Ji,{name:"author",label:(0,V.__)("Post Author","post-expirator"),defaultValue:null==n?void 0:n.author,onChange:function(e,t){return i({settingName:"author",value:t})},settings:o,variables:a,onClosePopover:function(){return l("author")},checkboxLabel:(0,V.__)("Update the post author","post-expirator")}))};function ol(e){return ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(e)}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t,n){return(t=function(e){var t=function(e){if("object"!=ol(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ol(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ol(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cl=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=(e.settings,e.description),i=e.variables,l=void 0===i?[]:i,c=function(e){var n=e.settingName,a=e.value;if(o){var i=il(il({},r),{},ll({},n,a));o(t,i)}};return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.ToggleControl,{label:n,checked:(null==r?void 0:r.enabled)||!1,onChange:function(e){return c({settingName:"enabled",value:e})}}),a&&React.createElement("p",{className:"description"},a),(null==r?void 0:r.enabled)&&React.createElement(ea,{name:"confirmationMessage",label:"Confirmation message",defaultValue:null==r?void 0:r.message,onChange:function(e,t){return c({settingName:"message",value:t})},variables:l})))};function sl(e){return sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(e)}function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e,t,n){return(t=function(e){var t=function(e){if("object"!=sl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pl=function(e){var t,n,o,a,i,l=e.name,c=(e.label,e.defaultValue),s=e.onChange,u=e.settings,d=futureWorkflowEditor.userRoles,p=function(e){var t=e.settingName,n=e.value,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c);r[t]=n,s&&s(l,r)},f=u&&!0===(null==u?void 0:u.acceptsInput),m=u&&!0===(null==u?void 0:u.isUserRoleRequired),v=f?"input":"custom",y="custom"===(null===(t=c)||void 0===t?void 0:t.userSource)||!f;(0,r.useEffect)((function(){c||(c={userSource:v,userRole:[],userId:[]},p({settingName:"userSource",value:v}))}),[]);var g=(null==u||null===(n=u.labels)||void 0===n?void 0:n.userRole)||(0,V.__)("User Role","post-expirator");g=m?g+" *":g;var h={userRole:(null==u?void 0:u.userRoleDescription)||null,userId:(null==u?void 0:u.userIdDescription)||null};return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,f&&React.createElement(b.RadioControl,{label:(0,V.__)("User selection","post-expirator"),selected:(null===(o=c)||void 0===o?void 0:o.userSource)||v,options:[{label:(0,V.__)("User received as input","post-expirator"),value:"input"},{label:(0,V.__)("Custom query","post-expirator"),value:"custom"}],onChange:function(e){return p({settingName:"userSource",value:e})}}),y&&React.createElement(React.Fragment,null,React.createElement(ro,{label:g,value:(null===(a=c)||void 0===a?void 0:a.userRole)||[],suggestions:d,expandOnFocus:!0,autoSelectFirstMatch:!0,onChange:function(e){return p({settingName:"userRole",value:e})}}),(null==h?void 0:h.userRole)&&React.createElement("p",{className:"description"},h.userRole),React.createElement(b.FormTokenField,{label:(0,V.__)("User ID","post-expirator"),value:(null===(i=c)||void 0===i?void 0:i.userId)||[],onChange:function(e){return p({settingName:"userId",value:e})}}),(null==h?void 0:h.userId)&&React.createElement("p",{className:"description"},h.userId),React.createElement(b.PanelRow,null,React.createElement("p",{className:"description"},(0,V.__)("Separate multiple values with commas or Enter key.","post-expirator"))),m&&React.createElement(b.PanelRow,null,React.createElement("p",{className:"description"},(0,V.__)("* Required field","post-expirator"))))))};var fl=["value","handleOnChange","options","context"];function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}var bl=function(e){var t=e.value,n=e.handleOnChange,r=(e.options,e.context),o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fl),a=(0,l.select)(c.M).getSelectedNodes(),i=(0,l.select)(c.M).getNodeById(a[0]);return r.variables=(0,J.ts)(i),React.createElement(gi,ml({value:t,handleOnChange:n,context:r,singleVariableOnly:!1},o))},vl=function(e){return React.createElement(Ei,e)};const yl=function(e){if(!e.defaultValue.json){var t=e.stepScopedVariables.find((function(e){return"post"===e.type})),n=function(e,t){var n=e.postType,r=e.postStatus,o=e.postId,a=function(e,n){return e&&0!==e.length?{or:e.map((function(e){return{"==":[{var:"{{".concat(t,".").concat(n,"}}")},e]}}))}:null},i=[],l=a(n,"type");l&&i.push(l);var c=a(r,"status");c&&i.push(c);var s=a(o,"id");return s&&i.push(s),i.length>1?{and:i}:i[0]}(e.defaultValue,t.name),r=(0,Xa.parseJsonLogic)(n);e.defaultValue.json=(0,Za.OJ)(r,{format:"jsonlogic",parseNumbers:!0}),e.defaultValue.natural=(0,Za.OJ)(r,{format:"natural_language",parseNumbers:!0,fields:e.variables,getOperators:function(){return Za.lV}})}return vi({FieldComponent:bl,ValueComponent:vl,modalTitle:(0,V.__)("Post Filter","post-expirator"),modalDescription:(0,V.__)("Create filters to query specific posts based on conditions.","post-expirator"),buttonText:(0,V.__)("Edit filters","post-expirator"),defaultField:""})(e)};var gl=[{label:(0,V.__)("Post ID","post-expirator"),value:"p.ID"},{label:(0,V.__)("Post Title","post-expirator"),value:"p.post_title"},{label:(0,V.__)("Post Content","post-expirator"),value:"p.post_content"},{label:(0,V.__)("Post Excerpt","post-expirator"),value:"p.post_excerpt"},{label:(0,V.__)("Post Author","post-expirator"),value:"p.post_author"},{label:(0,V.__)("Post Date","post-expirator"),value:"p.post_date"},{label:(0,V.__)("Post Status","post-expirator"),value:"p.post_status"},{label:(0,V.__)("Post Type","post-expirator"),value:"p.post_type"},{label:(0,V.__)("Post Parent","post-expirator"),value:"p.post_parent"}],hl=["value","handleOnChange","options","context"],wl=function(e){var t=e.value,n=e.handleOnChange;return e.options,e.context,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(e,hl),React.createElement(b.SelectControl,{value:t,options:gl,onChange:n})},_l=function(e){return React.createElement(Ei,e)};const El=function(e){if(!e.defaultValue.json){var t=function(e){var t=e.postType,n=e.postStatus,r=e.postId,o=function(e,t){return e&&0!==e.length?{or:e.map((function(e){return{"==":[{var:"post.".concat(t)},e]}}))}:null},a=[],i=o(t,"post_type");i&&a.push(i);var l=o(n,"post_status");l&&a.push(l);var c=o(r,"ID");return c&&a.push(c),a.length>1?{and:a}:a[0]}(e.defaultValue),n=(0,Xa.parseJsonLogic)(t);e.defaultValue.json=(0,Za.OJ)(n,{format:"jsonlogic",parseNumbers:!0,fields:gl}),e.defaultValue.natural=(0,Za.OJ)(n,{format:"natural_language",parseNumbers:!0,fields:gl,getOperators:function(){return Za.lV}})}return vi({FieldComponent:wl,ValueComponent:_l,modalTitle:(0,V.__)("Post Search Query","post-expirator"),modalDescription:(0,V.__)("Create a search query to filter posts based on conditions.","post-expirator"),buttonText:(0,V.__)("Edit query","post-expirator"),defaultField:"",queryFields:gl})(e)};function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){kl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kl(e,t,n){return(t=function(e){var t=function(e){if("object"!=Sl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ol=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=e.settings,i=e.description,l=(e.variables,function(e){var n=e.settingName,a=e.value;if(o){var i=Rl(Rl({},r),{},kl({},n,a));o(t,i)}});return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.ToggleControl,{label:n,checked:(null==r?void 0:r.enabled)||!1,onChange:function(e){return l({settingName:"enabled",value:e})}}),i&&React.createElement("p",{className:"description"},i),(null==r?void 0:r.enabled)&&React.createElement(ma,{name:t,label:(0,V.__)("When to expire","post-expirator"),defaultValue:r,onChange:o,settings:a,description:i})))};function Al(e){return Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(e)}function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach((function(t){Pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pl(e,t,n){return(t=function(e){var t=function(e){if("object"!=Al(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Al(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Al(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nl=function(e){var t,n,r,o=e.name,a=e.label,i=e.popoverLabel,l=e.defaultValue,c=e.onChange,s=e.variables,u=void 0===s?[]:s,d=e.onClosePopover,p=e.isLoading,f=e.autoOpen,m=e.withExpression,v=void 0!==m&&m;l=Tl({name:"",value:"integer",type:"integer"},l);var y,g,h=[{label:(0,V.__)("Integer","post-expirator"),value:"integer"},{label:(0,V.__)("String","post-expirator"),value:"string"},{label:(0,V.__)("Boolean","post-expirator"),value:"boolean"},{label:(0,V.__)("Object","post-expirator"),value:"object"},{label:(0,V.__)("Array","post-expirator"),value:"array"},{label:(0,V.__)("Post","post-expirator"),value:"post"},{label:(0,V.__)("User","post-expirator"),value:"user"}],w=function(){var e,t,n,r=(null===(e=l)||void 0===e?void 0:e.type)||(null===(t=l)||void 0===t?void 0:t.value)||"integer";return null===(n=h.find((function(e){return e.value===r})))||void 0===n?void 0:n.label};return React.createElement(Oi,{name:o,label:a,popoverLabel:i,valuePreview:null!==(y=l)&&void 0!==y&&null!==(y=y.expression)&&void 0!==y&&y.expression?"".concat(l.name,": ").concat(null!==(g=l)&&void 0!==g&&null!==(g=g.expression)&&void 0!==g&&g.expression?"".concat(l.expression.expression):(0,V.__)("null","post-expirator")," (").concat(w(),")"):"".concat(l.name,": (").concat(w(),")"),onClosePopover:d,isLoading:p,autoOpen:f},React.createElement(React.Fragment,null,React.createElement(b.TextControl,{label:(0,V.__)("Argument name","post-expirator"),value:l.name,onChange:function(e){e=e.replace(/[^a-zA-Z0-9_]/g,"").trim(),c(Tl(Tl({},l),{},{name:e}))},autoFocus:f}),React.createElement(b.SelectControl,{label:(0,V.__)("Data type","post-expirator"),value:(null===(t=l)||void 0===t?void 0:t.type)||(null===(n=l)||void 0===n?void 0:n.value),options:h,onChange:function(e){c(Tl(Tl({},l),{},{value:e,type:e}))}}),v&&React.createElement(ea,{name:"expression",label:(0,V.__)("Value","post-expirator"),defaultValue:null===(r=l)||void 0===r?void 0:r.expression,onChange:function(e,t){c(Tl(Tl({},l),{},{expression:t}))},variables:u}),React.createElement("p",{className:"description margin-top"},(0,V.__)("The argument name should only contain letters, numbers and underscores.","post-expirator"))))};var jl=n(8777),Dl={};function Il(e){return function(e){if(Array.isArray(e))return Ll(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ml(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(e,t){if(e){if("string"==typeof e)return Ll(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ll(e,t):void 0}}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Dl.styleTagTransform=Go(),Dl.setAttributes=Uo(),Dl.insert=Wo().bind(null,"head"),Dl.domAPI=Lo(),Dl.insertStyleElement=Bo(),Io()(jl.A,Dl),jl.A&&jl.A.locals&&jl.A.locals;const Fl=function(e){var t,n,o=e.name,a=e.label,i=e.defaultValue,l=e.onChange,c=e.settings,s=e.variables,u=void 0===s?[]:s,d=e.helpUrl,p=e.description,f=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||Ml(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=f[0],v=f[1],y=function(e){var t=e.value;l&&l(o,t)};i&&Array.isArray(i)||(i=[]),(0,r.useEffect)((function(){0!==i.length&&i.forEach((function(e){e.value||(e.value=g)}))}),[]);var g="integer";return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,{className:"workflow-editor-panel__row-args-container"},React.createElement("label",{className:"workflow-editor-panel__row-args-label"},a),i.map((function(e,t){return React.createElement("div",{key:"arg-".concat(t),className:"workflow-editor-panel__row-args"},React.createElement(Nl,{name:"args[".concat(t,"].name"),label:"#".concat(t+1),popoverLabel:(0,V.sprintf)((0,V.__)("Argument #%s","post-expirator"),t+1),defaultValue:e,onChange:function(e){return function(e,t){var n=i.map((function(n,r){return r===e?t:n}));y({value:n,type:n})}(t,e)},autoOpen:m===t,onClosePopover:function(){return v(null)},withExpression:null==c?void 0:c.withExpression,variables:u}),React.createElement(b.Button,{onClick:function(){return function(e){y({value:i.filter((function(t,n){return n!==e}))})}(t)},isSmall:!0,iconSize:16,icon:"trash"}))})),0===i.length&&React.createElement("div",{className:"workflow-editor-panel__row-args-empty"},(0,V.__)("No arguments added to the action.","post-expirator")),React.createElement(b.Button,{onClick:function(){y({value:[].concat(Il(i),[{name:"",value:g,type:g}])}),v(i.length)},iconSize:16,icon:"plus",variant:"tertiary"},(0,V.__)("Add a new argument","post-expirator")),p&&React.createElement(Po,{text:p,helpUrl:d})))},Wl=function(e){var t=e.name,n=e.label,r=e.defaultValue,o=e.onChange,a=e.settings,i=(e.variables,e.helpUrl),l=e.description,c=function(e){var n=e.value;n=parseInt(n),o&&o(t,n)};r=parseInt(r),isNaN(r)&&(r=0);var s=(null==a?void 0:a.placeholder)||"";return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,null,React.createElement(b.TextControl,{label:n,value:r||"",onChange:function(e){return c({value:e})},placeholder:s,onKeyDown:function(e){var t=e.shiftKey?10:1;if("ArrowUp"===e.key){e.preventDefault();var n=(parseInt(r)||0)+t;c({value:n})}else if("ArrowDown"===e.key){e.preventDefault();var o=(parseInt(r)||0)-t;c({value:o})}}}),l&&React.createElement(Po,{text:l,helpUrl:i})))};function Vl(e){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){Bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bl(e,t,n){return(t=function(e){var t=function(e){if("object"!=Vl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hl=function(e){var t,n,r,o=e.name,a=e.label,i=e.popoverLabel,l=e.defaultValue,c=e.onChange,s=e.variables,u=void 0===s?[]:s,d=e.onClosePopover,p=e.isLoading,f=e.autoOpen,m=e.withExpression,v=void 0!==m&&m,y=e.canChangeName,g=void 0===y||y,h=e.cantChangeNameDescription,w=void 0===h?"":h,_=e.onNameChangeCallback;return l=zl({name:"",label:"",hint:""},l),React.createElement(Oi,{name:o,label:a,popoverLabel:i,valuePreview:null!==(n=l)&&void 0!==n&&null!==(n=n.expression)&&void 0!==n&&n.expression?null!==(r=l)&&void 0!==r&&null!==(r=r.expression)&&void 0!==r&&r.expression?"".concat(l.expression.expression):(0,V.__)("null","post-expirator"):l.label,onClosePopover:d,isLoading:p,autoOpen:f},React.createElement(React.Fragment,null,React.createElement(b.TextControl,{label:(0,V.__)("Name","post-expirator"),value:l.name,onChange:function(e){e=e.replace(/[^a-zA-Z0-9_]/g,"").trim(),c(zl(zl({},l),{},{name:e})),_&&_(e)},autoFocus:f,readOnly:!g}),React.createElement(b.TextControl,{label:(0,V.__)("Label","post-expirator"),value:l.label,onChange:function(e){c(zl(zl({},l),{},{label:e}))}}),React.createElement(b.TextControl,{label:(0,V.__)("Hint","post-expirator"),value:l.hint,onChange:function(e){c(zl(zl({},l),{},{hint:e}))}}),v&&React.createElement(ea,{name:"expression",label:(0,V.__)("Value","post-expirator"),defaultValue:null===(t=l)||void 0===t?void 0:t.expression,onChange:function(e,t){c(zl(zl({},l),{},{expression:t}))},variables:u}),w&&!g&&React.createElement("p",{className:"description margin-top"},w),g&&React.createElement("p",{className:"description margin-top"},(0,V.__)("The option name should only contain letters, numbers and underscores.","post-expirator"))))};var Gl=n(8409),ql={};function $l(e){return function(e){if(Array.isArray(e))return Jl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kl(e,t){if(e){if("string"==typeof e)return Jl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jl(e,t):void 0}}function Jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}ql.styleTagTransform=Go(),ql.setAttributes=Uo(),ql.insert=Wo().bind(null,"head"),ql.domAPI=Lo(),ql.insertStyleElement=Bo(),Io()(Gl.A,ql),Gl.A&&Gl.A.locals&&Gl.A.locals;var Ql=[{name:"dismiss",label:(0,V.__)("Dismiss","post-expirator"),hint:(0,V.__)("Dismiss the notification","post-expirator")}];function Yl(e){var t,n,o=e.name,a=e.label,i=e.defaultValue,l=e.onChange,c=e.settings,s=e.variables,u=void 0===s?[]:s,d=e.helpUrl,p=e.description,f=e.canChangeNameCallback,m=e.cantChangeNameDescription,v=e.onNameChangeCallback,y=e.maxOptions,g=void 0===y?10:y,h=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||Kl(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=h[0],_=h[1],E=function(e){var t=e.value;l&&l(o,t)};i&&Array.isArray(i)&&0!==i.length||(i=Ql);var S=1===i.length;return React.createElement(React.Fragment,null,React.createElement(b.__experimentalVStack,{className:"workflow-editor-panel__row-options-container"},React.createElement("label",{className:"workflow-editor-panel__row-options-label"},a),i.map((function(e,t){return React.createElement("div",{key:"option-".concat(t),className:"workflow-editor-panel__row-options"},React.createElement(Hl,{name:"options[".concat(t,"].name"),label:"#".concat(t+1),popoverLabel:(0,V.sprintf)((0,V.__)("Option #%s","post-expirator"),t+1),defaultValue:e,onChange:function(e){return function(e,t){var n=i.map((function(n,r){return r===e?t:n}));E({value:n})}(t,e)},autoOpen:w===t,onClosePopover:function(){return _(null)},withExpression:null==c?void 0:c.withExpression,variables:u,canChangeName:!f||f(e),cantChangeNameDescription:m,onNameChangeCallback:v}),!S&&React.createElement(b.Button,{onClick:function(){return function(e){E({value:i.filter((function(t,n){return n!==e}))})}(t)},isSmall:!0,iconSize:16,icon:"trash"}))})),0===i.length&&React.createElement("div",{className:"workflow-editor-panel__row-options-empty"},(0,V.__)("No options added to the action.","post-expirator")),i.length<g&&React.createElement(b.Button,{onClick:function(){if(!(i.length>=g)){var e=function(){for(var e=i.length+1,t="option".concat(e);i.some((function(e){return e.name===t}));)e++,t="option".concat(e);return{name:t,index:e}}(),t=e.name,n=e.index,r=(0,V.sprintf)((0,V.__)("Option %s","post-expirator"),n);E({value:[].concat($l(i),[{name:t,label:r,hint:""}])}),_(i.length)}},iconSize:16,icon:"plus",variant:"tertiary"},(0,V.__)("Add a new option","post-expirator")),p&&React.createElement(Po,{text:p,helpUrl:d}),i.length>=g&&React.createElement(Po,{text:(0,V.sprintf)((0,V.__)("You have reached the maximum number of options. You can add up to %s options.","post-expirator"),g)})))}const Xl=Yl;function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}function ec(e){return React.createElement(Yl,Zl({},e,{canChangeNameCallback:function(e){var t=(0,l.select)(c.M).getConnectedSourceHandlesOfSelectedNode();return 0===t.length||!t.includes(e.name)},cantChangeNameDescription:(0,V.__)("This option is used to connect to another step and cannot have its name changed until the connection is removed.","post-expirator"),maxOptions:5}))}const tc=function(e){switch(e.type){case"postQuery":return React.createElement(uo,e);case"postStatus":return React.createElement(Pa,e);case"taxonomyTerms":return React.createElement(Oa,e);case"schedule":return React.createElement(ha,e);case"toggle":return React.createElement(Ri,e);case"debugData":return React.createElement(_a,e);case"rayColor":return React.createElement(Ea,e);case"text":return React.createElement(Sa,e);case"textarea":return React.createElement(Na,e);case"postInput":return React.createElement(Fa,e);case"manualWorkflowInput":return React.createElement(Va,e);case"list":return React.createElement(za,e);case"conditional":return React.createElement(Si,e);case"debugLevels":return React.createElement(xi,e);case"expression":return React.createElement(ea,e);case"postData":return React.createElement(rl,e);case"dateOffset":return React.createElement(ma,e);case"askForConfirmation":return React.createElement(cl,e);case"userQuery":return React.createElement(pl,e);case"postFilter":return React.createElement(yl,e);case"postSearchQuery":return React.createElement(El,e);case"conditionalDateOffset":return React.createElement(Ol,e);case"actionArgs":return React.createElement(Fl,e);case"integer":return React.createElement(Wl,e);case"customOptions":return React.createElement(Xl,e);case"interactiveCustomOptions":return React.createElement(ec,e)}return React.createElement("div",{className:"description"},React.createElement("i",{className:"dashicons dashicons-warning"}),(0,V.sprintf)((0,V.__)("Field type %s is not implemented","publihspress-future-pro"),e.type))};function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}const rc=function(e){var t,n=e.node,o=(0,l.useSelect)((function(e){var t;return{globalVariables:e(c.M).getGlobalVariables(),nodeType:e(s.M_).getNodeTypeByName(null==n||null===(t=n.data)||void 0===t?void 0:t.name)}})),a=o.globalVariables,i=o.nodeType,u=(0,l.useDispatch)(c.M).updateNode,d=function(e,t){var r,o,a,i={id:n.id,data:{settings:(r={},o=e,a=t,(o=function(e){var t=function(e){if("object"!=nc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nc(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r)}};u(i)},p=null===(t=n.data)||void 0===t?void 0:t.settings;p||(p={});var f=(null==i?void 0:i.settingsSchema)||{},m=(0,J.Ed)(n,a),v=(0,J.ts)(n),y=(0,r.useMemo)((function(){return f.map((function(e){return React.createElement(Vr,{title:e.label,key:"settings-panel-".concat(n.id,"-").concat(e.label)},(null==e?void 0:e.description)&&React.createElement(b.PanelRow,null,React.createElement("div",{className:"settings-field-description"},null==e?void 0:e.description)),e.fields.map((function(t){var r;return React.createElement(b.PanelRow,{key:e.label+"-"+n.id+"-"+t.name},React.createElement(tc,{type:t.type,name:t.name,description:null==t?void 0:t.description,helpUrl:null==t?void 0:t.helpUrl,label:t.label,defaultValue:null===(r=p)||void 0===r?void 0:r[t.name],onChange:d,variables:m,settings:null==t?void 0:t.settings,settingsSchema:f,node:n,stepScopedVariables:v}))})))}))}),[f,p]);return React.createElement(React.Fragment,null,y)};var oc=n(5931),ac={};function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}ac.styleTagTransform=Go(),ac.setAttributes=Uo(),ac.insert=Wo().bind(null,"head"),ac.domAPI=Lo(),ac.insertStyleElement=Bo(),Io()(oc.A,ac),oc.A&&oc.A.locals&&oc.A.locals;const lc=function(e){var t,n,o=e.errors,a=void 0===o?{}:o,i=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ic(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],s=Object.values(a),u=s.length>0;return React.createElement(Vr,{title:(0,V.__)("Validation","post-expirator"),className:"workflow-editor-validation-panel"},u&&React.createElement(React.Fragment,null,s.map((function(e,t){return React.createElement(b.PanelRow,{key:"".concat(e.error,"-").concat(t),className:"workflow-editor-validation-notification workflow-editor-error"},React.createElement(W,{icon:"error",size:18}),React.createElement("div",null,React.createElement("div",{className:"workflow-editor-validation-notification-header"},React.createElement("div",{className:"workflow-editor-validation-notification-message"},e.message),e.details&&React.createElement("span",{className:"workflow-editor-validation-notification-details-toggle",onClick:function(){return c(!l)}},React.createElement(W,{icon:l?"arrow-down":"arrow-right",size:18}))),e.details&&l&&React.createElement("div",{className:"workflow-editor-validation-notification-details"},e.details)))}))),!u&&React.createElement(b.PanelRow,{className:"workflow-editor-validation-notification workflow-editor-success"},React.createElement(W,{icon:"yes-alt",size:18}),(0,V.__)("All checks have passed for this step.","post-expirator")))};function cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const sc=function(e){var t=e.inputSchema,n=void 0===t?[]:t,o=e.outputSchema,a=void 0===o?[]:o,i=e.stepScopedVariables,s=void 0===i?[]:i,u=(0,l.useSelect)((function(e){return{isLoadingWorkflow:e(c.M).isLoadingWorkflow(),getDataTypeByName:e(c.M).getDataTypeByName,globalVariables:e(c.M).getGlobalVariables()}})),d=u.isLoadingWorkflow,p=u.getDataTypeByName,f=u.globalVariables,m=Object.keys(f);n||(n=[]);var v=function e(t){var n,o,a=t.schemaItem,i=t.prefix,l=(n=(0,r.useState)(!1),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(n,o)||function(e,t){if(e){if("string"==typeof e)return cc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cc(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],s=l[1],u=p(a.type),d=null;return u&&u.propertiesSchema&&(d=u.propertiesSchema.map((function(t){var n=p(t.type);return n&&n.propertiesSchema?React.createElement("li",{key:"".concat(a.name).concat(t.name,"-li")},React.createElement(e,{schemaItem:t})):React.createElement("li",{key:"".concat(a.name).concat(t.name,"-li")},React.createElement("code",null,t.name))}))),React.createElement(React.Fragment,null,React.createElement("div",{className:"workflow-editor-data-flow-variable"},React.createElement(W,{icon:c?"arrow-down":"arrow-right",onClick:function(){s(!c)},style:{cursor:"pointer"}}),React.createElement("code",null,i,a.name),c&&d&&React.createElement(b.Animate,{type:"slide-in",options:{origin:"top"}},(function(e){return e.className,React.createElement("ul",null,d)}))))};return React.createElement(Vr,{title:(0,V.__)("Step Data Flow","post-expirator"),className:"workflow-editor-dev-panel"},React.createElement(b.PanelRow,{className:"workflow-editor-inspector-card__handles-schema"},React.createElement("h3",null,(0,V.__)("Inputs","post-expirator")),React.createElement("div",null,n.length>0&&React.createElement(React.Fragment,null,React.createElement("div",null,(0,V.__)("This step receives the following input from previous step:","post-expirator")),React.createElement("ul",null,n.map((function(e,t){return React.createElement("li",{key:"input-".concat(e.name,"-").concat(t)},React.createElement(v,{schemaItem:e}))})))),0===n.length&&(0,V.__)("This step does not receive any input from previous step.","post-expirator"))),React.createElement(b.PanelRow,{className:"workflow-editor-inspector-card__handles-schema"},React.createElement("h3",null,(0,V.__)("Outputs","post-expirator")),React.createElement("div",null,a.length>0&&React.createElement(React.Fragment,null,React.createElement("div",null,(0,V.__)("This step outputs the following data:","post-expirator")),React.createElement("ul",null,a.map((function(e,t){return React.createElement("li",{key:"output-".concat(e.name,"-").concat(t)},React.createElement(v,{schemaItem:e}))})))),0===a.length&&(0,V.__)("This step does not output any data.","post-expirator"))),React.createElement(b.PanelRow,{className:"workflow-editor-inspector-card__handles-schema"},React.createElement("h3",null,(0,V.__)("Step Scoped Variables","post-expirator")),React.createElement("div",null,s.length>0&&React.createElement(React.Fragment,null,React.createElement("div",null,(0,V.__)("This step receives the following step scoped variables:","post-expirator")),React.createElement("ul",null,s.map((function(e,t){return React.createElement("li",{key:"input-".concat(e.name,"-").concat(t)},React.createElement(v,{schemaItem:e}))})))),0===s.length&&(0,V.__)("This step does not have any step scoped variables.","post-expirator"))),React.createElement(b.PanelRow,{className:"workflow-editor-inspector-card__handles-schema"},React.createElement("h3",null,(0,V.__)("Global Variables","post-expirator")),React.createElement("div",null,!d&&0===m.length&&React.createElement("div",null,(0,V.__)("No global variables are declared","post-expirator")),!d&&m.length>0&&React.createElement("ul",null,m.map((function(e){return React.createElement("li",{key:"global-".concat(e)},React.createElement(v,{schemaItem:f[e],prefix:"global."}))}))))))};function uc(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",strokeWidth:"2",d:"M1,1 L4,1 L4,4 L1,4 L1,1 Z M20,1 L23,1 L23,4 L20,4 L20,1 Z M4,2 L20,2 M4,22 L20,22 M1,20 L4,20 L4,23 L1,23 L1,20 Z M20,20 L23,20 L23,23 L20,23 L20,20 Z M2,4 L2,20 M22,4 L22,20 M7,7 L14,7 L14,13 L7,13 L7,7 Z M17,10 L17,17 L10,17 L10,15"})))}function dc(e){var t=e.size,n=void 0===t?24:t;return React.createElement(y,{size:n},React.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 384 512",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M190.4 74.1c5.6-16.8-3.5-34.9-20.2-40.5s-34.9 3.5-40.5 20.2l-128 384c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l128-384zm70.9-41.7c-17.4-2.9-33.9 8.9-36.8 26.3l-64 384c-2.9 17.4 8.9 33.9 26.3 36.8s33.9-8.9 36.8-26.3l64-384c2.9-17.4-8.9-33.9-26.3-36.8zM352 32c-17.7 0-32 14.3-32 32V448c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32z"})))}function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(null,arguments)}var fc=(0,r.lazy)((function(){return n.e(360).then(n.t.bind(n,1360,23))}));const mc=function(e){var t,n=e.node,o=e.nodeType,a={collapsed:1,collapseStringsAfterLength:50,displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1},i=React.createElement(b.PanelRow,null,React.createElement("div",null,(0,V.__)("Loading...","post-expirator")));return React.createElement(Vr,{title:(0,V.__)("Developer Info","post-expirator"),icon:"admin-tools",className:"workflow-editor-dev-info-panel workflow-editor-dev-panel"},n&&React.createElement(React.Fragment,null,React.createElement(b.PanelRow,null,React.createElement("div",null,React.createElement("h3",null,(0,V.__)("Node","post-expirator")),React.createElement("div",{className:"workflow-editor-dev-info-wrapper"},React.createElement(r.Suspense,{fallback:i},React.createElement(fc,pc({src:n},a,{collapsed:!0})))))),React.createElement(b.PanelRow,null,React.createElement("div",null,React.createElement("h3",null,(0,V.__)("Node Data","post-expirator")),React.createElement("div",{className:"workflow-editor-dev-info-wrapper"},React.createElement(r.Suspense,{fallback:i},React.createElement(fc,pc({src:null==n?void 0:n.data},a,{collapsed:!0})))))),React.createElement(b.PanelRow,null,React.createElement("div",null,React.createElement("h3",null,(0,V.__)("Node Settings","post-expirator")),React.createElement("div",{className:"workflow-editor-dev-info-wrapper"},React.createElement(r.Suspense,{fallback:i},React.createElement(fc,pc({src:null==n||null===(t=n.data)||void 0===t?void 0:t.settings},a,{collapsed:!0}))))))),o&&React.createElement(b.PanelRow,null,React.createElement("div",null,React.createElement("h3",null,(0,V.__)("Node Type","post-expirator")),React.createElement("div",{className:"workflow-editor-dev-info-wrapper"},React.createElement(r.Suspense,{fallback:i},React.createElement(fc,pc({src:o},a,{collapsed:!0})))))))};function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gc(e,t,n){return(t=function(e){var t=function(e){if("object"!=bc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hc=function(){var e,t=(0,l.useSelect)((function(e){var t,n=e(c.M).getSelectedNodes(),r=e(c.M).getSelectedEdges(),o=e(c.M).getNodeById,a=e(c.M).getEdgeById,i=1===n.length?o(n[0]):null,l=1===r.length?a(r[0]):null,u=e(c.M).getNodeErrors(null==i?void 0:i.id)||{},d=e(c.M).getSelectedElementsCount(),p=null;return i&&(p=e(s.M_).getNodeTypeByName(null==i||null===(t=i.data)||void 0===t?void 0:t.name)),{selectedNodes:n,selectedEdges:r,selectedElementsCount:d,selectedNode:i,selectedEdge:l,nodeErrors:u,nodeType:p}})),n=t.selectedNodes,o=t.selectedEdges,a=t.selectedElementsCount,i=t.selectedNode,u=t.selectedEdge,d=t.nodeErrors,p=t.nodeType,f=(0,l.useSelect)((function(e){return{isDeveloperModeEnabled:e(s.M_).isFeatureActive(m.m$)}})).isDeveloperModeEnabled,b=(0,r.useRef)(null),v=n.length>0&&0===o.length,y=0===n.length&&o.length>0,g=(null==p||null===(e=p.settingsSchema)||void 0===e?void 0:e.length)>0,h=(0,J.ts)(i),w=(0,J.cx)(i),_=(0,J.JI)(i),E=[];return _.length>0&&_.forEach((function(e){var t;"input"===e.type?E=E.concat(w):E.push(yc(yc({},e),{},{name:"".concat(null==i||null===(t=i.data)||void 0===t?void 0:t.slug,".").concat(e.name)}))})),Br(b,".interface-interface-skeleton__sidebar"),React.createElement("div",{ref:b},0===a&&React.createElement(Zr,null,(0,V.__)("No element selected.","post-expirator")),a>1&&!v&&!y&&React.createElement(Zr,null,(0,V.__)("Multiple and different elements selected.","post-expirator")),v&&a>1&&React.createElement(Yr,{title:(0,V.sprintf)((0,V.__)("%d steps selected","post-expirator"),a),description:(0,V.__)("Multiple steps selected.","post-expirator"),icon:React.createElement(uc,{size:24})}),y&&a>1&&React.createElement(Yr,{title:(0,V.sprintf)((0,V.__)("%d connections selected","post-expirator"),a),description:(0,V.__)("Multiple connections selected.","post-expirator"),icon:React.createElement(dc,{size:24})}),v&&1===a&&React.createElement(React.Fragment,null,React.createElement(Xr,{node:i}),g&&React.createElement(rc,{node:i}),React.createElement(lc,{errors:d}),f&&React.createElement(React.Fragment,null,React.createElement(sc,{inputSchema:w,outputSchema:E,stepScopedVariables:h}),React.createElement(mc,{node:i,nodeType:p})),React.createElement("div",{className:"components-tools-panel"})),y&&1===a&&u&&React.createElement(React.Fragment,null,React.createElement(Yr,{title:(0,V.__)("Connection","post-expirator"),description:(0,V.__)("The connection between nodes in the workflow. Signifies the path along which data or control flow one node to another.","post-expirator"),icon:React.createElement(dc,{size:24}),id:u.id}),React.createElement("div",{className:"components-tools-panel"})))};const wc=function(){var e=(0,l.useSelect)((function(e){return{showQueries:e(c.M).getEditedWorkflowAttribute("debugRayShowQueries"),showEmails:e(c.M).getEditedWorkflowAttribute("debugRayShowEmails"),showWordPressErrors:e(c.M).getEditedWorkflowAttribute("debugRayShowWordPressErrors"),showCurrentRunningStep:e(c.M).getEditedWorkflowAttribute("debugRayShowCurrentRunningStep"),isLoadingWorkflow:e(c.M).isLoadingWorkflow()}})),t=e.showQueries,n=e.showEmails,o=e.showWordPressErrors,a=e.showCurrentRunningStep,i=e.isLoadingWorkflow,s=(0,l.useDispatch)(c.M).setEditedWorkflowAttribute,u=(0,r.useCallback)((function(e){s("debugRayShowQueries",e)})),d=(0,r.useCallback)((function(e){s("debugRayShowEmails",e)})),p=(0,r.useCallback)((function(e){s("debugRayShowWordPressErrors",e)})),f=(0,r.useCallback)((function(e){s("debugRayShowCurrentRunningStep",e)}));return React.createElement("div",null,React.createElement(Vr,{className:"edit-post-post-status workflow-editor-dev-panel",title:(0,V.__)("Ray Debug","post-expirator"),initialOpen:!0,disabled:i},React.createElement(b.PanelRow,null,React.createElement("p",null,(0,V.__)("Enable or disable the different types of debug information that is shown in Ray when this workflow is activated.","post-expirator"))),React.createElement(b.PanelRow,null,React.createElement(b.ToggleControl,{label:(0,V.__)("Show Queries","post-expirator"),checked:t,onChange:u})),React.createElement(b.PanelRow,null,React.createElement(b.ToggleControl,{label:(0,V.__)("Show Emails","post-expirator"),checked:n,onChange:d})),React.createElement(b.PanelRow,null,React.createElement(b.ToggleControl,{label:(0,V.__)("Show WordPress Errors","post-expirator"),checked:o,onChange:p})),React.createElement(b.PanelRow,null,React.createElement(b.ToggleControl,{label:(0,V.__)("Show current running step","post-expirator"),checked:a,onChange:f}))))};var _c=r.Platform.select({web:!0,native:!1}),Ec=function(){var e=(0,l.useSelect)((function(e){var t=e(Vn.M_).getShortcutRepresentation(Gn);return{sidebarName:e("core/interface").getActiveComplementaryArea(m.eJ),keyboardShortcut:t}})),t=e.sidebarName,n=e.keyboardShortcut,r=(0,l.useSelect)((function(e){return{isDeveloperModeEnabled:e(s.M_).isFeatureActive(m.m$),isRayDebugInstalled:e(s.M_).isRayDebugInstalled()}})),o=r.isDeveloperModeEnabled,a=r.isRayDebugInstalled;return React.createElement(Nr,{identifier:t,header:React.createElement(jr,{sidebarName:t}),closeLabel:(0,V.__)("Close settings","post-expirator"),headerClassName:"edit-post-sidebar__panel-tabs",className:"edit-post-sidebar__panel",title:(0,V.__)("Settings","post-expirator"),toggleShortcut:n,icon:Cr.A,isActiveByDefault:_c},t===z&&React.createElement(React.Fragment,null,React.createElement(Hr,null),o&&a&&React.createElement(React.Fragment,null,React.createElement(wc,null))),t===B&&React.createElement(React.Fragment,null,React.createElement(hc,null)))},Sc=function(e){return futureWorkflowEditor.assetsUrl+"/images/workflow-welcome-guide/"+e+"?v="+futureWorkflowEditor.pluginVersion};const xc=function(){var e=(0,l.useDispatch)(s.M_).disableFeature,t=futureWorkflowEditor.welcomeGuidePages;return React.createElement(b.Guide,{className:"workflow-editor-welcome-guide",contentLabel:(0,V.__)("Welcome to the workflow editor","post-expirator"),finishButtonText:(0,V.__)("Get started","post-expirator"),onFinish:function(){e(m.d6)},pages:t.map((function(e){var t=e.title,n=e.content,r=e.image;return{content:React.createElement(React.Fragment,null,React.createElement("h1",{className:"edit-post-welcome-guide__heading"},t),React.createElement("p",{className:"edit-post-welcome-guide__text"},n)),image:React.createElement("picture",{className:"edit-post-welcome-guide__image"},React.createElement("source",{srcSet:Sc(r+".png"),media:"(prefers-reduced-motion: reduce)"}),React.createElement("img",{src:Sc(r+".gif"),width:"312",height:"240",alt:""}))}}))})},Rc=function(){return React.createElement(b.Modal,{title:(0,V.__)("Loading...","post-expirator"),isDismissible:!1},React.createElement("div",null,React.createElement("p",null,(0,V.__)("Wait, we are loading the workflow...","post-expirator"))))};function kc(){var e=(0,l.useSelect)((function(e){return{isFullscreenActive:e(s.M_).isFeatureActive(m.t7),isInserterOpened:e(s.M_).isFeatureActive(m.is),isWelcomeGuideActive:e(s.M_).isFeatureActive(m.d6),isLoadingWorkflow:e(c.M).isLoadingWorkflow(),isCreatingWorkflow:e(c.M).isCreatingWorkflow()}})),t=e.isFullscreenActive,n=e.isInserterOpened,a=e.isWelcomeGuideActive,d=e.isLoadingWorkflow,p=e.isCreatingWorkflow,f=i()("edit-post-layout editor-editor-interface",{"is-inserter-opened":n}),v=q();return(0,r.useEffect)((function(){var e=["workflow-editor"];return e.push(v?"is-pro":"is-free"),(0,J.K4)(e),function(){(0,J.LC)(e)}}),[]),React.createElement(b.SlotFillProvider,null,React.createElement(u.Ln,null,React.createElement(G,null,React.createElement(o.fA,{isActive:t}),React.createElement(Zn,null),React.createElement(Ec,null),(d||p)&&React.createElement(Rc,null),React.createElement(Fn,{className:f,secondarySidebar:function(){return n?React.createElement(Ar,null):null}}),a&&React.createElement(xc,null))),React.createElement(Wn.PluginArea,{scope:"future-workflow-editor"}))}const Oc=function(){return{name:"post",label:"Post",primitiveType:"object",propertiesSchema:[{name:"title",type:"string",label:"Title",description:"The title of the post."},{name:"content",type:"string",label:"Content",description:"The content of the post."},{name:"content_text",type:"string",label:"Content (Plain Text)",description:"The content of the post in plain text."},{name:"excerpt",type:"string",label:"Excerpt",description:"The excerpt of the post."},{name:"status",type:"post_status",label:"Post Status",description:"The status of the post."},{name:"type",type:"post_type",label:"Post Type",description:"The type of the post."},{name:"id",type:"integer",label:"ID",description:"The unique identifier for the post."},{name:"date",type:"datetime",label:"Publish Date",description:"The date when the post was published."},{name:"modified",type:"datetime",label:"Modification Date",description:"The date when the post was last modified."},{name:"permalink",type:"url",label:"Permalink",description:"The permalink of the post."},{name:"slug",type:"string",label:"Slug",description:"The slug (or post name)of the post."},{name:"author",type:"user",label:"Author",description:"The author of the post."},{name:"meta",type:"meta",label:"Metadata",description:"The metadata of the post.",context:{table:"_postmeta"}},{name:"future",type:"future_action",label:"Future Action",description:"The future action properties of the post."}]}},Ac=function(){return{name:"boolean",label:"Boolean",primitiveType:"boolean"}},Cc=function(){return{name:"datetime",label:"Datetime",primitiveType:"string"}},Tc=function(){return{name:"integer",label:"Integer",primitiveType:"integer"}},Pc=function(){return{name:"string",label:"String",primitiveType:"string"}},Nc=function(){return{name:"email",label:"Email",primitiveType:"string"}},jc=function(){return{name:"input",label:"Step input",primitiveType:"array",itemsType:"mixed"}},Dc=function(){return{name:"workflow",label:"Future Workflow",primitiveType:"object",propertiesSchema:[{name:"id",type:"integer",label:"ID",description:"The unique identifier for the workflow."},{name:"title",type:"string",label:"Title",description:"The title of the workflow."},{name:"description",type:"string",label:"Description",description:"The description of the workflow."},{name:"modified_at",type:"datetime",label:"Modification Date",description:"The date when the workflow was last modified."},{name:"meta",type:"meta",label:"Metadata",description:"The metadata of the workflow.",context:{table:"_postmeta"}},{name:"execution_id",type:"string",label:"Execution ID",description:"The unique identifier for the workflow execution."},{name:"execution_trace",type:"array",label:"Execution Trace",description:"The trace of the workflow execution.",items:{type:"string"}}]}},Ic=function(){return{name:"user",label:"User",primitiveType:"object",propertiesSchema:[{name:"ID",type:"integer",label:"ID",description:"The unique identifier for the user."},{name:"email",type:"email",label:"Email",description:"The email address of the user."},{name:"login",type:"string",label:"Login",description:"The login name of the user."},{name:"display_name",type:"string",label:"Display name",description:"The display name of the user."},{name:"roles",type:"user_roles",label:"Roles",description:"The roles of the user."},{name:"caps",type:"object",label:"Capabilities",description:"The capabilities of the user."},{name:"registered",type:"datetime",label:"Registration date",description:"The date when the user was registered."},{name:"meta",type:"meta",label:"Metadata",description:"The metadata of the user.",context:{table:"_usermeta"}}]}},Mc=function(){return{name:"site",label:"Site",primitiveType:"object",propertiesSchema:[{name:"id",type:"integer",label:"ID",description:"The unique identifier for the site."},{name:"name",type:"string",label:"Name",description:"The name of the site."},{name:"description",type:"string",label:"Description",description:"The description of the site."},{name:"url",type:"string",label:"Site URL",description:"The URL of the site."},{name:"home_url",type:"string",label:"Home URL",description:"The URL of the home page of the site."},{name:"admin_email",type:"email",label:"Admin Email",description:"The email address of the site administrator."}]}},Lc=function(){return{name:"node",label:"Workflow Node",primitiveType:"object",propertiesSchema:[{name:"id",type:"integer",label:"ID",description:"The unique identifier for the node."},{name:"name",type:"string",label:"Name",description:"The name of the node."},{name:"slug",type:"string",label:"Slug",description:"The slug of the node."},{name:"label",type:"string",label:"Label",description:"The label of the node."},{name:"activation_timestamp",type:"string",label:"Activation Time",description:"The timestamp when the node was activated."},{name:"post_id",type:"integer",label:"Post ID",description:"The ID of the post that triggered the node."}]}},Fc=function(){return{name:"array",label:"Array",primitiveType:"array",itemsType:"mixed"}},Wc=function(){return{name:"future_action",label:"Future Action",primitiveType:"object",propertiesSchema:[{name:"enabled",type:"boolean",label:"Enabled",description:"Whether the future action is enabled."},{name:"action",type:"string",label:"Action",description:"The action to be performed."},{name:"new_status",type:"string",label:"New Status",description:"The new status of the post."},{name:"date",type:"integer",label:"Date",description:"The date when the future action will be performed in Unix timestamp format."},{name:"date_string",type:"datetime",label:"Date String",description:"The date when the future action will be performed."},{name:"terms",type:"terms_array",label:"Terms",description:"The terms to be used in the future action."}]}},Vc=function(){return{name:"terms_array",label:"Terms Array",primitiveType:"object",propertiesSchema:[{name:"ids",type:"array",label:"List of terms IDs",description:"A list of terms IDs."},{name:"labels",type:"array",label:"List of terms labels",description:"A list of terms labels."}]}},Uc=function(){return{name:"meta",label:"Metadata",primitiveType:"object",propertiesSchema:[{name:"id",type:"integer",label:"ID",description:"The unique identifier for the metadata."},{name:"key",type:"string",label:"Key",description:"The key of the metadata."},{name:"value",type:"mixed",label:"Value",description:"The value of the metadata."},{name:"single",type:"boolean",label:"Single",description:"Whether the metadata is a single value."}]}},zc=function(){return{name:"post_status",label:"Post Status",primitiveType:"string"}},Bc=function(){return{name:"post_type",label:"Post Type",primitiveType:"string"}},Hc=function(){return{name:"url",label:"URL",primitiveType:"string"}},Gc=function(){return{name:"user_roles",label:"User Roles",primitiveType:"array",itemsType:"string"}};var qc=n(3133),$c={};$c.styleTagTransform=Go(),$c.setAttributes=Uo(),$c.insert=Wo().bind(null,"head"),$c.domAPI=Lo(),$c.insertStyleElement=Bo(),Io()(qc.A,$c),qc.A&&qc.A.locals&&qc.A.locals,n(5375);var Kc=window.futureWorkflowEditor,Jc=Kc.workflowId,Qc=Kc.nodeTypeCategories,Yc=Kc.nodeTypes;function Xc(){var e=(0,l.useDispatch)(c.M),t=e.setupEditor,n=e.setDataTypes,o=(0,l.useDispatch)(s.M_),a=o.setTriggerNodes,i=o.setTriggerCategories,u=o.setActionCategories,d=o.setActionNodes,p=o.setAdvancedCategories,f=o.setAdvancedNodes;return(0,r.useEffect)((function(){t(Jc),a(Yc.triggers),d(Yc.actions),f(Yc.advanced),i(Qc),u(Qc),p(Qc);var e=[Oc(),Ac(),Cc(),Tc(),Pc(),Nc(),jc(),Dc(),Ic(),Mc(),Lc(),Fc(),Wc(),Vc(),Uc(),zc(),Bc(),Hc(),Gc()];n(e)}),[Jc]),React.createElement(r.StrictMode,null,React.createElement(kc,null))}},6123:(e,t,n)=>{n.d(t,{M_:()=>f});var r=n(7562),o=n(7199);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=futureWorkflowEditor.isPro||!1,p={activeFeatures:[],currentInserterTab:o.Dh,triggerCategories:[],triggerNodes:[],actionCategories:[],actionNodes:[],advancedCategories:[],advancedNodes:[],activeSidebarName:null,hoveredItem:null,panelBodyStates:{},isPro:d,currentConditionalQuery:null},f=(0,r.createReduxStore)("publishpress-future/workflow-editor",{reducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ACTIVE_FEATURES":return n.payload.forEach((function(e){b.includes(e)&&h(e,!0)})),null===(e=n.payload.includes(o.is)?null:t.activeSidebarName)&&(0,r.dispatch)("core/interface").disableComplementaryArea(o.eJ),s(s({},t),{},{activeFeatures:n.payload,activeSidebarName:e});case"TOGGLE_FEATURE":var a=n.payload,l=i(t.activeFeatures);return l.includes(a)?l=l.filter((function(e){return e!==a})):l.push(a),b.forEach((function(e){l.includes(e)?h(e,!0):h(e,!1)})),null===(e=l.includes(o.is)?null:t.activeSidebarName)&&(0,r.dispatch)("core/interface").disableComplementaryArea(o.eJ),s(s({},t),{},{activeFeatures:l,activeSidebarName:e});case"ENABLE_FEATURE":var c=n.payload;b.includes(c)&&h(c,!0);var d=[].concat(i(t.activeFeatures),[c]);return null===(e=d.includes(o.is)?null:t.activeSidebarName)&&(0,r.dispatch)("core/interface").disableComplementaryArea(o.eJ),s(s({},t),{},{activeFeatures:d,activeSidebarName:e});case"DISABLE_FEATURE":var f=n.payload;return b.includes(f)&&h(f,!1),s(s({},t),{},{activeFeatures:t.activeFeatures.filter((function(e){return e!==f}))});case"SET_CURRENT_INSERTER_TAB":return s(s({},t),{},{currentInserterTab:n.payload});case"SET_TRIGGER_CATEGORIES":return s(s({},t),{},{triggerCategories:n.payload});case"SET_TRIGGER_NODES":return s(s({},t),{},{triggerNodes:n.payload});case"SET_ACTION_CATEGORIES":return s(s({},t),{},{actionCategories:n.payload});case"SET_ACTION_NODES":return s(s({},t),{},{actionNodes:n.payload});case"SET_ADVANCED_CATEGORIES":return s(s({},t),{},{advancedCategories:n.payload});case"SET_ADVANCED_NODES":return s(s({},t),{},{advancedNodes:n.payload});case"CLOSE_GENERAL_SIDEBAR":return s(s({},t),{},{activeSidebarName:null});case"OPEN_GENERAL_SIDEBAR":return s(s({},t),{},{activeSidebarName:n.payload,activeFeatures:t.activeFeatures.filter((function(e){return e!==o.is}))});case"SET_HOVERED_ITEM":return s(s({},t),{},{hoveredItem:n.payload});case"SET_PANEL_BODY_STATE":var m=s(s({},t),{},{panelBodyStates:s(s({},t.panelBodyStates),{},u({},n.payload.panel,n.payload.state))});return w(n.payload.panel,n.payload.state),m;case"SET_CURRENT_CONDITIONAL_QUERY":return s(s({},t),{},{currentConditionalQuery:n.payload})}return t},actions:{setActiveFeatures:function(e){return{type:"SET_ACTIVE_FEATURES",payload:e}},toggleFeature:function(e){return{type:"TOGGLE_FEATURE",payload:e}},disableFeature:function(e){return{type:"DISABLE_FEATURE",payload:e}},enableFeature:function(e){return{type:"ENABLE_FEATURE",payload:e}},setCurrentInserterTab:function(e){return{type:"SET_CURRENT_INSERTER_TAB",payload:e}},setTriggerCategories:function(e){return{type:"SET_TRIGGER_CATEGORIES",payload:e}},setTriggerNodes:function(e){return{type:"SET_TRIGGER_NODES",payload:e}},setActionCategories:function(e){return{type:"SET_ACTION_CATEGORIES",payload:e}},setActionNodes:function(e){return{type:"SET_ACTION_NODES",payload:e}},setAdvancedCategories:function(e){return{type:"SET_ADVANCED_CATEGORIES",payload:e}},setAdvancedNodes:function(e){return{type:"SET_ADVANCED_NODES",payload:e}},closeGeneralSidebar:function(){return(0,r.dispatch)("core/interface").disableComplementaryArea(o.eJ),{type:"CLOSE_GENERAL_SIDEBAR",payload:null}},openGeneralSidebar:function(e){return(0,r.dispatch)("core/interface").enableComplementaryArea(o.eJ,e),{type:"OPEN_GENERAL_SIDEBAR",payload:e}},openInserter:function(){return{type:"ENABLE_FEATURE",payload:o.is}},closeInserter:function(){return{type:"DISABLE_FEATURE",payload:o.is}},setHoveredItem:function(e){return{type:"SET_HOVERED_ITEM",payload:e}},setPanelBodyState:function(e,t){return{type:"SET_PANEL_BODY_STATE",payload:{panel:e,state:t}}},setCurrentConditionalQuery:function(e){return{type:"SET_CURRENT_CONDITIONAL_QUERY",payload:e}}},selectors:{getActiveFeatures:function(e){return e.activeFeatures},isFeatureActive:function(e,t){return e.activeFeatures.includes(t)},getCurrentInserterTab:function(e){return e.currentInserterTab},getTriggerCategories:function(e){return e.triggerCategories},getTriggerNodes:function(e){return e.triggerNodes},getActionCategories:function(e){return e.actionCategories},getActionNodes:function(e){return e.actionNodes},getAdvancedCategories:function(e){return e.advancedCategories},getAdvancedNodes:function(e){return e.advancedNodes},getHoveredItem:function(e){return e.hoveredItem},getPanelBodyState:function(e,t){return e.panelBodyStates[t]},getAllNodes:function(e){return e.triggerNodes.concat(e.actionNodes,e.advancedNodes)},getNodeTypeByName:function(e,t){return e.triggerNodes.concat(e.actionNodes,e.advancedNodes).find((function(e){return e.name===t}))||{}},isRayDebugInstalled:function(e){return e.advancedNodes.some((function(e){return"advanced/ray.debug"===e.name}))},isPro:function(e){return e.isPro},getCurrentConditionalQuery:function(e){return e.currentConditionalQuery}}});(0,r.register)(f);var m="FUTURE_PRO_WORKFLOW_PREFERENCES_"+futureWorkflowEditor.currentUserId,b=[o.t7,o.m$,o.d6,o.yY,o.s$,o.kD];null===localStorage.getItem(m)&&localStorage.setItem(m,JSON.stringify({persistentFeatures:{},panelBodyStates:{}}));var v=function(){return JSON.parse(localStorage.getItem(m))},y=function(e){localStorage.setItem(m,JSON.stringify(e))},g=function(e){var t;return null===(t=v().persistentFeatures)||void 0===t?void 0:t[e]},h=function(e,t){var n=v();n.persistentFeatures||(n.persistentFeatures={}),n.persistentFeatures[e]=t,y(n)},w=function(e,t){var n=v();n.panelBodyStates||(n.panelBodyStates={}),n.panelBodyStates[e]=t,y(n)};null==g(o.t7)&&h(o.t7,!0),null==g(o.d6)&&h(o.d6,!0),null==g(o.kD)&&h(o.kD,!0),b.forEach((function(e){g(e)?(0,r.dispatch)(f).enableFeature(e):(0,r.dispatch)(f).disableFeature(e)}));var _=v().panelBodyStates||{};_&&Object.keys(_).forEach((function(e){(0,r.dispatch)(f).setPanelBodyState(e,_[e])}))},3018:(e,t,n)=>{n.d(t,{Ml:()=>i,qj:()=>r,rx:()=>a,wD:()=>o});var r="RIGHT",o="DOWN",a=o,i="publishpress_future_workflow_editor_auto_layout"},9832:(e,t,n)=>{n.d(t,{M:()=>st});var r={};n.r(r),n.d(r,{getBaseSlugCounts:()=>te,getConnectedSourceHandlesOfSelectedNode:()=>ce,getDataTypeByName:()=>Y,getDataTypes:()=>Q,getDraggingFromHandle:()=>re,getEdgeById:()=>O,getEdges:()=>R,getEditedWorkflowAttribute:()=>I,getEditedWorkflowAttributes:()=>D,getGlobalVariable:()=>Z,getGlobalVariables:()=>X,getInitialViewport:()=>V,getNodeById:()=>k,getNodeErrors:()=>ne,getNodes:()=>x,getPostType:()=>S,getRayDebugShowEmails:()=>ie,getRayDebugShowQueries:()=>ae,getRayDebugShowWordPressErrors:()=>le,getSelectedEdges:()=>C,getSelectedEdgesCount:()=>J,getSelectedElementsCount:()=>$,getSelectedNodes:()=>A,getSelectedNodesCount:()=>K,getTaxonomyTerms:()=>ee,getWorkflow:()=>j,getWorkflowStatus:()=>N,hasSelectedEdges:()=>P,hasSelectedNodes:()=>T,isAutosavingWorkflow:()=>H,isConnectingNodes:()=>oe,isCreatingWorkflow:()=>L,isCurrentWorkflowPublished:()=>q,isDeletingWorkflow:()=>B,isEditedWorkflowDirty:()=>F,isEditedWorkflowSaveable:()=>G,isLoadingWorkflow:()=>M,isNewWorkflow:()=>W,isPublishedWorkflow:()=>z,isSavingWorkflow:()=>U});var o={};n.r(o),n.d(o,{addDataType:()=>Ge,addNode:()=>tt,addNodeError:()=>Qe,deleteWorkflow:()=>ze,fetchTaxonomyTerms:()=>$e,incrementBaseSlugCounts:()=>Ke,publishWorkflow:()=>Pe,removeEdge:()=>et,removeNode:()=>Ze,removeNodeError:()=>Ye,removePlaceholderNodes:()=>nt,resetNodeErrors:()=>Xe,saveAsCurrentStatus:()=>Te,saveAsDraft:()=>Ce,setDataTypes:()=>He,setDraggingFromHandle:()=>rt,setEdges:()=>Me,setEditedWorkflowAttribute:()=>Ue,setFlow:()=>je,setGlobalVariable:()=>qe,setInitialViewport:()=>Le,setIsConnectingNodes:()=>ot,setNodes:()=>Ie,setPostType:()=>De,setSelectedEdges:()=>Ve,setSelectedNodes:()=>Fe,setupEditor:()=>Oe,switchToDraft:()=>Ne,unselectAll:()=>We,updateBaseSlugCounts:()=>Je,updateNode:()=>Be});var a=n(7562),i="publishpress-future/workflow",l=n(1967),c=n(7199),s=n(3739);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={postType:c.M$,isLoadingWorkflow:!1,isCreatingWorkflow:!1,isSavingWorkflow:!1,isNewWorkflow:!0,isDeletingWorkflow:!1,isAutosavingWorkflow:!1,isEditedWorkflowEmpty:!0,isCurrentWorkflowPublished:!1,workflow:{id:0,title:"",description:"",flow:{nodes:[],edges:[],viewport:{x:0,y:0,zoom:2}},status:"auto-draft",debugRayShowQueries:!1,debugRayShowEmails:!1,debugRayShowWordPressErrors:!1,debugRayShowCurrentRunningStep:!1},editedWorkflowAttributes:{},initialViewport:{x:0,y:0,zoom:2},selectedNodes:[],selectedEdges:[],dataTypes:[],globalVariables:[],isFetchingTaxonomyTerms:!1,taxonomyTerms:{},baseSlugCounts:{},nodeErrors:{},draggingFromHandle:{sourceId:null,handleId:null,handleType:null},isConnectingNodes:!1},y=function(e){return e.map((function(e){return"genericEdge"!==e.type?e:m(m({},e),{},{markerEnd:{type:l.TG.ArrowClosed}})}))};function g(e){return e=w(e,{payload:{name:"site",label:"Site",type:"site",runtimeOnly:!0,description:"The current site."}}),e=w(e,{payload:{name:"workflow",label:"Workflow",type:"workflow",runtimeOnly:!1,description:"The current workflow."}}),e=w(e,{payload:{name:"user",label:"Activating user",type:"user",runtimeOnly:!0,description:"The current user."}}),e=w(e,{payload:{name:"trigger",label:"Activating trigger",type:"node",runtimeOnly:!0,description:"The node that activated the workflow."}}),w(e,{payload:{name:"engine_execution_id",label:"Engine execution ID",type:"string",runtimeOnly:!0,description:"A unique identifier assigned each time the workflow engine runs. Useful for tracking specific workflow executions and debugging.",priority:35}})}var h=function(e,t){return setTimeout((function(){return jQuery(".react-flow__pane").trigger("click")}),200),m(m({},e),{},{selectedNodes:[],selectedEdges:[]})},w=function(e,t){var n=t.payload,r=n.name,o=n.label,a=n.type,i=n.value,l=n.runtimeOnly,c=n.description,s=n.priority,u=m({},e.globalVariables);return u[r]={name:r,type:a,value:i,label:o,runtimeOnly:l,description:c,priority:s},m(m({},e),{},{globalVariables:u})},_=function(e){if(!e)return{};var t=e.match(/([a-zA-Z0-9]+)(\d+)$/);return t?{baseSlug:t[1],count:parseInt(t[2])}:{}},E=function(e,t){var n=t.payload,r=_(n),o=function(e,t){var n=_(t),r=e.baseSlugCounts[null==n?void 0:n.baseSlug]||0,o=(null==n?void 0:n.count)||0;return isNaN(o)?r:o>r?o:r}(e,n),a=null==r?void 0:r.baseSlug;return a&&o?m(m({},e),{},{baseSlugCounts:m(m({},e.baseSlugCounts),{},b({},a,o))}):e};var S=function(e){return e.postType},x=function(e){return e.workflow.flow.nodes},R=function(e){return e.workflow.flow.edges},k=function(e,t){return(0,s.dV)(t,e.workflow.flow.nodes)},O=function(e,t){return e.workflow.flow.edges.find((function(e){return e.id===t}))},A=function(e){return e.selectedNodes},C=function(e){return e.selectedEdges},T=function(e){return e.selectedNodes.length>0},P=function(e){return e.selectedEdges.length>0},N=function(e){return e.workflow.status},j=function(e){return e.workflow},D=function(e){return e.editedWorkflowAttributes},I=function(e,t){return e.workflow.hasOwnProperty(t),e.workflow[t]},M=function(e){return!!e.isLoadingWorkflow},L=function(e){return!!e.isCreatingWorkflow},F=function(e){return Object.keys(e.editedWorkflowAttributes).length>0},W=function(e){return!!e.isNewWorkflow},V=function(e){return e.initialViewport},U=function(e){return!!e.isSavingWorkflow},z=function(e){return"publish"===e.workflow.status},B=function(e){return!!e.isDeletingWorkflow},H=function(e){return!!e.isAutosavingWorkflow},G=function(e){var t;return t=e.editedWorkflowAttributes.hasOwnProperty("title")?e.editedWorkflowAttributes.title:e.workflow.title,Object.keys(e.editedWorkflowAttributes).length>0&&!e.isSavingWorkflow&&!e.isAutosavingWorkflow&&""!==String(t).trim()},q=function(e){return e.isCurrentWorkflowPublished},$=function(e){return e.selectedNodes.length+e.selectedEdges.length},K=function(e){return e.selectedNodes.length},J=function(e){return e.selectedEdges.length},Q=function(e){return e.dataTypes},Y=function(e,t){return e.dataTypes.find((function(e){return e.name===t}))};function X(e){return e.globalVariables}function Z(e,t){return e.globalVariables.find((function(e){return e.name===t}))}function ee(e,t){return e.taxonomyTerms[t]||[]}function te(e){return e.baseSlugCounts}function ne(e,t){return e.nodeErrors[t]||[]}function re(e){return e.draggingFromHandle}function oe(e){return!!e.isConnectingNodes}function ae(e){return e.rayDebug.showQueries}function ie(e){return e.rayDebug.showEmails}function le(e){return e.rayDebug.showWordPressErrors}function ce(e){var t=A(e);if(0===t.length)return[];var n=t[0],r=R(e).filter((function(e){return e.source===n})).map((function(e){return e.sourceHandle}));return r.filter((function(e,t,n){return n.indexOf(e)===t}))}var se=n(1826),ue=n(8269);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return(t=function(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(){be=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),l=new T(r||[]);return o(i,"_invoke",{value:k(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",b="completed",v={};function y(){}function g(){}function h(){}var w={};s(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(P([])));E&&E!==n&&r.call(E,i)&&(w=E);var S=h.prototype=y.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==de(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,n,r){var o=p;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var l=r.delegate;if(l){var c=O(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=d(t,n,r);if("normal"===s.type){if(o=r.done?b:f,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=b,r.method="throw",r.arg=s.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=d(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(de(t)+" is not iterable")}return g.prototype=h,o(S,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:g,configurable:!0}),g.displayName=s(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(R.prototype),s(R.prototype,l,(function(){return this})),t.AsyncIterator=R,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new R(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(S),s(S,c,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var ve=be().mark(Oe),ye=be().mark(Ce),ge=be().mark(Te),he=be().mark(Pe),we=be().mark(Ne),_e=be().mark(ze),Ee=be().mark($e),Se=window.futureWorkflowEditor,xe=Se.apiUrl,Re=Se.nonce,ke=["title","description","flow","status","debugRayShowQueries","debugRayShowEmails","debugRayShowWordPressErrors","debugRayShowCurrentRunningStep"];function Oe(e){var t,n;return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{type:"LOAD_WORKFLOW_START"};case 2:if(0!=(e=parseInt(e,10))){r.next=19;break}return r.next=6,{type:"CREATE_WORKFLOW_START"};case 6:return r.prev=6,r.next=9,(0,se.nr)({path:"".concat(xe,"/workflows"),method:"POST",headers:{"X-WP-Nonce":Re}});case 9:return t=r.sent,r.next=12,{type:"CREATE_WORKFLOW_SUCCESS",payload:t};case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(6),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to create a new workflow. Please try again.","post-expirator")),r.next=19,{type:"CREATE_WORKFLOW_FAILURE"};case 19:if(!(e>0)){r.next=33;break}return r.prev=20,r.next=23,(0,se.nr)({path:"".concat(xe,"/workflows/").concat(e),headers:{"X-WP-Nonce":Re}});case 23:return n=r.sent,r.next=26,{type:"LOAD_WORKFLOW_SUCCESS",payload:n};case 26:r.next=33;break;case 28:return r.prev=28,r.t1=r.catch(20),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to load the workflow. Please try again.","post-expirator")),r.next=33,{type:"LOAD_WORKFLOW_FAILURE"};case 33:case"end":return r.stop()}}),ve,null,[[6,14],[20,28]])}function Ae(e){window.history.pushState({},"","?page=future_workflow_editor&workflow=".concat(parseInt(e)))}function Ce(){var e,t,n,r;return be().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,{type:"SAVE_AS_DRAFT_START"};case 2:return o.prev=2,o.next=5,(0,a.select)(i).isNewWorkflow();case 5:return e=o.sent,o.next=8,(0,a.select)(i).getWorkflow();case 8:return t=o.sent,n=fe(fe({},t),{},{status:"draft"}),o.next=12,(0,se.nr)({path:"".concat(xe,"/workflows/").concat(parseInt(t.id)),method:"PUT",headers:{"X-WP-Nonce":Re},body:JSON.stringify(n)});case 12:return r=o.sent,e&&Ae(r.id),o.next=16,{type:"SAVE_AS_DRAFT_SUCCESS",payload:r};case 16:(0,a.dispatch)("core/notices").createSuccessNotice((0,ue.__)("Workflow saved as draft.","post-expirator"),{type:"snackbar",isDismissible:!0}),o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(2),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to save workflow. Please, try again.","post-expirator")),o.next=24,{type:"SAVE_AS_DRAFT_FAILURE"};case 24:case"end":return o.stop()}}),ye,null,[[2,19]])}function Te(){var e,t,n,r;return be().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,a.select)(i).getWorkflow();case 2:if("auto-draft"!==o.sent.status){o.next=7;break}return o.next=6,Ce();case 6:return o.abrupt("return");case 7:return o.next=9,{type:"SAVE_AS_CURRENT_STATUS_START"};case 9:return o.prev=9,o.next=12,(0,a.select)(i).isNewWorkflow();case 12:return e=o.sent,o.next=15,(0,a.select)(i).getWorkflow();case 15:return t=o.sent,n=fe({},t),o.next=19,(0,se.nr)({path:"".concat(xe,"/workflows/").concat(parseInt(t.id)),method:"PUT",headers:{"X-WP-Nonce":Re},body:JSON.stringify(n)});case 19:return r=o.sent,e&&Ae(r.id),o.next=23,{type:"SAVE_AS_CURRENT_STATUS_SUCCESS",payload:r};case 23:(0,a.dispatch)("core/notices").createSuccessNotice((0,ue.__)("Workflow saved.","post-expirator"),{type:"snackbar",isDismissible:!0}),o.next=31;break;case 26:return o.prev=26,o.t0=o.catch(9),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to save workflow. Please, try again.","post-expirator")),o.next=31,{type:"SAVE_AS_CURRENT_STATUS_FAILURE"};case 31:case"end":return o.stop()}}),ge,null,[[9,26]])}function Pe(){var e,t,n,r;return be().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,{type:"PUBLISH_WORKFLOW_START"};case 2:return o.prev=2,o.next=5,(0,a.select)(i).isNewWorkflow();case 5:return e=o.sent,o.next=8,(0,a.select)(i).getWorkflow();case 8:return t=o.sent,n=fe(fe({},t),{},{status:"publish"}),o.next=12,(0,se.nr)({path:"".concat(xe,"/workflows/").concat(parseInt(t.id)),method:"PUT",headers:{"X-WP-Nonce":Re},body:JSON.stringify(n)});case 12:return r=o.sent,e&&Ae(r.id),o.next=16,{type:"PUBLISH_WORKFLOW_SUCCESS",payload:r};case 16:(0,a.dispatch)("core/notices").createSuccessNotice((0,ue.__)("Workflow published.","post-expirator"),{type:"snackbar",isDismissible:!0}),o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(2),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to publish the workflow. Please, try again.","post-expirator")),o.next=24,{type:"PUBLISH_WORKFLOW_FAILURE"};case 24:case"end":return o.stop()}}),he,null,[[2,19]])}function Ne(){var e,t,n,r;return be().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,{type:"SWITCH_TO_DRAFT_START"};case 2:return o.prev=2,o.next=5,(0,a.select)(i).isNewWorkflow();case 5:return e=o.sent,o.next=8,(0,a.select)(i).getWorkflow();case 8:return t=o.sent,n=fe(fe({},t),{},{status:"draft"}),o.next=12,(0,se.nr)({path:"".concat(xe,"/workflows/").concat(parseInt(t.id)),method:"PUT",headers:{"X-WP-Nonce":Re},body:JSON.stringify(n)});case 12:return r=o.sent,e&&Ae(r.id),o.next=16,{type:"SWITCH_TO_DRAFT_SUCCESS",payload:r};case 16:(0,a.dispatch)("core/notices").createSuccessNotice((0,ue.__)("Workflow switched to draft.","post-expirator"),{type:"snackbar",isDismissible:!0}),o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(2),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to switch workflow to draft. Please, try again.","post-expirator")),o.next=24,{type:"SWITCH_TO_DRAFT_FAILURE"};case 24:case"end":return o.stop()}}),we,null,[[2,19]])}var je=function(e){return{type:"SET_FLOW",payload:e}},De=function(e){return{type:"SET_POST_TYPE",payload:e}},Ie=function(e){return{type:"SET_NODES",payload:e}},Me=function(e){return{type:"SET_EDGES",payload:e}},Le=function(e){return{type:"SET_INITIAL_VIEWPORT",payload:e}},Fe=function(e){return{type:"SET_SELECTED_NODES",payload:e}},We=function(){return{type:"UNSELECT_ALL"}},Ve=function(e){return{type:"SET_SELECTED_EDGES",payload:e}},Ue=function(e,t){if(!ke.includes(e))throw new Error('The workflow attribute "'.concat(e,'" is not editable.'));return{type:"SET_EDITED_WORKFLOW_ATTRIBUTE",payload:{key:e,value:t}}};function ze(){var e,t;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,{type:"DELETE_WORKFLOW_START"};case 2:return n.next=4,(0,a.select)(i).getWorkflow();case 4:return e=n.sent,n.prev=5,n.next=8,(0,se.nr)({path:"".concat(xe,"/workflows/").concat(parseInt(e.id)),method:"DELETE",headers:{"X-WP-Nonce":Re}});case 8:return t=n.sent,n.next=11,{type:"DELETE_WORKFLOW_SUCCESS",payload:t};case 11:(0,a.dispatch)("core/notices").createSuccessNotice((0,ue.__)("Workflow deleted. Redirecting...","post-expirator"),{type:"snackbar",isDismissible:!0}),window.location.href="edit.php?post_type=ppfuture_workflow",n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(5),(0,a.dispatch)("core/notices").createErrorNotice((0,ue.__)("Unable to delete the workflow. Please, try again.","post-expirator")),n.next=20,{type:"DELETE_WORKFLOW_FAILURE"};case 20:case"end":return n.stop()}}),_e,null,[[5,15]])}function Be(e){return{type:"UPDATE_NODE",payload:e}}function He(e){return{type:"SET_DATA_TYPES",payload:e}}function Ge(e){return{type:"ADD_DATA_TYPE",payload:e}}function qe(e){return{type:"SET_GLOBAL_VARIABLE",payload:e}}function $e(e){var t;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,{type:"FETCH_TAXONOMY_TERMS_START"};case 2:return n.prev=2,n.next=5,(0,se.nr)({path:"".concat(xe,"/terms/").concat(e),headers:{"X-WP-Nonce":Re}});case 5:return t=n.sent,n.next=8,{type:"FETCH_TAXONOMY_TERMS_SUCCESS",payload:{taxonomy:e,result:t}};case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),n.next=14,{type:"FETCH_TAXONOMY_TERMS_FAILURE"};case 14:case"end":return n.stop()}}),Ee,null,[[2,10]])}function Ke(e){return{type:"INCREMENT_BASE_SLUG_COUNTS",payload:e}}function Je(e){return{type:"UPDATE_BASE_SLUG_COUNTS",payload:e}}function Qe(e,t,n){return{type:"ADD_NODE_ERROR",payload:{nodeId:e,error:t,message:n,details:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""}}}function Ye(e,t){return{type:"REMOVE_NODE_ERROR",payload:{nodeId:e,error:t}}}function Xe(e){return{type:"RESET_NODE_ERRORS",payload:e}}function Ze(e){return{type:"REMOVE_NODE",payload:e}}function et(e){return{type:"REMOVE_EDGE",payload:e}}function tt(e){return{type:"ADD_NODE",payload:e}}function nt(){return{type:"REMOVE_PLACEHOLDER_NODES"}}function rt(e){return{type:"SET_DRAGGING_FROM_HANDLE",payload:{sourceId:e.sourceId,handleId:e.handleId,handleType:e.handleType}}}function ot(e){return{type:"SET_IS_CONNECTING_NODES",payload:e}}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e,t,n){return(t=function(e){var t=function(e){if("object"!=at(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==at(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ct=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},se.ne);var st=(0,a.createReduxStore)(i,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_WORKFLOW_START":return function(e){return m(m({},e),{},{isCreatingWorkflow:!0,isLoadingWorkflow:!0})}(e);case"CREATE_WORKFLOW_SUCCESS":return function(e,t){var n=t.payload,r=[(0,s.IP)()];return m(m({},e=g(e)),{},{isCreatingWorkflow:!1,isLoadingWorkflow:!1,workflow:m(m({},n),{},{flow:m(m({},n.flow),{},{nodes:r})}),editedWorkflowAttributes:{},isNewWorkflow:"auto-draft"===n.status,isEditedWorkflowEmpty:0===e.workflow.flow.edges.length&&0===e.workflow.flow.nodes.length,isCurrentWorkflowPublished:"publish"===n.status})}(e,t);case"CREATE_WORKFLOW_FAILURE":return function(e){return m(m({},e),{},{isCreatingWorkflow:!1,isLoadingWorkflow:!1})}(e);case"LOAD_WORKFLOW_START":return function(e){return m(m({},e),{},{isLoadingWorkflow:!0})}(e);case"LOAD_WORKFLOW_SUCCESS":return function(e,t){var n,r,o,a=t.payload,i=(null===(n=a.flow)||void 0===n?void 0:n.nodes)||[],l=(null===(r=a.flow)||void 0===r?void 0:r.edges)||[],c=(null===(o=a.flow)||void 0===o?void 0:o.viewport)||v.viewport;return i.map((function(t){var n,r=null==t||null===(n=t.data)||void 0===n?void 0:n.slug;r&&(e=E(e,{payload:r}))})),i.length||(i=[(0,s.IP)()]),l=function(e,t){return t.filter((function(t){var n=(0,s.dV)(t.source,e),r=(0,s.dV)(t.target,e);return!(!n||!r)}))}(i,l=y(l)),e=g(e),h(e),m(m({},e),{},{isLoadingWorkflow:!1,workflow:m(m({},a),{},{flow:m(m({},a.flow),{},{nodes:i,edges:l})}),editedWorkflowAttributes:{},isNewWorkflow:"auto-draft"===a.status,initialViewport:c,isEditedWorkflowEmpty:0===l.length&&0===i.length,isCurrentWorkflowPublished:"publish"===a.status})}(e,t);case"LOAD_WORKFLOW_FAILURE":return function(e){return m(m({},e),{},{isLoadingWorkflow:!1})}(e);case"SAVE_AS_DRAFT_START":case"SWITCH_TO_DRAFT_START":case"SAVE_AS_CURRENT_STATUS_START":case"PUBLISH_WORKFLOW_START":return function(e){return m(m({},e),{},{isSavingWorkflow:!0})}(e);case"SAVE_AS_DRAFT_SUCCESS":return function(e,t){var n=t.payload;return m(m({},e),{},{isSavingWorkflow:!1,workflow:n,editedWorkflowAttributes:{},isNewWorkflow:"auto-draft"===n.status,isEditedWorkflowEmpty:0===e.workflow.flow.edges.length&&0===e.workflow.flow.nodes.length,isCurrentWorkflowPublished:"publish"===n.status})}(e,t);case"SAVE_AS_DRAFT_FAILURE":case"SWITCH_TO_DRAFT_FAILURE":case"SAVE_AS_CURRENT_STATUS_FAILURE":case"PUBLISH_WORKFLOW_FAILURE":return function(e){return m(m({},e),{},{isSavingWorkflow:!1})}(e);case"SWITCH_TO_DRAFT_SUCCESS":return function(e,t){var n=t.payload,r=m(m({},e.workflow),{},{status:n.status});return m(m({},e),{},{isSavingWorkflow:!1,workflow:r,isNewWorkflow:!1,isEditedWorkflowEmpty:0===e.workflow.flow.edges.length&&0===e.workflow.flow.nodes.length,isCurrentWorkflowPublished:"publish"===r.status,editedWorkflowAttributes:{}})}(e,t);case"SAVE_AS_CURRENT_STATUS_SUCCESS":return function(e,t){var n=t.payload,r=m(m({},e.workflow),n);return m(m({},e),{},{isSavingWorkflow:!1,workflow:r,isNewWorkflow:!1,isEditedWorkflowEmpty:0===e.workflow.flow.edges.length&&0===e.workflow.flow.nodes.length,isCurrentWorkflowPublished:"publish"===e.workflow.status,editedWorkflowAttributes:{}})}(e,t);case"PUBLISH_WORKFLOW_SUCCESS":return function(e,t){var n=t.payload,r=m(m({},e.workflow),{},{status:n.status});return m(m({},e),{},{isSavingWorkflow:!1,workflow:r,isNewWorkflow:!1,isEditedWorkflowEmpty:0===e.workflow.flow.edges.length&&0===e.workflow.flow.nodes.length,isCurrentWorkflowPublished:"publish"===r.status,editedWorkflowAttributes:{}})}(e,t);case"SET_EDITED_WORKFLOW_ATTRIBUTE":return function(e,t){var n=t.payload,r=n.key,o=n.value;return m(m({},e),{},{workflow:m(m({},e.workflow),{},b({},r,o)),editedWorkflowAttributes:m(m({},e.editedWorkflowAttributes),{},b({},r,o)),isEditedWorkflowEmpty:0===Object.keys(e.editedWorkflowAttributes).length})}(e,t);case"SET_POST_TYPE":return function(e,t){var n=t.payload;return m(m({},e),{},{postType:n})}(e,t);case"SET_NODES":return function(e,t){var n=t.payload;return m(m({},e),{},{workflow:m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{nodes:n})})})}(e,t);case"ADD_NODE":return function(e,t){var n=t.payload,r=[].concat(d(e.workflow.flow.nodes),[n]);return m(m({},e),{},{workflow:m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{nodes:r})})})}(e,t);case"SET_EDGES":return function(e,t){var n=t.payload,r=y(n);return m(m({},e),{},{workflow:m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{edges:r})})})}(e,t);case"ADD_EDGE":return addEdge(e,t);case"SET_INITIAL_VIEWPORT":return function(e,t){var n=t.payload;return m(m({},e),{},{initialViewport:n})}(e,t);case"SET_SELECTED_NODES":return function(e,t){var n=t.payload;return m(m({},e),{},{selectedNodes:n})}(e,t);case"SET_SELECTED_EDGES":return function(e,t){var n=t.payload;return m(m({},e),{},{selectedEdges:n})}(e,t);case"UNSELECT_ALL":return h(e,t);case"DELETE_WORKFLOW_START":return function(e){return m(m({},e),{},{isDeletingWorkflow:!0})}(e);case"DELETE_WORKFLOW_SUCCESS":case"DELETE_WORKFLOW_FAILURE":return function(e){return m(m({},e),{},{isDeletingWorkflow:!1})}(e);case"UPDATE_NODE":return function(e,t){var n=t.payload,r=e.workflow.flow.nodes.map((function(e){return e.id===n.id?m(m(m({},e),n),{},{data:m(m(m({},e.data),n.data),{},{settings:m(m({},e.data.settings),n.data.settings)})}):e})),o=m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{nodes:r})});return m(m({},e),{},{workflow:o,editedWorkflowAttributes:m(m({},e.editedWorkflowAttributes),{},{flow:m(m({},e.editedWorkflowAttributes.flow),{},{nodes:r})})})}(e,t);case"SET_DATA_TYPES":return function(e,t){var n=t.payload;return m(m({},e),{},{dataTypes:n})}(e,t);case"ADD_DATA_TYPE":return function(e,t){var n=t.payload.payload;return m(m({},e),{},{dataTypes:[].concat(d(e.dataTypes),[n])})}(e,t);case"SET_GLOBAL_VARIABLE":return w(e,t);case"FETCH_TAXONOMY_TERMS_START":return function(e){return m(m({},e),{},{isFetchingTaxonomyTerms:!0})}(e);case"FETCH_TAXONOMY_TERMS_SUCCESS":return function(e,t){var n,r=t.payload,o=r.taxonomy,a=r.result,i=(null==a||null===(n=a.terms)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:e.name}})))||[],l=m(m({},e.taxonomyTerms),{},b({},o,i));return m(m({},e),{},{isFetchingTaxonomyTerms:!1,taxonomyTerms:l})}(e,t);case"FETCH_TAXONOMY_TERMS_FAILURE":return function(e){return m(m({},e),{},{isFetchingTaxonomyTerms:!1})}(e);case"INCREMENT_BASE_SLUG_COUNTS":return function(e,t){var n=t.payload,r=m(m({},e.baseSlugCounts),{},b({},n,(e.baseSlugCounts[n]||0)+1));return m(m({},e),{},{baseSlugCounts:r})}(e,t);case"UPDATE_BASE_SLUG_COUNTS":return E(e,t);case"ADD_NODE_ERROR":return function(e,t){var n=t.payload,r=e.nodeErrors[n.nodeId]||{};r[n.error]={error:n.error,message:n.message,details:null==n?void 0:n.details};var o=m(m({},e.nodeErrors),{},b({},n.nodeId,r));return m(m({},e),{},{nodeErrors:o})}(e,t);case"REMOVE_NODE_ERROR":return function(e,t){var n=t.payload,r=m({},e.nodeErrors);return r[n.nodeId]?(delete r[n.nodeId][n.error],m(m({},e),{},{nodeErrors:r})):e}(e,t);case"RESET_NODE_ERRORS":return function(e,t){var n=t.payload,r=m({},e.nodeErrors);return delete r[n],m(m({},e),{},{nodeErrors:r})}(e,t);case"REMOVE_NODE":return function(e,t){var n=t.payload,r=e.workflow.flow.edges.filter((function(e){return e.source!==n&&e.target!==n})),o=e.workflow.flow.nodes.filter((function(e){return e.id!==n}));return m(m({},e),{},{workflow:m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{nodes:o,edges:r})}),selectedNodes:[],selectedEdges:[]})}(e,t);case"REMOVE_EDGE":return function(e,t){var n=t.payload,r=e.workflow.flow.edges.filter((function(e){return e.id!==n}));return m(m({},e),{},{workflow:m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{edges:r})}),selectedNodes:[],selectedEdges:[]})}(e,t);case"REMOVE_PLACEHOLDER_NODES":return function(e){var t=e.workflow.flow.nodes.filter((function(e){return e.data.elementaryType!==c._o}));return m(m({},e),{},{workflow:m(m({},e.workflow),{},{flow:m(m({},e.workflow.flow),{},{nodes:t})})})}(e);case"SET_DRAGGING_FROM_HANDLE":return function(e,t){var n=t.payload,r=n.sourceId,o=n.handleId,a=n.handleType;return m(m({},e),{},{draggingFromHandle:{sourceId:r,handleId:o,handleType:a}})}(e,t);case"SET_IS_CONNECTING_NODES":return function(e,t){return m(m({},e),{},{isConnectingNodes:t.payload})}(e,t)}return e},actions:o,selectors:r,controls:ct});(0,a.register)(st)},3739:(e,t,n)=>{n.d(t,{Ed:()=>T,Hh:()=>w,IP:()=>F,JA:()=>I,JI:()=>O,K:()=>h,K4:()=>y,LC:()=>g,Nr:()=>S,OX:()=>M,PR:()=>V,Wc:()=>z,Zu:()=>x,cx:()=>A,dV:()=>W,gu:()=>U,nj:()=>L,ts:()=>C,y7:()=>E});var r=n(8566),o=n(7562),a=n(9832),i=n(6123),l=n(1967),c=n(7199);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b="global",v=10;function y(e){e.forEach((function(e){return function(e){document.body.classList.contains(e)||document.body.classList.add(e)}(e)}))}function g(e){e.forEach((function(e){return function(e){document.body.classList.contains(e)&&document.body.classList.remove(e)}(e)}))}function h(e){var t="editor-block-list-item-"+e.replace(/\//,"-").replace(/^core-/,"");return(0,r.applyFilters)("future-pro.getNodeMenuDefaultClassName",t,e)}function w(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).navigator.platform;return-1!==e.indexOf("Mac")||["iPad","iPhone"].includes(e)}function _(e){var t=(0,o.select)(a.M).getNodes(),n=(0,o.select)(a.M).getEdges();return e?(0,l.FB)(e,t,n):[]}function E(e){var t=_(e);if(!t.length)return[];var n=t;return t.forEach((function(e){var t=E(e);n=n.concat(t)})),n}function S(e){var t=_(e);return(null==t?void 0:t.length)>0}function x(e){var t=function(e){var t=(0,o.select)(a.M).getNodes(),n=(0,o.select)(a.M).getEdges();return e?(0,l.RM)(e,t,n):[]}(e);return(null==t?void 0:t.length)>0}function R(e){var t;return(0,o.select)(i.M_).getNodeTypeByName(null==e||null===(t=e.data)||void 0===t?void 0:t.name)}function k(e){return!!e.type&&e.type.startsWith("__dynamic__:")}function O(e){var t=R(e),n=(null==t?void 0:t.outputSchema)||[],r=[];return n.some(k)&&(n=n.filter((function(t){if(k(t)){var n,o=t.type.replace("__dynamic__:","");return null!=e&&null!==(n=e.data)&&void 0!==n&&null!==(n=n.settings)&&void 0!==n&&n[o]&&e.data.settings[o].forEach((function(e){var n=f({},e);n.label=n.label||n.name.charAt(0).toUpperCase()+n.name.slice(1),n.description=n.description||t.description||__("Dynamic output item","post-expiration"),null!=n&&n.value&&(n.type=null==n?void 0:n.value,delete n.value),r.push(n)})),!1}return!0}))),r.length&&(n=n.concat(r)),n}function A(e){var t=_(e),n=[];t.forEach((function(e){if(e){var t=O(e);if(null!=t&&t.length){var r=R(e);t.forEach((function(t){"input"===t.type?A(e).map((function(t){n.push(f(f({},t),{},{name:"".concat(t.name),type:t.type,nodeLabel:r.label,nodeSlug:e.data.slug,priority:(null==t?void 0:t.priority)||v}))})):n.push(f(f({},t),{},{label:"".concat(t.label),name:"".concat(e.data.slug,".").concat(t.name),type:t.type,nodeLabel:r.label,nodeSlug:e.data.slug,priority:(null==t?void 0:t.priority)||v}))}))}}}));var r=n.filter((function(e,t,n){return t===n.findIndex((function(t){return t.name===e.name}))}));return r.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),r.sort((function(e,t){return e.priority-t.priority})),r}function C(e){var t=function(e){var t,n,r=(0,o.select)(i.M_).getNodeTypeByName(null==e||null===(t=e.data)||void 0===t?void 0:t.name);return null!=r&&null!==(n=r.stepScopedVariablesSchema)&&void 0!==n&&n.length?r.stepScopedVariablesSchema.map((function(t){return{name:e.data.slug+"."+t.name,label:t.label,children:[],type:t.type,itemsType:null==t?void 0:t.itemsType,description:null==t?void 0:t.description,nodeSlug:e.data.slug,priority:(null==t?void 0:t.priority)||v,context:null==t?void 0:t.context}})):[]}(e),n=t.map(j);return n.sort((function(e,t){return e.priority-t.priority})),n}function T(e,t){var n=A(e),r=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=e[n];t.push({name:n,type:r.type,label:r.label,source:b,description:r.description,priority:(null==r?void 0:r.priority)||v})})),t.forEach((function(e){e.name="global."+e.name,e.priority=(null==e?void 0:e.priority)||v})),t}(t),o=[].concat(u(n),u(r)).map(j);return o.sort((function(e,t){return e.priority-t.priority})),o}function P(e){return{id:"{{"+e.name+"}}",name:e.name,label:e.label,children:[],type:e.type,itemsType:null==e?void 0:e.itemsType,description:null==e?void 0:e.description,nodeSlug:null==e?void 0:e.nodeSlug,priority:(null==e?void 0:e.priority)||v,context:null==e?void 0:e.context}}function N(e){var t,n=(0,(0,o.select)(a.M).getDataTypeByName)(e.type);return null!=n&&null!==(t=n.propertiesSchema)&&void 0!==t&&t.length?n.propertiesSchema.map((function(t){var r=P({name:e.name+"."+t.name,label:t.label,type:null==t?void 0:t.type,itemsType:null==t?void 0:t.itemsType,description:null==t?void 0:t.description,nodeSlug:null==e?void 0:e.nodeSlug,children:[],priority:(null==t?void 0:t.priority)||v,context:null==t?void 0:t.context});return"object"===n.primitiveType&&(r.children=N(r)),r})):[]}function j(e){var t=(0,(0,o.select)(a.M).getDataTypeByName)(e.type);return k(e=P(e))?e:t?("object"===t.primitiveType&&(e.children=N(e)),e):(console.log("No data type found for variable",e),e)}function D(e,t){var n=!0;return null!=t&&t.length&&((n=t.includes(null==e?void 0:e.name))||(n=t.includes(null==e?void 0:e.primitiveType)),n||"array"!==(null==e?void 0:e.primitiveType)||(n=t.includes(null==e?void 0:e.itemsType))),n}function I(e,t){var n=(0,o.select)(a.M).getDataTypeByName,r=[];return e.forEach((function(e){var o=n(e.type),a=null==e?void 0:e.itemsType,i=D(o,t);if("array"===e.type&&a&&!i){var l=t.map((function(e){return e.startsWith("array:")?e.replace("array:",""):null}));i=D(n(a),l)}var c=null,s=[];"object"===o.primitiveType?(o.propertiesSchema.forEach((function(r){if(D(n(r.type),t)){var o={id:e.name+"."+r.name,name:e.name+"."+r.name,label:e.label+" -> "+r.label};s.push(P(o))}})),c={id:e.id,name:e.label,children:s,type:e.type},i?r.push(c):s.length&&(r=r.concat(s))):i&&r.push({id:e.id,name:e.label,children:[],type:e.type})})),r}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"node",t=((new Date).getTime()-new Date("2024-01-01 00:00:00").getTime()).toString(32);return"".concat(e,"_").concat(t)};function L(e){var t,n=e.item,r=e.position,l=e.reactFlowInstance,s=function(e){var t=(0,o.select)(i.M_).getNodeTypeByName(e.name),n=(0,o.select)(a.M).getBaseSlugCounts(),r=t.baseSlug;r||(r="node"),(0,o.dispatch)(a.M).incrementBaseSlugCounts(r);var l=n[r]||0;return"".concat(r).concat(l+1)}(n),u=(0,o.select)(a.M).getNodes(),d=null!==(t=n.baseSlug)&&void 0!==t?t:"node",p={id:M(d),type:n.type,position:r,data:{name:n.name,elementaryType:n.elementaryType,version:n.version,slug:s,settings:{}}};return n.settingsSchema&&n.settingsSchema.forEach((function(e){e.fields.forEach((function(e){void 0!==e.default&&(p.data.settings[e.name]=e.default)}))})),u=u.filter((function(e){return e.data.elementaryType!==c._o})),(0,o.dispatch)(a.M).setNodes(u.concat(p)),function(e){setTimeout((function(){(0,o.dispatch)(a.M).setEditedWorkflowAttribute("flow",e.toObject())}),400)}(l),p}var F=function(){return{id:M("triggerPlaceholder"),type:"triggerPlaceholder",position:{x:0,y:0},data:{name:"placeholder/trigger",elementaryType:c._o,version:1,slug:"triggerPlaceholder1"}}};function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=(0,o.select)(a.M).getNodes()),t.find((function(t){return t.id===e}))}function V(e,t){var n=e.replace("{{","").replace("}}",""),r=null;return t.forEach((function(t){t.name===n&&(r=t.type),n.startsWith(t.name)&&t.children.length>0&&(r=V(e,t.children))})),r}function U(e,t,n){var r;return null!=e&&null!==(r=e.handleSchema)&&void 0!==r&&r[n]?e.handleSchema[n].reduce((function(e,n){var r;if(null==n||!n.type)return[].concat(u(e),[n]);if(!n.type.startsWith("__dynamic__:"))return e;var o=n.type.replace("__dynamic__:",""),a=null==t||null===(r=t.settings)||void 0===r?void 0:r[o];return[].concat(u(e),u(a.map((function(e){return{id:e.name,label:e.label}}))))}),[]):[]}function z(e){var t=(0,o.select)(a.M).getNodes().find((function(t){return t.id===e}));return U((0,o.select)(i.M_).getNodeTypeByName(t.data.name),t.data,"source").map((function(e){return e.id}))}},2158:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,'.block-editor-block-types-list > [role="presentation"] {\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n',""]);const l=i},217:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".edit-post-sidebar__panel .condition-natural-language {\n    margin-top: 12px;\n    font-family: monospace, monospace;\n    background-color: #f0f0f1;\n    padding: 12px;\n    border-radius: 4px;\n    border: 1px solid #e0e0e1;\n}\n\n.condition-pro-features-notice {\n    font-style: italic;\n    margin-top: 12px;\n}\n\n.ruleGroup {\n    margin: none;\n    background: none;\n    border: none;\n}\n\n.block-editor-inspector-popover-header__heading {\n    font-size: 13px !important;\n    margin-bottom: 16px !important;\n}\n",""]);const l=i},6943:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".components-button svg {\n    height: 100%;\n}\n\n#wpfooter {\n    display: none !important;\n}\n\n.react-flow {\n    width: 100% !important;\n}\n\n.components-menu-items__item-icon.has-icon-right {\n    width: 24px !important;\n    height: 24px !important;\n}\n\n.react-flow__node-default.selectable.selected,\n.react-flow__node-default.selectable:focus,\n.react-flow__node-default.selectable:focus-visible,\n.react-flow__node-input.selectable.selected,\n.react-flow__node-input.selectable:focus,\n.react-flow__node-input.selectable:focus-visible,\n.react-flow__node-output.selectable.selected,\n.react-flow__node-output.selectable:focus,\n.react-flow__node-output.selectable:focus-visible,\n.react-flow__node-group.selectable.selected,\n.react-flow__node-group.selectable:focus,\n.react-flow__node-group.selectable:focus-visible {\n    box-shadow: 0 0 0 2px #1a192b;\n}\n\n/* .react-flow {\n    background-color: #e1e1e1 !important;\n} */\n\n.settings-field-description {\n    font-size: 12px;\n    color: #666;\n    margin-bottom: 15px;\n}\n\n.settings-field-help-popover {\n    font-size: 12px;\n    color: #666;\n    width: 320px;\n    padding: 16px;\n    position: relative;\n    padding-top: 50px;\n}\n\n.settings-field-help-popover button {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n}\n\n.workflow-editor-inspector-card__handles-schema {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: flex-start;\n}\n\n.workflow-editor-inspector-card__handles-schema code {\n    padding: 3px 6px;\n    border-radius: 4px;\n    font-size: 12px;\n    background: #ebebeb;\n    color: #696969;\n}\n\n.workflow-editor-inspector-card__handles-schema h3 {\n    margin-bottom: 4px !important;\n}\n\n.workflow-editor-global-variables-description {\n    font-size: 12px;\n    color: #666;\n    margin-bottom: 15px;\n}\n\n.workflow-editor-global-variables-label {\n    font-size: 11px;\n    font-weight: 500;\n    line-height: 1.4;\n    text-transform: uppercase;\n    display: inline-block;\n    margin-bottom: calc(8px);\n    padding: 0px;\n}\n.workflow-editor-global-var-list {\n    margin: 0;\n    padding: 5px;\n    border: 1px solid var(--wp-components-color-gray-600, #949494);\n}\n\n.workflow-editor-global-var-list ul {\n    list-style: disc;\n    margin-left: 30px;\n}\n\n.workflow-editor-global-var-list ul li {\n    margin-bottom: 0;\n}\n\n.edit-post-editor__inserter-panel-content {\n    height: 100%;\n}\n\n.block-editor-inserter__content {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    height: 100%;\n    overflow-y: hidden;\n    position: relative;\n}\n\n.block-editor-inserter__panel-content {\n    overflow-y: auto;\n}\n\n.interface-interface-skeleton__footer {\n    min-height: 25px;\n    padding: 3px 20px;\n    box-sizing: border-box;\n}\n\n.interface-interface-skeleton__secondary-sidebar {\n    box-shadow: 1px 1px 0 0 rgba(0, 0, 0, .133);\n    outline: 1px solid #0000;\n}\n\n.editor-inserter-sidebar *, .editor-inserter-sidebar :after, .editor-inserter-sidebar :before {\n    box-sizing: inherit;\n}\n",""]);const l=i},8565:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".workflow-editor-dev-info-panel .components-panel__row {\n    overflow: scroll;\n}\n\n.workflow-editor-dev-info-wrapper {\n    min-width: 1000px;\n}\n\n.workflow-editor-dev-panel {\n    background-color: #fffaf1;\n}\n",""]);const l=i},7860:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".components-guide__container {\n    max-width: 312px;\n}\n",""]);const l=i},7448:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".edit-post-editor__inserter-panel-header {\n    display: flex;\n\tjustify-content: flex-end;\n}\n\n@media (min-width: 782px) {\n    .editor-inserter-sidebar__header {\n        display: none;\n    }\n}\n\n.edit-post-header-toolbar .editor-document-tools__left > .edit-post-header-toolbar__inserter-toggle.is-pressed svg {\n    transform: rotate(45deg);\n}\n\n",""]);const l=i},4259:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".edit-post-post-status .components-base-control {\n    flex: auto;\n}\n\n.editor-post-title__panel,\n.editor-post-description__panel {\n    padding-top: 8px;\n}\n\n.editor-post-status__panel {\n    margin-top: 16px;\n    gap: 16px !important;\n}\n\n.editor-post-status__panel button {\n    flex-grow: 1;\n    justify-content: center;\n}\n\n.workflow-editor-element-inspector__warning {\n    background: #fff;\n    display: block;\n    font-size: 13px;\n    padding: 32px 36px;\n    text-align: center;\n    flex-grow: 1;\n    justify-content: center;\n}\n\n\n.workflow-editor-inspector-card {\n    align-items: flex-start;\n    color: #1e1e1e;\n    display: flex;\n    padding: 16px;\n}\n\n.workflow-editor-inspector-card {\n    align-items: flex-start;\n    color: #1e1e1e;\n    display: flex;\n    padding: 16px;\n}\n\n.workflow-editor-inspector-icon {\n    align-items: center;\n    display: flex;\n    height: 24px;\n    justify-content: center;\n    width: 24px;\n}\n\n.workflow-editor-inspector-card .workflow-editor-inspector-icon {\n    flex: 0 0 24px;\n    height: 24px;\n    margin-left: 0;\n    margin-right: 12px;\n    width: 24px;\n}\n\n.workflow-editor-inspector-card {\n    align-items: flex-start;\n    color: #1e1e1e;\n    display: flex;\n    padding: 16px;\n}\n\n.workflow-editor-inspector-card__content {\n    flex-grow: 1;\n}\n\n.workflow-editor-inspector-inspector h2, .workflow-editor-inspector-inspector h3 {\n    color: #1e1e1e;\n    font-size: 13px;\n    margin-bottom: 1.5em;\n}\n\n.interface-complementary-area h2 {\n    color: #1e1e1e;\n    font-size: 13px;\n    margin-bottom: 1.5em;\n}\n\n.workflow-editor-inspector-card__title.workflow-editor-inspector-card__title {\n    font-size: 13px;\n    line-height: 1.4;\n    margin: 0;\n    padding: 3px 0;\n}\n\n\n.workflow-editor-inspector-card__description {\n    display: block;\n    font-size: 13px;\n    line-height: 1.4;\n    margin-top: 4px;\n}\n\n.workflow-editor-inspector-icon.has-colors svg {\n    fill: currentColor;\n}\n\n.workflow-editor-inspector-icon svg {\n    max-height: 24px;\n    max-width: 24px;\n    min-height: 20px;\n    min-width: 20px;\n}\n\n.workflow-editor-validation-notification {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: flex-start;\n}\n\n.workflow-editor-validation-panel .node-icon {\n    margin-right: 5px;\n}\n\n.workflow-editor-validation-notification.workflow-editor-success .node-icon * {\n    color: #46b450;\n}\n\n.workflow-editor-validation-notification.workflow-editor-error .node-icon * {\n    color: #d90f0f;\n}\n\n.edit-post-sidebar__panel .components-h-stack {\n    width: 100%;\n}\n\n.workflow-editor-inspector-card__content table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n    margin-top: 20px;\n}\n\n.workflow-editor-inspector-card__content table th,\n.workflow-editor-inspector-card__content table td {\n    padding: 2px 3px;\n    border: 1px solid #e1e1e1;\n    text-align: left;\n}\n\n.workflow-editor-data-flow-variable ul {\n    margin-left: 40px;\n    margin-top: 6px;\n    margin-bottom: 11px;\n    padding: 2px;\n}\n\n.workflow-editor-data-flow-variable ul li {\n    margin-bottom: 2px;\n    list-style: disc;\n    line-height: 16px;\n}\n\n.workflow-editor-data-flow-variable ul code {\n    max-width: 204px;\n    display: inline-block;\n    overflow: auto;\n    text-wrap: wrap;\n}\n\np.settings-field-description,\np.description {\n    margin-top: -14px !important;\n    font-size: 12px;\n    font-style: normal;\n    color: rgb(117, 117, 117);\n}\n\np.description.margin-top {\n    margin-top: 8px !important;\n}\n\n.components-panel__row .components-base-control {\n    width: 100%;\n}\n\n.components-form-token-field__help {\n    display: none;\n}\n\n.margin-bottom-0 {\n    margin-bottom: 0 !important;\n}\n\n.margin-bottom-0 .components-base-control {\n    margin-bottom: 0 !important;\n}\n\n.margin-top-0 {\n    margin-top: 0 !important;\n}\n\n.workflow-editor-setting-popover .components-popover__content {\n    min-width: 320px;\n    padding: 16px;\n}\n\n\n.workflow-editor-inspector-card__header {\n    justify-content: flex-start !important;\n}\n\n.workflow-editor-inspector-card__content .components-v-stack {\n    margin-bottom: 10px;\n}\n\n.workflow-editor-post-data.hidden-calendar .components-datetime__date {\n    display: none;\n}\n\n.workflow-editor-panel {\n    gap: calc(4px) !important;\n}\n\n.workflow-editor-panel__row {\n    width: 100%;\n}\n\n.workflow-editor-panel__row-label {\n    min-width: 0px;\n    align-items: center;\n    display: flex;\n    flex-shrink: 0;\n    hyphens: auto;\n    line-height: 20px;\n    min-height: 32px;\n    padding: 6px 0;\n    width: 38%;\n}\n\n.workflow-editor-panel__row-control {\n    min-width: 0px;\n    align-items: center;\n    display: flex;\n    flex-grow: 1;\n    min-height: 32px;\n    max-height: 38px;\n    overflow: hidden;\n    word-break: break-word;\n    flex-wrap: wrap;\n    hyphens: auto;\n    line-height: 20px;\n}\n\n.workflow-editor-panel__row-control .components-button.is-tertiary {\n    white-space: normal;\n    height: 38px;\n    text-align: left;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    align-items: center;\n    padding: 4px 8px;\n}\n",""]);const l=i},1578:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".react-flow__node {\n    max-width: 210px;\n}\n\n.react-flow__node-body {\n    border-radius: 8px;\n    color: #171717;\n    font-size: 10px;\n    min-width: 140px;\n    box-sizing: border-box;\n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.react-flow__node-inner-body {\n    padding: 6px;\n    box-sizing: border-box;\n}\n\n.react-flow__node-header {\n    text-align: center;\n    width: 100%;\n    position: relative;\n    text-align: left;\n}\n\n.react-flow__node-header .react-flow__node-label {\n    margin-left: 22px;\n    margin-right: 5px;\n}\n\n.react-flow__node-header .dashicon {\n    margin-right: 4px;\n    position: absolute;\n    left: 2px;\n    top: 2px;\n}\n\n.react-flow__node-header .node-icon {\n    margin-right: 4px;\n    position: absolute;\n    top: 1px;\n    left: 2px;\n}\n\n.react-flow__node-description {\n    font-size: 8px;\n    line-height: 10px;\n    color: #0000008a;\n    margin-top: 0px;\n    margin-left: 16px;\n    padding: 0px 6px;\n    border-radius: 6px;\n    overflow-wrap: break-word;\n    max-width: 140px;\n    margin-bottom: 6px;\n}\n\n.react-flow__node-inner-body.with-description {\n    padding-bottom: 4px;\n}\n\n.react-flow__node-slug {\n    font-size: 8px;\n    display: inline-block;\n    height: 6px;\n    line-height: 6px;\n    padding: 2px;\n    position: absolute;\n    top: 45px;\n    left: 27px;\n}\n\n.react-flow__handle {\n    width: 8px !important;\n    height: 8px !important;\n    box-sizing: border-box;\n}\n\n.react-flow__handle.react-flow__handle-bottom {\n    bottom: -4px !important;\n}\n\n.react-flow__handle.react-flow__handle-top {\n    top: -4px !important;\n}\n\n.react-flow__node-top {\n    font-size: 8px;\n    padding: 0 8px;\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n    border-bottom: 1px solid silver;\n    position: relative;\n    padding-left: 18px;\n}\n\n.react-flow__node-top .publishpress-icon {\n    margin-right: 4px;\n    position: absolute;\n    top: 1px;\n    left: 8px;\n}\n\n.react-flow__node-inserter-popover .components-popover__content {\n    width: 350px;\n}\n\n.react-flow__node-inserter-popover {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n}\n\n.react-flow__node-inserter-popover-content {\n    height: 100%;\n    overflow-y: auto;\n    height: 340px;\n}\n\n.react-flow__node-inserter-popover-close {\n    cursor: pointer;\n    background-color: #000;\n    color: #fff;\n    display: block;\n    width: 100%;\n    padding: 6px;\n    height: 44px;\n}\n\n/* DEFAULT STYLE FOR NODES */\n\n.react-flow__node-genericNode,\n.react-flow__node-genericTrigger,\n.react-flow__node-unknownNode,\n.react-flow__node-genericAction,\n.react-flow__node-genericAdvanced,\n.react-flow__node-queryAction,\n.react-flow__node-debugAction,\n.react-flow__handle {\n    border-width: 1px;\n    border-style: solid;\n}\n\n.react-flow__node-inner-body {\n    border-bottom-width: 1px;\n    border-bottom-style: solid;\n}\n\n/* GENERIC NODE */\n\n.react-flow__node-genericNode {\n    background-color: #b2b2c9;\n    border-color: #b2b2c9;\n}\n\n.react-flow__node-genericNode .react-flow__handle {\n    background-color: #fff;\n    border-color: #b2b2c9;\n}\n\n.react-flow__node-genericNode .react-flow__node-top {\n    border-color: #b2b2c9;\n}\n\n.react-flow__node-genericNode .react-flow__node-slug {\n    color: #b2b2c9;\n}\n\n.react-flow__node-genericNode .react-flow__node-inner-body {\n    border-bottom-color: #b2b2c9;\n}\n\n/* TRIGGER */\n\n.react-flow__node-genericTrigger {\n    background-color: #dce5df;\n    border-color: #b9c0bb;\n}\n\n.react-flow__node-genericTrigger .react-flow__handle {\n    background-color: #fff;\n    border-color: #B594B6;\n}\n\n.react-flow__node-genericTrigger  .react-flow__node-slug {\n    color: #939895;\n}\n\n.react-flow__node-genericTrigger .react-flow__node-top {\n    border-color: #b9c0bb;\n}\n\n.react-flow__node-genericTrigger .react-flow__node-slug {\n    color: #808882;\n}\n\n.react-flow__node-genericTrigger .react-flow__node-inner-body {\n    border-bottom-color: #b9c0bb;\n}\n\n/* GENERIC ACTION */\n\n.react-flow__node-unknownNode {\n    background-color: #afafaf;\n    border-color: #bbbbbb;\n}\n\n.react-flow__node-genericAction {\n    background-color: #89bae4;\n    border-color: #7199bc;\n}\n\n.react-flow__node-unknownNode .react-flow__handle,\n.react-flow__node-genericAction .react-flow__handle {\n    background-color: #fff;\n    border-color: #7199bc;\n}\n\n.react-flow__node-unknownNode .react-flow__node-slug,\n.react-flow__node-genericAction .react-flow__node-slug {\n    color: #8a62be;\n}\n\n.react-flow__node-unknownNode .react-flow__node-top,\n.react-flow__node-genericAction .react-flow__node-top {\n    border-color: #7199bc;\n}\n\n.react-flow__node-unknownNode .react-flow__node-slug,\n.react-flow__node-genericAction .react-flow__node-slug {\n    color: #526e87;\n}\n\n.react-flow__node-genericAction .react-flow__node-inner-body {\n    border-bottom-color: #7199bc;\n}\n\n/* GENERIC ADVANCED */\n\n.react-flow__node-genericAdvanced {\n    background-color: #f8ddad;\n    border-color: #d3bc94;\n}\n\n.react-flow__node-genericAdvanced .react-flow__handle {\n    background-color: #fff;\n    border-color: #d3bc94;\n}\n\n.react-flow__node-genericAdvanced .react-flow__node-slug {\n    color: #b19f80;\n}\n\n.react-flow__node-genericAdvanced .react-flow__node-top {\n    border-color: #d3bc94;\n}\n\n.react-flow__node-genericAdvanced .react-flow__node-slug {\n    color: #908065;\n}\n\n.react-flow__node-genericAdvanced .react-flow__node-inner-body {\n    border-bottom-color: #d3bc94;\n}\n\n/* QUERY ACTION */\n\n.react-flow__node-queryAction {\n    background-color: #d8b6f2;\n    border-color: #b891c2;\n}\n\n.react-flow__node-queryAction .react-flow__handle {\n    background-color: #fff;\n    border-color: #b891c2;\n}\n\n.react-flow__node-queryAction .react-flow__node-slug {\n    color: #9079a1;\n}\n\n.react-flow__node-queryAction .react-flow__node-top {\n    border-color: #b891c2;\n}\n\n.react-flow__node-queryAction .react-flow__node-slug {\n    color: rgb(110, 110, 125);\n}\n\n.react-flow__node-queryAction .react-flow__node-inner-body {\n    border-bottom-color: #b891c2;\n}\n\n/* DEBUG ACTION */\n\n.react-flow__node-debugAction {\n    background-color: #f0aec6;\n    border-color: #cf96ab;\n}\n\n.react-flow__node-debugAction .react-flow__handle {\n    background-color: #fff;\n    border-color: #cf96ab;\n}\n\n.react-flow__node-debugAction .react-flow__node-slug {\n    color: #916877;\n}\n\n.react-flow__node-debugAction .react-flow__node-top {\n    border-color: #cf96ab;\n}\n\n.react-flow__node-debugAction .react-flow__node-inner-body {\n    border-bottom-color: #cf96ab;\n}\n\n/* PLACEHOLDER FOR EMPTY FLOW */\n.react-flow__node-triggerPlaceholderNode {\n    background-color: #fff;\n    border: 1px dashed #d2d2d2;\n    cursor: pointer;\n}\n\n.react-flow__node-triggerPlaceholderNode .react-flow__node-header {\n    display: flex;\n    align-items: center;\n}\n\n.react-flow__node-triggerPlaceholderNode .react-flow__node-header .icon {\n    color: #fff;\n    background-color: #d2d2d2;\n    padding: 2px;\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    box-sizing: border-box;\n    position: relative;\n    border-radius: 1px;\n    margin-right: 6px;\n}\n\n.react-flow__node-triggerPlaceholderNode .react-flow__node-header .icon svg {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 12px;\n    height: 12px;\n}\n\n.react-flow__node-triggerPlaceholderNode .react-flow__node-header .react-flow__node-label {\n    color: #d2d2d2\n}\n\n.react-flow__node-triggerPlaceholderNode .react-flow__node-header {\n    padding-left: 0;\n}\n\n.react-flow__node-triggerPlaceholderNode:hover {\n    border: 1px dashed #aeaeae;\n}\n\n.react-flow__node-triggerPlaceholderNode:hover .react-flow__node-header .icon {\n    background-color: #aeaeae;\n}\n\n.react-flow__node-triggerPlaceholderNode:hover .react-flow__node-header .react-flow__node-label {\n    color: #aeaeae;\n}\n\n.react-flow__node-triggerPlaceholderNode .react-flow__node-inner-body {\n    border-bottom: none;\n}\n\n/* SELECTED NODES */\n.react-flow__node.selected {\n    background-color: transparent;\n}\n\n.react-flow__node.selected .react-flow__node-body {\n    border: 1px dashed #555;\n}\n\n.react-flow__node-genericNode .react-flow__node-slug {\n    color: #b2b2c9;\n}\n\n/* HANDLE AREA */\n\n.react-flow__node-handle-area {\n    font-size: 6px;\n    background-color: #fff;\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n    display: flex;\n    flex-direction: row;\n}\n\n.react-flow__node-handle-name {\n    padding: 4px 2px 6px 2px;\n    text-align: center;\n    line-height: 100%;\n    flex: 1;\n    border-left: 1px solid silver;\n    min-width: 36px;\n}\n\n.react-flow__node-handle-name:first-child {\n    border-left: 0;\n}\n\n/* Node Content */\n.react-flow__node-content {\n    font-size: 6px;\n    margin-top: 6px;\n}\n\n.react-flow__node-content table {\n    border-spacing: 0;\n    width: 100%;\n}\n\n.react-flow__node-content table th {\n    text-align: left;\n}\n\n.react-flow__node-content table th,\n.react-flow__node-content table td {\n    padding: 0 6px;\n    font-size: 6px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n/* Node Markers */\n.react-flow__node-marker-wrapper {\n    position: absolute;\n    top: -17px;\n    right: 0;\n    display: flex;\n    flex-direction: row;\n    gap: 2px;\n    justify-content: right;\n}\n\n.react-flow__node-error,\n.react-flow__node-pro-badge {\n    display: flex;\n    border-radius: 100%;\n    width: 14px;\n    height: 14px;\n    box-sizing: border-box;\n    justify-content: center;\n    vertical-align: middle;\n}\n\n.react-flow__node-pro-badge {\n    background-color: #ffb200;\n    color: #000;\n}\n\n.react-flow__node-pro-badge .node-icon {\n    margin-top: -2px;\n}\n\n.react-flow__node-error {\n    background-color: #d90f0f;\n    color: #fff;\n    font-size: 10px;\n    text-align: center;\n    line-height: 12px;\n    font-family: monospace;\n    font-weight: 900;\n    padding-left: 0px;\n}\n\n.react-flow__node-error .node-icon {\n    margin-top: 2px;\n}\n\nbody.workflow-editor.is-free .react-flow__node-handle-name {\n    color: #838383;\n}\n\nbody.workflow-editor.is-free .react-flow__node-handle-name.handle-area-source-output,\nbody.workflow-editor.is-free .react-flow__node-handle-name.handle-area-source-true {\n    color: #000;\n}\n\n.react-flow__node-top .node-slug {\n    color: #0000008a;\n}\n",""]);const l=i},4143:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".workflow-editor-notices__snackbar-list {\n    position: fixed;\n    bottom: 35px;\n    left: 220px;\n}\n\n.folded .workflow-editor-notices__snackbar-list {\n    left: 92px;\n}\n\n.is-fullscreen-mode .workflow-editor-notices__snackbar-list {\n    left: 60px;\n}\n",""]);const l=i},8501:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".block-editor-block-types-list__item-pro-badge {\n    background-color: #ffb200;\n    color: #000;\n    padding: 3px 8px;\n    border-radius: 4px;\n    font-size: 10px;\n    font-weight: 600;\n    width: 100%;\n}\n.workflow-editor-inspector-card__pro-badge,\n.block-editor-block-card__pro-badge {\n    background-color: #ffb200;\n    color: #000;\n    padding: 3px 8px;\n    border-radius: 4px;\n    font-size: 10px;\n    font-weight: 600;\n}\n\n.workflow-editor-inspector-card__pro-badge,\n.components-popover__content .block-editor-block-card__pro-badge {\n    margin-left: 8px;\n}\n\n.workflow-editor-inspector-card__pro-instructions,\n.block-editor-block-card__pro-instructions {\n    font-size: 12px;\n    color: #757575;\n    margin-top: 8px;\n    line-height: 1.5;\n    font-style: italic;\n    font-weight: 400;\n    border-top: 1px solid #e0e0e0;\n    padding-top: 8px;\n}\n\n.edit-post-header-toolbar__buy-pro {\n    background-color: #ffb200;\n    color: #000;\n    padding: 4px 10px !important;\n    border-radius: 4px;\n}\n\n.edit-post-header-toolbar__buy-pro .publishpress-icon {\n    width: 18px !important;\n    height: 18px !important;\n    margin-right: 4px;\n}\n",""]);const l=i},269:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,"/* .react-flow__node-toolbar {\n    position: absolute;\n    top: -40px;\n    left: 0;\n}\n\n.react-flow__node-toolbar .components-toolbar {\n    height: 30px !important;\n    min-height: 20px;\n}\n\n.react-flow__node-toolbar .components-toolbar > div {\n    min-width: 30px;\n}\n\n.react-flow__node-toolbar button.components-button.components-toolbar__control.has-icon {\n    min-width: 30px !important;\n    height: 30px !important;\n} */\n",""]);const l=i},1461:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".publishpress-future-date-preview .publishpress-future-date-preview-value {\n    font-family: monospace;\n    background-color: #e7e7e7;\n    padding: 4px 6px;\n    display: inline-block;\n    min-width: 140px;\n    min-height: 20px;\n}\n\n.publishpress-future-date-preview.compact .publishpress-future-date-preview-label {\n    display: block;\n}\n\n.publishpress-future-date-preview.compact {\n    margin-bottom: 8px;\n}\n\n.publishpress-future-date-preview.compact h4 {\n    font-size: 11px;\n    font-weight: 500;\n    line-height: 1.4;\n    text-transform: uppercase;\n    display: inline-block;\n    margin-bottom: calc(8px);\n    padding: 0px;\n    flex-shrink: 0;\n    margin-right: 12px;\n    max-width: 75%;\n    margin-top: 0;\n}\n\n.publishpress-future-notice.publishpress-future-notice-error {\n    color: #dc3232;\n}\n",""]);const l=i},8777:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".workflow-editor-panel__row-args-container {\n    gap: 0 !important;\n}\n\n.workflow-editor-panel__row-args {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px;\n}\n\n.workflow-editor-panel__row-args .workflow-editor-panel__row-label {\n    width: 8px;\n}\n\n.workflow-editor-panel__row-args-empty {\n    padding: 8px;\n}\n\n.workflow-editor-panel__row-args-label {\n    font-size: 11px;\n    font-weight: 500;\n    line-height: 1.4;\n    text-transform: uppercase;\n    display: block;\n    margin-bottom: 10px;\n    padding: 0px;\n}\n",""]);const l=i},5503:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".conditional-editor-modal .expression-builder-button {\n    width: 34px !important;\n    padding-top: 10px !important;\n}\n\n.conditional-editor-modal-remove-element {\n    width: 40px !important;\n    height: 40px !important;\n}\n\n.conditional-editor-modal-operator-selector {\n    height: 41px !important;\n    min-height: 40px;\n    margin-top: 7px;\n}\n",""]);const l=i},8409:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".workflow-editor-panel__row-options-container {\n    gap: 0 !important;\n}\n\n.workflow-editor-panel__row-options {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px;\n}\n\n.workflow-editor-panel__row-options .workflow-editor-panel__row-label {\n    width: 8px;\n}\n\n.workflow-editor-panel__row-options-empty {\n    padding: 8px;\n}\n\n.workflow-editor-panel__row-options-label {\n    font-size: 11px;\n    font-weight: 500;\n    line-height: 1.4;\n    text-transform: uppercase;\n    display: block;\n    margin-bottom: 10px;\n    padding: 0px;\n}\n",""]);const l=i},5557:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".columns-container {\n    display: flex;\n    flex-direction: row;\n    border: 1px solid #ccc;\n    overflow-x: auto;\n    white-space: nowrap;\n    max-height: 212px;\n    overflow-y: hidden;\n    overflow-x: scroll;\n}\n\n.column {\n    display: flex;\n    flex-direction: column;\n    min-width: 150px;\n    flex: 0 0 auto;\n    border-right: 1px solid #ccc;\n    overflow-y: scroll;\n    max-height: 212px;\n    min-height: 212px;\n}\n\n.column-item {\n    cursor: pointer;\n    padding: 2px 6px;\n    position: relative;\n    user-select: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    padding-right: 20px;\n}\n\n.column-item.has-children::after {\n    content: '▶';\n    display: inline-block;\n    position: absolute;\n    right: 4px;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #ccc;\n}\n\n.column-item:hover {\n    background: var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9));\n    color: var(--wp-components-color-accent-inverted, #fff);\n    opacity: 0.4;\n}\n\n.selected {\n    background: var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9));\n    color: var(--wp-components-color-accent-inverted, #fff);\n}\n\n.column-item.has-children.selected::after {\n    color: var(--wp-components-color-accent-inverted, #fff);\n}\n\n.column-item.selected:hover {\n    background: var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9));\n    color: var(--wp-components-color-accent-inverted, #fff);\n    opacity: 0.8;\n}\n\n#expression-editor-full {\n    border: 1px solid #ccc;\n    margin-bottom: 10px;\n    margin-top: 10px;\n}\n\n#expression-editor-preview {\n    margin-bottom: 10px;\n    border: 1px solid #ccc;\n}\n\n.ace_editor {\n    border: 1px solid #ccc;\n    margin-bottom: 10px;\n}\n\n.ace_editor.ace_autocomplete {\n    z-index: 999999999;\n    margin-top: 5px;\n    padding-bottom: 5px;\n}\n\n.components-modal__screen-overlay {\n    z-index: 999999998;\n}\n\n.expression-builder {\n    position: relative;\n    width: 100%;\n}\n\n.expression-builder .expression-builder-button {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 24px;\n    padding-top: 4px;\n    width: 24px !important;\n    display: inline-block;\n    min-width: 24px;\n    padding-left: 4px;\n}\n\n.column-item-form {\n    padding: 10px;\n    max-width: 202px;\n}\n\n.column-item-form p {\n    text-wrap: auto;\n}\n\n.expression-builder-variable-name {\n    margin-left: 5px;\n}\n\n.expression-builder-inline {\n    padding-top: 0 !important;\n}\n\n.expression-builder-inline .ace_editor {\n    margin-top: 0 !important;\n    margin-right: 40px !important;\n    margin-bottom: 0 !important;\n    height: 40px !important;\n    width: 300px !important;\n}\n\n.expression-builder-inline > button {\n    top: 0 !important;\n    right: 0 !important;\n    height: 40px !important;\n}\n\n.ace_editor.settings-panel {\n    width: 246px !important;\n    height: 180px !important;\n    margin-top: 10px !important;\n}\n\n.ace_editor.read-only-editor {\n    background-color: #f3f3f3 !important;\n}\n\n.ace_content {\n    top: 5px;\n}\n\n#expression-builder-full .ace_content {\n    top: 0 !important;\n}\n\n.expression-builder .description {\n    margin-top: 10px !important;\n}\n\n.expression-builder-modal .description:last-of-type {\n    min-height: 40px !important;\n    margin-top: 10px !important;\n}\n\n.expression-builder-modal-variables .description code {\n    color: #00458b;\n    margin-left: 0;\n    padding: 5px;\n    font-size: 12px;\n}\n\n.expression-builder .expression-builder-small-heading {\n    font-size: 11px;\n    font-weight: 500;\n    line-height: 1.4;\n    text-transform: uppercase;\n    box-sizing: border-box;\n    display: block;\n    padding-top: 0px;\n    padding-bottom: 0px;\n    max-width: 100%;\n    z-index: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    color: rgb(30, 30, 30);\n    margin-bottom: 15px;\n}\n\n.expression-builder-modal-variables .column-item-step-slug {\n    color: #a3a3a3;\n}\n",""]);const l=i},5931:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".workflow-editor-validation-notification-header {\n    position: relative;\n}\n\n.workflow-editor-validation-notification-details-toggle {\n    cursor: pointer;\n    position: absolute;\n    right: -5px;\n    top: 0;\n}\n\n.workflow-editor-validation-notification-details {\n    margin-top: 10px;\n    margin-left: 20px;\n    color: #555555;\n}\n\n.workflow-editor-validation-notification-message {\n    padding-right: 17px;\n}\n",""]);const l=i},3133:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a),l=n(6943),c=n(2158),s=n(7448),u=n(4259),d=n(1578),p=n(8565),f=n(7860),m=n(269),b=n(4143),v=n(8501),y=n(217),g=i()(o());g.i(l.A),g.i(c.A),g.i(s.A),g.i(u.A),g.i(d.A),g.i(p.A),g.i(f.A),g.i(m.A),g.i(b.A),g.i(v.A),g.i(y.A),g.push([e.id,".reactflow-wrapper {\n    height: 100%;\n}\n\n.components-notice {\n    padding: 0 12px;\n}\n\n.components-notice-list .components-notice__dismiss {\n    margin-top: 12px;\n}\n",""]);const h=g},5695:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".components-checkbox-control.is-checked .components-checkbox-control__label {\n    font-weight: bold;\n}\n\n.queryBuilder-dragHandle {\n    font-size: 18px;\n    color: #9a9a9a;\n}\n\n.queryBuilder-dragHandle:hover {\n    color: #000;\n}\n",""]);const l=i},9922:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(5072),o=n.n(r),a=n(7825),i=n.n(a),l=n(7659),c=n.n(l),s=n(5056),u=n.n(s),d=n(540),p=n.n(d),f=n(1113),m=n.n(f),b=n(1461),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),o()(b.A,v);const y=b.A&&b.A.locals?b.A.locals:void 0}}]);